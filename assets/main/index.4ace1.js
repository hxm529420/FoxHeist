window.__require=function e(t,i,n){function a(o,r){if(!i[o]){if(!t[o]){var c=o.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var h=i[o]={exports:{}};t[o][0].call(h.exports,function(e){return a(t[o][1][e]||e)},h,h.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)a(n[o]);return a}({ActionEx:[function(e,t){"use strict";cc._RF.push(t,"b67d3d/EFNBdpYS2H2Q7zzA","ActionEx"),cc.Shake=cc.Class({name:"cc.Shake",extends:cc.ActionInterval,ctor:function(e,t){void 0!==e&&cc.Shake.prototype.initWithDuration.call(this,e,t,t)},initWithDuration:function(e,t,i){return!!cc.ActionInterval.prototype.initWithDuration.call(this,e)&&(this.m_strength_x=t,this.m_strength_y=i,!0)},clone:function(){},startWithTarget:function(e){cc.ActionInterval.prototype.startWithTarget.call(this,e),this.m_initial_x=e.x,this.m_initial_y=e.y,this.time=0},update:function(e){this.time=this.time+e;var t=Math.sin(1.2*this.time)*this.m_strength_x,i=Math.sin(1.5*this.time)*this.m_strength_y;this.target.setPosition(cc.v2(this.m_initial_x,this.m_initial_y).add(cc.v2(t,i)))},stop:function(){this.target.setPosition(this.m_initial_x,this.m_initial_y),cc.ActionInterval.prototype.stop.call(this)},reverse:function(){}}),cc.shake=function(e,t){return new cc.Shake(e,t)},cc._RF.pop()},{}],AudioConf_520:[function(e,t){"use strict";var i;cc._RF.push(t,"41c32El2PlMlpsqPJ9OlwLD","AudioConf_520"),t.exports=((i={}).bg={sid:1,filepath:"games/game520/audio",filename:"base_bgm",vol:100,isbg:!0},i.jp_lock={sid:1,filepath:"games/game520/audio",filename:"jp_lock",vol:100,isbg:null,des:"\u5956\u6c60\u9501\u97f3\u6548"},i.start={sid:1,filepath:"games/game520/audio",filename:"Effect_start",vol:100,isbg:null},i.bell={sid:1,filepath:"games/game520/audio",filename:"bell",vol:100,isbg:null},i.anti_suc_vo1={sid:1,filepath:"games/game520/audio",filename:"anti_suc_vo1",vol:100,isbg:null},i.anti_suc_vo2={sid:1,filepath:"games/game520/audio",filename:"anti_suc_vo2",vol:100,isbg:null},i.win1={sid:1,filepath:"games/game520/audio",filename:"win1",vol:100,isbg:null},i.win1end={sid:1,filepath:"games/game520/audio",filename:"win1end",vol:100,isbg:null},i),cc._RF.pop()},{}],BonusLayer:[function(e,t){"use strict";cc._RF.push(t,"9ae09SuVZxFBJEwaiJmN9M/","BonusLayer");var i=[1357,2468,6666,8888],n=[[1,3,5,7],[2,4,6,8],[6,6,6,6],[8,8,8,8]],a=cc.Class({extends:cc.Component,properties:{btn_SenceChoose:[cc.Button],senceAni:[sp.Skeleton],qiepingAni:sp.Skeleton,bonusWin:sp.Skeleton,btn_back11:cc.Button,bounsbackAni:sp.Skeleton},onLoad:function(){},init:function(e,t,i){this.m_parent=e,this.callback=t;for(var n=0;n<3;n++)this.btn_SenceChoose[n].node.on("click",this.OnButtonClickedToSelectSceneEvent.bind(this,n),this);this.InitAni(i),this.SceneNum=-1,this.winScore=0,this.gostNum=0,this.mima=0,this.clickMima=-1,this.jiangchiName=-1,this.jiangchiAudio="",this.SceneComplete=!1,this.CreateBNScene()},RecoverScene:function(e,t,i,n,a,s){var o=setInterval(function(){if(this.SceneComplete){for(var r=0;r<3;r++)this.btn_SenceChoose[r].node.active=!1;this.SceneNum=e-1,this.SwitchBNScene(this.SceneNum),this.ShowBNScene(),this.winScore=this.winScore+a,this.win_text.getComponent(cc.Label).string=Help.FormatScore2(this.winScore);for(var c=0;c<16;c++)if(1===i[c]){this.BNSceneBtnList[this.SceneNum][c].off("click",this.OnButtonClickedGoodsEvent,this);var l=cc.fadeOut(0);this.BNSceneBtnList[this.SceneNum][c].runAction(l)}else this.BNSceneBtnList[this.SceneNum][c].on("click",this.OnButtonClickedGoodsEvent,this);this.gostNum=s,this.gostNum>0&&(this.bonus_gost_List[this.gostNum].color=new cc.Color(255,255,255)),255!=t&&0!=t&&(this.SetjiangchiAni(n),this.mima=t,setTimeout(function(){this.Node_BaoXianXiang.active=!0,this.Jackpot_node.setPosition(0,-81);var e=cc.moveTo(1,cc.v2(0,0)).easing(cc.easeElasticOut(.35));this.Jackpot_node.runAction(e),this.BaoXianXiangskeleton=this.Node_BaoXianXiang.getChildByName("baoxianxiang").getComponent(sp.Skeleton),this.BaoXianXiangskeleton.node.active=!0,this.BaoXianXiangskeleton.setAnimation(0,"animation1",!1),this.bonus_s_frame.setScale(0);var t=cc.scaleTo(1,1).easing(cc.easeElasticOut(.35)),i=cc.callFunc(function(){for(var e=0;e<4;e++)this.MiMaZhiSkeletonList[e]=this.bonus_s_frame.getChildByName("mimazhi_"+Number(e+1)).getComponent(sp.Skeleton),this.MiMaZhiSkeletonList[e].node.active=!0,this.MiMaZhiSkeletonList[e].setAnimation(0,"animation2",!0)}.bind(this));this.bonus_s_frame.runAction(cc.sequence(i,t))}.bind(this),300)),clearInterval(o)}}.bind(this),100)},OnButtonClickedToSelectSceneEvent:function(e){for(var t=this,i=function(i){i==e?(t.senceAni[i].setAnimation(0,"animation"+Number(i+1)+"_5",!1),t.senceAni[i].setCompleteListener(function(){t.senceAni[i].paused=!0}.bind(t))):(t.senceAni[i].paused=!0,t.senceAni[i].setAnimation(0,"animation"+Number(i+1)+"_1",!1),t.senceAni[i].node.color=new cc.Color(77,77,77)),t.btn_SenceChoose[i].node.active=!1},n=0;n<3;n++)i(n);t.m_parent._gameCtrl.requestSenceChoose(e),t.SwitchBNScene(e),t.SceneNum=e},InitAni:function(e){0!=e&&(this.senceAni[3].setAnimation(0,"animation4_2",!1),this.senceAni[3].setCompleteListener(function(){this.senceAni[3].setAnimation(0,"animation4_3",!0)}.bind(this)),this.senceAni[0].setAnimation(0,"animation1_2",!1),this.senceAni[0].setCompleteListener(function(){this.senceAni[0].setAnimation(0,"animation1_3",!0)}.bind(this)),this.senceAni[1].setAnimation(0,"animation2_2",!1),this.senceAni[1].setCompleteListener(function(){this.senceAni[1].setAnimation(0,"animation2_3",!0)}.bind(this)),this.senceAni[2].setAnimation(0,"animation3_2",!1),this.senceAni[2].setCompleteListener(function(){this.senceAni[2].setAnimation(0,"animation3_3",!0)}.bind(this)))},PlayQiePingAni:function(){for(var e=0;e<4;e++)this.senceAni[e].node.removeFromParent();setTimeout(function(){this.ShowBNScene()}.bind(this),1e3),this.qiepingAni.node.removeFromParent(),this.m_parent.node.addChild(this.qiepingAni.node,501),this.qiepingAni.node.active=!0,this.qiepingAni.setAnimation(0,"animation",!1),this.qiepingAni.setCompleteListener(function(){setTimeout(function(){this.qiepingAni.node.active=!1,this.qiepingAni.node.removeFromParent();for(var e=0;e<16;e++)this.BNSceneBtnList[this.SceneNum][e].on("click",this.OnButtonClickedGoodsEvent,this)}.bind(this),1e3)}.bind(this))},PlayBonusWinAni:function(){var e=function(){this.bonusWin.node.active=!1,this.btn_back.active=!1,this.btn_back11.node.active=!1,setTimeout(function(){this.bonusWin.node.removeFromParent()}.bind(this),1e3),this.m_parent.RemoveBonusLayer(this.callback)}.bind(this);Help.getRandomInt(1,20),this.bonusWin.node.active=!0,this.bonusWin.node.removeFromParent(),this.m_parent.node.addChild(this.bonusWin.node,501),this.bonusWin.setAnimation(0,"animation1",!1),this.bonusWin.setCompleteListener(function(){this.bonusWin.setAnimation(0,"animation2",!1),this.btn_back11.node.on("click",e,this),this.btn_back.active=!0,this.btn_back.on("click",e,this);var t=this.btn_back11.node.getChildByName("bmFont");Help.scorllNumber(t,0,this.winScore,1,function(e,t){e.getComponent(cc.Label).string=Help.FormatScore2(t)}),this.bonusWin.paused=!0}.bind(this))},CreateGoods:function(e,t,i){var n=cc.fadeOut(.5);if(this.BNSceneBtnList[this.SceneNum][i].runAction(n),1==e){var a=new cc.Node("bmFont");a.addComponent(cc.Label),this.BNScene.addChild(a,1e3);var s=this.BNSceneBtnList[this.SceneNum][i].parent.convertToWorldSpaceAR(cc.v2(this.BNSceneBtnList[this.SceneNum][i].x,this.BNSceneBtnList[this.SceneNum][i].y)),o=this.BNScene.convertToNodeSpaceAR(s);a.setPosition(o),a.setScale(.5),cc.resources.load("games/game520/font/theme276_font_jp",cc.Font,function(e,i){if(e)cc.log(e);else{a.getComponent(cc.Label).font=i,a.getComponent(cc.Label).string=Help.FormatScore2(t);var n=cc.moveTo(.5,cc.v2(this.win_text.x,this.win_text.y)),s=cc.callFunc(function(){a.active=!1;var e=this.winScore;this.winScore=this.winScore+t;var i=this.winScore;Help.scorllNumber(this.win_text,e,i,.5,function(e,t){e.getComponent(cc.Label).string=Help.FormatScore2(t)})}.bind(this));a.runAction(cc.sequence(n,s))}}.bind(this))}else if(2==e){this.mima=t;var r=new cc.Node("BaoXianXiangSpr");r.addComponent(cc.Sprite),this.BNScene.addChild(r,1e3);var c=this.BNSceneBtnList[this.SceneNum][i].parent.convertToWorldSpaceAR(cc.v2(this.BNSceneBtnList[this.SceneNum][i].x,this.BNSceneBtnList[this.SceneNum][i].y)),l=this.BNScene.convertToNodeSpaceAR(c);r.setPosition(l),cc.resources.load("games/game520/texture/pick/theme276_bonus_pick_safe_s",cc.SpriteFrame,function(e,t){r.getComponent(cc.Sprite).spriteFrame=t,r.setScale(0);var i=cc.scaleTo(1,1).easing(cc.easeElasticOut(.35));r.runAction(i)}.bind(this)),setTimeout(function(){r.removeFromParent(),this.Node_BaoXianXiang.active=!0,this.Jackpot_node.setPosition(0,-81);var e=cc.moveTo(1,cc.v2(0,0)).easing(cc.easeElasticOut(.35));this.Jackpot_node.runAction(e),this.BaoXianXiangskeleton=this.Node_BaoXianXiang.getChildByName("baoxianxiang").getComponent(sp.Skeleton),this.BaoXianXiangskeleton.node.active=!0,this.BaoXianXiangskeleton.setAnimation(0,"animation1",!1),this.bonus_s_frame.setScale(0);var t=cc.scaleTo(1,1).easing(cc.easeElasticOut(.35)),i=cc.callFunc(function(){for(var e=0;e<4;e++)this.MiMaZhiSkeletonList[e]=this.bonus_s_frame.getChildByName("mimazhi_"+Number(e+1)).getComponent(sp.Skeleton),this.MiMaZhiSkeletonList[e].node.active=!0,this.MiMaZhiSkeletonList[e].setAnimation(0,"animation2",!0)}.bind(this));this.bonus_s_frame.runAction(cc.sequence(i,t))}.bind(this),1e3)}else if(3==e){this.gostNum=this.gostNum+1;var h=new cc.Node("gost");h.addComponent(cc.Sprite),this.BNScene.addChild(h,1e3);var u=this.BNSceneBtnList[this.SceneNum][i].parent.convertToWorldSpaceAR(cc.v2(this.BNSceneBtnList[this.SceneNum][i].x,this.BNSceneBtnList[this.SceneNum][i].y)),d=this.BNScene.convertToNodeSpaceAR(u);h.setPosition(d),cc.resources.load("games/game520/texture/pick/theme276_bonus_gost",cc.SpriteFrame,function(e,t){h.getComponent(cc.Sprite).spriteFrame=t}.bind(this));var m=cc.moveTo(1,cc.v2(this.bonus_gost_List[this.gostNum].x,this.bonus_gost_List[this.gostNum].y)),p=cc.callFunc(function(){h.active=!1,this.bonus_gost_List[this.gostNum].color=new cc.Color(255,255,255),this.gostNum>=2&&this.PlayBonusWinAni()}.bind(this));h.runAction(cc.sequence(m,p))}},CreateBNScene:function(){cc.resources.load("games/game520/prefab/BonusScenceLayer_Node",cc.Prefab,function(e,t){if(e)cc.log(e);else{this.SceneComplete=!0,this.BNScene=cc.instantiate(t),this.m_parent.node.addChild(this.BNScene,500),this.BNScene.active=!1,this.BNSceneList=[],this.BNSceneBtnList=[[],[],[]];for(var i=0;i<3;i++){this.BNSceneList[i]=this.BNScene.getChildByName("Node_"+Number(i+1));for(var n=0;n<16;n++)this.BNSceneBtnList[i][n]=this.BNSceneList[i].getChildByName("bg_pick").getChildByName("btn_"+Number(n+1)),this.BNSceneBtnList[i][n]._tag=n,this.BNSceneBtnList[i][n].on("click",this.OnButtonClickedGoodsEvent,this),this.BNSceneBtnList[i][n].off("click",this.OnButtonClickedGoodsEvent,this)}this.win_text=this.BNScene.getChildByName("win_text"),this.win_text.getComponent(cc.Label).string=Help.FormatScore2(this.winScore),this.win_text.setScale(.4),this.bonus_gost_List=[],this.bonus_gost_List[1]=this.BNScene.getChildByName("bonus_gost_1"),this.bonus_gost_List[1].color=new cc.Color(77,77,77),this.bonus_gost_List[2]=this.BNScene.getChildByName("bonus_gost_2"),this.bonus_gost_List[2].color=new cc.Color(77,77,77),this.btn_back=this.BNScene.getChildByName("btn_back"),this.btn_back.active=!1,this.pick_your_treasure=this.BNScene.getChildByName("pick_your_treasure"),this.Node_BaoXianXiang=this.BNScene.getChildByName("Node_BaoXianXiang"),this.Node_BaoXianXiang.active=!1,this.Jackpot_node=this.Node_BaoXianXiang.getChildByName("Jackpot_node"),this.JackpotTextList=[],this.JackpotKuang=[],this.Jackpottitle=[];for(var a=0;a<4;a++)this.JackpotTextList[a]=this.Jackpot_node.getChildByName("JackpotText_"+Number(a+1)),this.SetJackpot(a,this.m_parent.JackpotNum[a]),this.JackpotKuang[a]=this.Jackpot_node.getChildByName("Image_"+Number(a+1)),this.Jackpottitle[a]=this.Jackpot_node.getChildByName("title_"+Number(a+1)),this.JackpotKuang[a].spin=this.JackpotKuang[a].getChildByName("gaoliang_jiangchi").getComponent(sp.Skeleton),this.JackpotKuang[a].spin.setAnimation(0,"animation"+Number(a+1),!0),this.JackpotKuang[a].spin.node.active=!1;this.SetjiangchiAni(this.m_parent._gameCtrl.gameModel_520._UnlockRewardID),this.bonus_s_frame=this.Node_BaoXianXiang.getChildByName("bonus_s_frame"),this.btn_pass_List=[],this.MiMaZhiSkeletonList=[];for(var s=0;s<4;s++)this.btn_pass_List[s]=this.bonus_s_frame.getChildByName("btn_pass_"+Number(s+1)),this.btn_pass_List[s]._tag=s,this.btn_pass_List[s].on("click",this.OnButtonClickedMiMaZhiEvent,this);this.pick2_bg=this.Node_BaoXianXiang.getChildByName("pick2_bg"),this.pick2_bg.active=!1,this.mimaNum_text_list=[];for(var o=0;o<4;o++)this.mimaNum_text_list[o]=this.pick2_bg.getChildByName("mimaNum_text_"+Number(o+1)),this.mimaNum_text_list[o].getComponent(cc.Label).string="";this.pick2_btn_List=[];for(var r=0;r<9;r++)this.pick2_btn_List[r]=this.pick2_bg.getChildByName("pick2_btn_"+Number(r+1))}}.bind(this))},KaiBaoXianXiang:function(e,t){this.CheckMiMaZhi(this.clickMima,t-1),setTimeout(function(){this.SetjiangchiAniName(t),this.BaoXianXiangskeleton.setAnimation(0,"animation2",!0),this.bonus_s_frame.setScale(1);var i=cc.scaleTo(.2,0),a=cc.callFunc(function(){this.bonus_s_frame.active=!1,this.pick2_bg.setScale(0),this.pick2_bg.active=!0;var i=cc.scaleTo(.2,1),a=cc.callFunc(function(){setTimeout(function(){for(var i=this,a=function(a){setTimeout(function(){this.mimaNum_text_list[a].getComponent(cc.Label).string=n[t-1][a],cc.resources.load("games/game520/texture/pick/theme276_pick2_btn_2",cc.SpriteFrame,function(i,s){i?cc.log(i):(this.pick2_btn_List[n[t-1][a]-1].getComponent(cc.Sprite).spriteFrame=s,setTimeout(function(){cc.resources.load("games/game520/texture/pick/theme276_pick2_btn",cc.SpriteFrame,function(i,s){i?cc.log(i):(this.pick2_btn_List[n[t-1][a]-1].getComponent(cc.Sprite).spriteFrame=s,3===a&&setTimeout(function(){this.JackpotKuang[t-1].spin.node.active=!0,this.pick2_bg.active=!1,this.BaoXianXiangskeleton.setAnimation(0,this.jiangchiName,!1),this.BaoXianXiangskeleton.setCompleteListener(function(){var t=cc.fadeOut(2),i=cc.callFunc(function(){this.Node_BaoXianXiang.active=!1;var t=new cc.Node("bmFont");t.addComponent(cc.Label),this.BNScene.addChild(t,1e3),cc.resources.load("games/game520/font/theme276_font_jp",cc.Font,function(i,n){if(i)cc.log(i);else{t.getComponent(cc.Label).font=n,t.getComponent(cc.Label).string=Help.FormatScore2(e),t.setPosition(667,173),t.setScale(.5);var a=cc.moveTo(.5,cc.v2(this.win_text.x,this.win_text.y)),s=cc.callFunc(function(){t.active=!1;var i=this.winScore;this.winScore=this.winScore+e;var n=this.winScore;Help.scorllNumber(this.win_text,i,n,1,function(e,t){e.getComponent(cc.Label).string=Help.FormatScore2(t)}.bind(this))}.bind(this));t.runAction(cc.sequence(a,s))}}.bind(this))}.bind(this));this.Node_BaoXianXiang.runAction(cc.sequence(t,i))}.bind(this))}.bind(this),1e3))}.bind(this))}.bind(this),300))}.bind(this))}.bind(i),500*a)},s=0;s<4;s++)a(s)}.bind(this),1e3)}.bind(this));this.pick2_bg.runAction(cc.sequence(i,a))}.bind(this));this.bonus_s_frame.runAction(cc.sequence(i,a))}.bind(this),2e3)},SetjiangchiAniName:function(e){1===e||0===e?(this.jiangchiName="animation6",this.jiangchiAudio="mini_dia"):2===e?(this.jiangchiName="animation5",this.jiangchiAudio="minor_dia"):3===e?(this.jiangchiName="animation4",this.jiangchiAudio="major_dia"):4===e&&(this.jiangchiName="animation3",this.jiangchiAudio="grand_dia")},SetjiangchiAni:function(e){var t=this;if(0!=e)for(var i=function(i){e>=i?(cc.resources.load("games/game520/font/theme_font_base_jp1",cc.Font,function(e,t){e?cc.log(e):this.JackpotTextList[i].getComponent(cc.Label).font=t}.bind(t)),cc.resources.load("games/game520/texture/base/theme276_jp1_frame",cc.SpriteFrame,function(e,t){e?cc.log(e):(this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame=t,this.JackpotKuang[i].getComponent(cc.Sprite).type=cc.Sprite.Type.SLICED,this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame.insetTop=24,this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame.insetBottom=24,this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame.insetLeft=26,this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame.insetRight=26)}.bind(t)),cc.resources.load("games/game520/texture/base/title_"+Number(i+1),cc.SpriteFrame,function(e,t){e?cc.log(e):this.Jackpottitle[i].getComponent(cc.Sprite).spriteFrame=t}.bind(t))):(cc.resources.load("games/game520/font/theme_font_base_jp2",cc.Font,function(e,t){e?cc.log(e):this.JackpotTextList[i].getComponent(cc.Label).font=t}.bind(t)),cc.resources.load("games/game520/texture/base/theme276_jp1_frame_lock",cc.SpriteFrame,function(e,t){e?cc.log(e):(this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame=t,this.JackpotKuang[i].getComponent(cc.Sprite).type=cc.Sprite.Type.SLICED,this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame.insetTop=24,this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame.insetBottom=24,this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame.insetLeft=26,this.JackpotKuang[i].getComponent(cc.Sprite).spriteFrame.insetRight=26)}.bind(t)),cc.resources.load("games/game520/texture/base/title_lock_"+Number(i+1),cc.SpriteFrame,function(e,t){e?cc.log(e):this.Jackpottitle[i].getComponent(cc.Sprite).spriteFrame=t}.bind(t)))},n=0;n<4;n++)i(n);else for(var a=function(e){cc.resources.load("games/game520/font/theme_font_base_jp2",cc.Font,function(t,i){t?cc.log(t):this.JackpotTextList[e].getComponent(cc.Label).font=i}.bind(t)),cc.resources.load("games/game520/texture/base/theme276_jp1_frame_lock",cc.SpriteFrame,function(t,i){t?cc.log(t):(this.JackpotKuang[e].getComponent(cc.Sprite).spriteFrame=i,this.JackpotKuang[e].getComponent(cc.Sprite).type=cc.Sprite.Type.SLICED,this.JackpotKuang[e].getComponent(cc.Sprite).spriteFrame.insetTop=24,this.JackpotKuang[e].getComponent(cc.Sprite).spriteFrame.insetBottom=24,this.JackpotKuang[e].getComponent(cc.Sprite).spriteFrame.insetLeft=26,this.JackpotKuang[e].getComponent(cc.Sprite).spriteFrame.insetRight=26)}.bind(t)),cc.resources.load("games/game520/texture/base/title_lock_"+Number(e+1),cc.SpriteFrame,function(t,i){t?cc.log(t):this.Jackpottitle[e].getComponent(cc.Sprite).spriteFrame=i}.bind(t))},s=0;s<4;s++)a(s)},CheckMiMaZhi:function(e,t){for(var n=Help.deepClone(i),a=0;a<4;a++)this.btn_pass_List[a].active=!1;this.MiMaZhiSkeletonList[e].setAnimation(0,"animation3",!1);var s=new cc.Node("bmFont");s.addComponent(cc.Label),this.MiMaZhiSkeletonList[e].node.addChild(s),cc.resources.load("games/game520/font/theme276_font_bonus_password",cc.Font,function(e,i){if(e)cc.log(e);else{s.getComponent(cc.Label).font=i,s.getComponent(cc.Label).string=n[t],s.setScale(0);var a=cc.scaleTo(.5,1);s.runAction(a),n.splice(t,1)}}.bind(this)),this.MiMaZhiSkeletonList[e].setCompleteListener(function(){for(var t=this,i=this,a=function(a){if(a!=e){i.MiMaZhiSkeletonList[a].setAnimation(0,"animation3",!1);var s=new cc.Node("bmFont");s.addComponent(cc.Label),i.MiMaZhiSkeletonList[a].node.addChild(s),cc.resources.load("games/game520/font/theme276_font_bonus_password",cc.Font,function(e,t){if(e)cc.log(e);else{s.getComponent(cc.Label).font=t,s.getComponent(cc.Label).string=n[0],s.setScale(0);var o=cc.scaleTo(.5,1);s.runAction(o),i.MiMaZhiSkeletonList[a].node.color=new cc.Color(77,77,77),n.splice(0,1)}}.bind(t))}},s=0;s<4;s++)a(s)}.bind(this))},SetJackpot:function(e,t){this.JackpotTextList[e].getComponent(cc.Label).string=Help.FormatScore2(t,2)},SwitchBNScene:function(e){for(var t=0;t<3;t++)this.BNSceneList[t].active=t==e},ShowBNScene:function(){this.BNScene.active=!0},OnButtonClickedGoodsEvent:function(){this.m_parent._gameCtrl.requestRewardChoose(arguments[0].node._tag),this.pick_your_treasure.active=!1;for(var e=0;e<16;e++)this.BNSceneBtnList[this.SceneNum][e].off("click",this.OnButtonClickedGoodsEvent,this);setTimeout(function(){for(var e=0;e<16;e++)this.BNSceneBtnList[this.SceneNum][e].on("click",this.OnButtonClickedGoodsEvent,this)}.bind(this),1e3)},OnButtonClickedMiMaZhiEvent:function(){this.clickMima=arguments[0].node._tag,this.m_parent._gameCtrl.requestMailBoxReward(this.mima)}});t.exports=a,cc._RF.pop()},{}],EnterGameScenceCommand:[function(e,t){"use strict";cc._RF.push(t,"4c4e18xBgFDaZ3cneMDOGLo","EnterGameScenceCommand"),t.exports=puremvc.define({parent:puremvc.SimpleCommand},{execute:function(t,i){var n=t,a=this.facade.retrieveProxy("GameProxy");null!=a&&this.facade.removeProxy("GameProxy");var s=e("Game_"+n+"_Proxy");this.facade.addProxy(new s),a=this.facade.retrieveProxy("GameProxy");var o=this.facade.retrieveProxy("GameTableProxy");null!=o&&this.facade.removeProxy("GameTableProxy");var r=e("GameTableProxy");this.facade.addProxy(new r),o=this.facade.retrieveProxy("GameTableProxy"),this.facade.registerProxy(),o.registerNetInterface(i,n),a.registerNetInterface(i,n)}},{NAME:"EnterGameScenceCommand"}),cc._RF.pop()},{GameTableProxy:"GameTableProxy"}],Fillbackground:[function(e,t){"use strict";cc._RF.push(t,"c65dbBwjgxGjJQ7Gu27qtMg","Fillbackground"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,function(){var e=cc.view.getFrameSize(),t=cc.view.getDesignResolutionSize(),i={real_size:{}},n=e.width/e.height;n>=t.width/t.height?(i.real_size.h=t.height,i.real_size.w=t.height*n):(i.real_size.h=t.width/n,i.real_size.w=t.width);var a=cc.director.getScene().getChildByName("Fillbackground");a.setScale(4),a.setContentSize(i.real_size.w,i.real_size.h)})},start:function(){}}),cc._RF.pop()},{}],FishFacade:[function(e,t){"use strict";cc._RF.push(t,"76c0aANHeFDt74oxjOkHFwF","FishFacade");var i=e("FishStartUpCommand"),n=puremvc.define({parent:puremvc.Facade,constructor:function(e){puremvc.Facade.call(this,e),this.isInit=!1}},{initializeModel:function(){puremvc.Facade.prototype.initializeModel.call(this)},initializeView:function(){puremvc.Facade.prototype.initializeView.call(this)},initializeController:function(){puremvc.Facade.prototype.initializeController.call(this),this.registerCommand(FishConstants.START_UP,i)},startup:function(){this.isInit||(this.sendNotification(FishConstants.START_UP),this.isInit=!0)}},{getInstance:function(e){var t=puremvc.Facade.instanceMap,i=t[e];return i||(t[e]=new n(e))},NAME:"FishFacade"});t.exports=n.getInstance("FishFacade"),cc._RF.pop()},{FishStartUpCommand:"FishStartUpCommand"}],FishGlobalDataProxy:[function(e,t){"use strict";cc._RF.push(t,"0b221ImR9tIVrgruH8+dSVU","FishGlobalDataProxy");var i=e("FishGlobalData");t.exports=puremvc.define({parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this)}},{setFishApp:function(e){return i.fishApp=e,e},getFishApp:function(){return i.fishApp},setGameLobbyApp:function(e){return i.gameLobbyApp=e,e},getGameLobbyApp:function(){return i.gameLobbyApp},getLogonSuccessData:function(){return i.logonSuccessData},setLogonSuccessData:function(e){return i.logonSuccessData=e},getGameServerInfo:function(){return i.GameServerInfo},setFishServerIpPort:function(e,t){i.fishServerIp=e,i.fishServerPort=t},getFishServerPort:function(){return i.fishServerPort},getFishServerIp:function(){return i.fishServerIp},getFishGameKind:function(){return i.fishGameKind},setUserInfo:function(e,t){i.account=e,i.password=t},getUserId:function(){return i.userId},setUserId:function(e){i.userId=e},getAccount:function(){return i.account},getPassword:function(){return i.password},setTableId:function(e){i.tableId=e},setChairId:function(e){i.chairId=e},getTableId:function(){return i.tableId},getChairId:function(){return i.chairId},getWXUserInfo:function(){return i.wxUserInfo},setWXUserInfo:function(e,t,n,a,s,o){var r=i.wxUserInfo;r.headImgUrl=e,r.openId=t,r.session_key=n,r.unionId=a,r.gender=s,r.nickName=o},getNickName:function(){return i.wxUserInfo.nickName||i.account},getHeadImgUrl:function(){return i.wxUserInfo.headImgUrl},getOpenId:function(){return i.wxUserInfo.openId},getUnionId:function(){return i.wxUserInfo.unionId},setNewUserGuideStep:function(e){i.newUserGuideStep=e},getNewUserGuideStep:function(){return i.newUserGuideStep},setInviteUserID:function(e){i.InviteUserID=e},getInviteUserID:function(){return i.InviteUserID},setNewUserWelfareLayerData:function(e){i.newUserWelfareLayerData=e},getNewUserWelfareLayerData:function(){return i.newUserWelfareLayerData},setNewUserMissionLayerData:function(e){i.newUserMissionLayerData=e},getNewUserMissionLayerData:function(){return i.newUserMissionLayerData}},{NAME:"FishGlobalDataProxy"}),cc._RF.pop()},{FishGlobalData:"FishGlobalData"}],FishGlobalData:[function(e,t){"use strict";cc._RF.push(t,"c4e1aQhIQdBipcfJQzUIGrM","FishGlobalData"),t.exports={tableId:65535,chairId:65535,fishServerPort:null,fishServerIp:null,fishGameKind:151,fishApp:null,gameLobbyApp:null,userId:-1,password:"",account:"",wxUserInfo:{headImgUrl:"",openId:"",session_key:"",unionId:"",gender:0,nickName:""},newUserGuideStep:100,InviteUserID:0,GameServerInfo:{},logonSuccessData:{},newUserWelfareLayerData:null,newUserMissionLayerData:null},cc._RF.pop()},{}],FishPrepControllerCommand:[function(e,t){"use strict";cc._RF.push(t,"6107enVkN9KypV/ARMSZWAl","FishPrepControllerCommand");var i=e("GameLobbyLoginCommand"),n=e("EnterGameScenceCommand"),a=e("GameTableCommand"),s=e("GameCommand");t.exports=puremvc.define({parent:puremvc.SimpleCommand},{execute:function(){this.facade.registerCommand(FishConstants.LOGIN_LOBBY,i),this.facade.registerCommand(FishConstants.ENTER_GAME_SCENCE,n),this.facade.registerCommand(FishConstants.GAME_TABLE_COMMAND,a),this.facade.registerCommand(FishConstants.GAME_COMMAND,s)}},{NAME:"FishPrepControllerCommand"}),cc._RF.pop()},{EnterGameScenceCommand:"EnterGameScenceCommand",GameCommand:"GameCommand",GameLobbyLoginCommand:"GameLobbyLoginCommand",GameTableCommand:"GameTableCommand"}],FishPrepModelCommand:[function(e,t){"use strict";cc._RF.push(t,"3375fvDZNxFa4N20TxXpq2M","FishPrepModelCommand");var i=e("FishGlobalDataProxy"),n=e("GameLobbyLoginProxy"),a=e("GameListDataProxy");t.exports=puremvc.define({parent:puremvc.SimpleCommand},{execute:function(){this.facade.addProxy(new i),this.facade.addProxy(new n),this.facade.addProxy(new a),this.facade.registerProxy()}},{NAME:"FishPrepModelCommand"}),cc._RF.pop()},{FishGlobalDataProxy:"FishGlobalDataProxy",GameListDataProxy:"GameListDataProxy",GameLobbyLoginProxy:"GameLobbyLoginProxy"}],FishStartUpCommand:[function(e,t){"use strict";cc._RF.push(t,"e36cblHPh5HnY+s1Y/YmKM0","FishStartUpCommand");var i=e("FishPrepModelCommand"),n=e("FishPrepControllerCommand");t.exports=puremvc.define({parent:puremvc.MacroCommand},{initializeMacroCommand:function(){this.addSubCommand(i),this.addSubCommand(n)}},{NAME:"FishStartUpCommand"}),cc._RF.pop()},{FishPrepControllerCommand:"FishPrepControllerCommand",FishPrepModelCommand:"FishPrepModelCommand"}],GameCommand:[function(e,t){"use strict";cc._RF.push(t,"51f09z2xwJFd7e/6vcOIko+","GameCommand"),t.exports=puremvc.define({parent:puremvc.SimpleCommand},{execute:function(){var e=this.facade.retrieveProxy("GameProxy");switch(arguments[0]){case"startSpin":e.startSpin();break;case"onGetNoticeReady":e.onGetNoticeReady();break;case"stopSpin":e.stopSpin();break;case"autoSpin":e.autoSpin(arguments[1]);break;case"subBet":e.subBet();break;case"addBet":e.addBet();break;case"maxBet":e.maxBet();break;default:cc.log("\u672a\u77e5\u547d\u4ee4")}}},{NAME:"GameCommand"}),cc._RF.pop()},{}],GameHelpLayer:[function(e,t){"use strict";cc._RF.push(t,"1adbb288Q1KQpKGc/r6WqPD","GameHelpLayer");var i=e("gameUIManager");cc.Class({extends:cc.Component,properties:{pageView:{default:null,type:cc.PageView},btnBack:{default:null,type:cc.Button},btn_left:{default:null,type:cc.Button},btn_right:{default:null,type:cc.Button}},init:function(){},onLoad:function(){this.btnBack.node.on("click",this.BackButtonClickEvent,this),this.pageView.setCurrentPageIndex(0),this.btn_left.node.on("click",this.LeftButtonClickEvent,this),this.btn_right.node.on("click",this.RightButtonClickEvent,this)},BackButtonClickEvent:function(){this.node.kindId?new i(this.node.kindId).closeUI(this.node.viewId):cc.log("the kindId is null")},LeftButtonClickEvent:function(){0==this.pageView.getCurrentPageIndex()?this.pageView.scrollToPage(5):this.pageView.scrollToPage(this.pageView.getCurrentPageIndex()-1)},RightButtonClickEvent:function(){5==this.pageView.getCurrentPageIndex()?this.pageView.scrollToPage(0):this.pageView.scrollToPage(this.pageView.getCurrentPageIndex()+1)},onDestroy:function(){}}),cc._RF.pop()},{gameUIManager:"gameUIManager"}],GameListDataProxy:[function(e,t){"use strict";cc._RF.push(t,"2fe59CoujtIRoqwXpPC4n9a","GameListDataProxy");var i=e("GameListData");t.exports=puremvc.define({parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this)}},{GetGameItemInfo:function(e){for(var t=0,n=i.GameItmeList.length;t<n;t++)if(i.GameItmeList[t].wKindID==e)return i.GameItmeList[t];return null},SetGameItem:function(e){for(var t=0,n=e.length;t<n;t++)e[t].wKindID>0&&(itemfind=this.GetGameItemInfo(e[t].wKindID),null==itemfind&&i.GameItmeList.push(e[t]));return e},GetGameItmeList:function(){return i.GameItmeList}},{NAME:"GameListDataProxy"}),cc._RF.pop()},{GameListData:"GameListData"}],GameListData:[function(e,t){"use strict";cc._RF.push(t,"a340cnCo7xOAaaz9B9QTfyX","GameListData"),t.exports={GameItmeList:[]},cc._RF.pop()},{}],GameLobbyLoginCommand:[function(e,t){"use strict";cc._RF.push(t,"85183hhDhZI+ov44MXqWbok","GameLobbyLoginCommand"),t.exports=puremvc.define({parent:puremvc.SimpleCommand},{execute:function(e,t){var i=this.facade.retrieveProxy("FishGlobalDataProxy"),n=this.facade.retrieveProxy("GameLobbyLoginProxy");if(null==i.getGameLobbyApp()||!i.getGameLobbyApp().socket){var a=KBEngine.createApp();a.wssAddr=LobbyServerAddr,i.setGameLobbyApp(a),n.registerNetInterface(a),console.log("GameLobbyLoginCommand reconnect",e,t),i.setUserInfo(e,t),n.loginLobby(channelPlatformName,e,t)}}},{NAME:"GameLobbyLoginCommand"}),cc._RF.pop()},{}],GameLobbyLoginProtocol:[function(e,t){"use strict";cc._RF.push(t,"4983amOD/xDwY3Fera1jLZ1","GameLobbyLoginProtocol"),constVal.CMD_FRIST_MDM_GAME=1e3,constVal.CMD_FRIST_MDM_PLAZA=2e3,constVal.MDM_GP_LOGON=constVal.CMD_FRIST_MDM_PLAZA+100,constVal.SUB_GP_LOGON_ACCOUNTS=2,constVal.SUB_GP_LOGON_PHONENUM=8,constVal.SUB_GP_LOGON_SUCCESS=100,constVal.SUB_GP_LOGON_FINISH=102,constVal.SUB_GP_LOGON_ERROR=101,constVal.SUB_GP_H5_REGISTER_ACCOUNTS=3,constVal.MDM_GP_SERVER_LIST=constVal.CMD_FRIST_MDM_PLAZA+101,constVal.SUB_GP_LIST_TYPE=100,constVal.SUB_GP_LIST_KIND=100,constVal.SUB_GP_LIST_SERVER=101,constVal.SUB_GP_LIST_LUA_GAME=103,constVal.SUB_GP_LIST_FINISH=200,constVal.TYPE_LEN=32,constVal.KIND_LEN=32,constVal.STATION_LEN=32,constVal.SERVER_LEN=32,constVal.MODULE_LEN=32,constVal.MDM_KN_COMMAND=0,constVal.SUB_KN_DETECT_SOCKET=1,constVal.NAME_LEN=32,constVal.PASS_LEN=33,constVal.URL_LEN=256;var i={};i.CMD_GP_LogonByAccounts={mainCmdID:constVal.MDM_GP_LOGON,subCmdID:constVal.SUB_GP_LOGON_ACCOUNTS,argTypes:[{name:"dwPlazaVersion"},{name:"dwPlazaResVersion"},{name:"szAccounts"},{name:"szPassword"},{name:"szChannel"},{name:"cbDeviceType"},{name:"szMachineID"},{name:"szSystemVersion"},{name:"szSystemLanguage"},{name:"szSystemModel"},{name:"szSystemBrand"}],write2bundle:function(e,t){e.writeUint32(t[0]),e.writeUint32(t[1]),e.writeString(t[2],2*constVal.NAME_LEN),e.writeString(t[3],2*constVal.PASS_LEN),e.writeString(t[4],2*constVal.NAME_LEN),e.writeUint8(t[5]),e.writeString(t[6],128),e.writeString(t[7],40),e.writeString(t[8],40),e.writeString(t[9],128),e.writeString(t[10],128)},size:function(){return 9+2*(constVal.NAME_LEN+constVal.NAME_LEN+constVal.PASS_LEN+192+40)}},i.CMD_GP_LogonByPhoneNum={mainCmdID:constVal.MDM_GP_LOGON,subCmdID:constVal.SUB_GP_LOGON_PHONENUM,argTypes:[{name:"dwPlazaVersion"},{name:"dwPlazaResVersion"},{name:"szChannel"},{name:"szPhoneNum"},{name:"szCode"},{name:"cbDeviceType"},{name:"szMachineID"},{name:"szSystemVersion"},{name:"szSystemLanguage"},{name:"szSystemModel"},{name:"szSystemBrand"}],write2bundle:function(e,t){e.writeUint32(t[0]),e.writeUint32(t[1]),e.writeString(t[2],2*constVal.NAME_LEN),e.writeString(t[3],40),e.writeString(t[4],16),e.writeUint8(t[5]),e.writeString(t[6],128),e.writeString(t[7],40),e.writeString(t[8],40),e.writeString(t[9],128),e.writeString(t[10],128)},size:function(){return 9+2*(constVal.NAME_LEN+20+8+192+40)}},i.CMD_GP_LogonSuccess={mainCmdID:constVal.MDM_GP_LOGON,subCmdID:constVal.SUB_GP_LOGON_SUCCESS,argTypes:[{name:"wFaceID"},{name:"cbGender"},{name:"dwUserID"},{name:"dwGameID"},{name:"szAccount"},{name:"szNickName"},{name:"szToken"},{name:"szUnderWrite"},{name:"szSession"},{name:"lUserScore"},{name:"lDiamond"},{name:"lLpValues"},{name:"lTicket"},{name:"dwLoginType"},{name:"dwVipLv"},{name:"dwVipPoint"},{name:"dwClubPoint"},{name:"lExperience"},{name:"dwCurExLevel"},{name:"dwNextExPoint"},{name:"lNextExScore"},{name:"szExtend"}],createFromStream:function(e,t){var i=e.readUint16(),n=e.readUint8(),a=e.readUint32(),s=e.readUint32(),o=e.readStringUTF8(2*constVal.NAME_LEN),r=e.readStringUTF8(2*constVal.NAME_LEN),c=e.readStringUTF8(2*constVal.PASS_LEN),l=e.readStringUTF8(64),h=e.readStringUTF8(2*constVal.PASS_LEN),u=e.readInt64().lo,d=e.readInt64().lo,m=e.readInt64().lo,p=e.readInt64().lo,_=e.readUint32(),g=e.readUint32(),f=e.readUint32(),S=e.readUint32(),b=e.readInt64().lo,C=e.readUint32(),y=e.readInt64().lo,v=e.readUint32(),I=e.readStringUTF8(256);t.push(i,n,a,s,o,r,c,l,h,u,d,m,p,_,g,f,S,b,C,y,v,I)}},i.CMD_GP_LobbyServerAddr={mainCmdID:constVal.MDM_GP_LOGON,subCmdID:constVal.SUB_GP_LOGON_FINISH,argTypes:[{name:"szServerAddr"}],createFromStream:function(e,t){var i=e.readString(256);t.push(i)}},i.CMD_GP_LogonError={mainCmdID:constVal.MDM_GP_LOGON,subCmdID:constVal.SUB_GP_LOGON_ERROR,argTypes:[{name:"lErrorCode",type:"UINT32"},{name:"szErrorDescribe"}],createFromStream:function(e,t){var i=e.readInt32(),n=e.readStringUTF8(256);t.push(i,n)}},i.tagGameType={mainCmdID:constVal.MDM_GP_SERVER_LIST,subCmdID:constVal.SUB_GP_LIST_TYPE,argTypes:[{name:"wSortID",type:"UINT16"},{name:"wTypeID",type:"UINT16"},{name:"szTypeName",type:"STRING_GBK",len:constVal.TYPE_LEN}],createFromStream:function(e,t){var i=e.readUint16(),n=e.readUint16(),a=e.readString(constVal.TYPE_LEN);t.push(i,n,a)}},i.tagGameKind={mainCmdID:constVal.MDM_GP_SERVER_LIST,subCmdID:constVal.SUB_GP_LIST_KIND,argTypes:[{name:"wSortID",type:"UINT16"},{name:"wTypeID",type:"UINT16"},{name:"wKindID",type:"UINT16"},{name:"dwMaxVersion",type:"UINT32"},{name:"dwOnLineCount",type:"UINT32"},{name:"szKindName",type:"STRING_GBK",len:constVal.KIND_LEN},{name:"szProcessName",type:"STRING_GBK",len:constVal.MODULE_LEN}],createFromStream:function(e,t){var i=e.readUint16(),n=e.readUint16(),a=e.readUint16(),s=e.readUint32(),o=e.readUint32(),r=e.readString(constVal.KIND_LEN),c=e.readString(constVal.MODULE_LEN);t.push(i,n,a,s,o,r,c)}},i.tagLuaGameKind={mainCmdID:constVal.MDM_GP_SERVER_LIST,subCmdID:constVal.SUB_GP_LIST_LUA_GAME,argTypes:[{name:"wKindID",type:"UINT16"},{name:"szKindName",type:"STRING",len:constVal.KIND_LEN},{name:"wTypeID",type:"UINT16"},{name:"wSortID",type:"UINT16"},{name:"dwClientVersion",type:"UINT32"},{name:"dwResVersion",type:"UINT32"},{name:"cbNullity",type:"UINT8"},{name:"szExtend",type:"STRING",len:256}],createFromStream:function(e,t){for(var i=[],n=0;n<(e.buffer.byteLength-8)/591;n++)item={},item.wKindID=e.readUint16(),item.szKindName=e.readStringUTF8(2*constVal.KIND_LEN),item.wTypeID=e.readUint16(),item.wSortID=e.readUint16(),item.dwClientVersion=e.readUint32(),item.dwResVersion=e.readUint32(),item.cbNullity=e.readUint8(),item.szExtend=e.readStringUTF8(512),520==item.wKindID&&i.push(item);t.push(i)}},i.tagGameServer={mainCmdID:constVal.MDM_GP_SERVER_LIST,subCmdID:constVal.SUB_GP_LIST_SERVER,argTypes:[{name:"wSortID",type:"UINT16"},{name:"wKindID",type:"UINT16"},{name:"wServerID",type:"UINT16"},{name:"wStationID",type:"UINT16"},{name:"wServerPort",type:"UINT16"},{name:"dwOnLineCount",type:"UINT32"},{name:"szServerAddr",type:"STRING",len:256},{name:"szServerName",type:"STRING_GBK",len:constVal.SERVER_LEN}],createFromStream:function(e,t){var i=e.readUint16(),n=e.readUint16(),a=e.readUint16(),s=e.readUint16(),o=e.readUint16(),r=e.readUint32(),c=e.readString(256),l=e.readString(constVal.SERVER_LEN);t.push(i,n,a,s,o,r,c,l)}},i.listFinish={mainCmdID:constVal.MDM_GP_SERVER_LIST,subCmdID:constVal.SUB_GP_LIST_FINISH,argTypes:[],createFromStream:function(){}},i.CMD_GP_H5RegisterAccounts={mainCmdID:constVal.MDM_GP_LOGON,subCmdID:constVal.SUB_GP_H5_REGISTER_ACCOUNTS,argTypes:[{name:"lChannelID"},{name:"szHeadImgUrl",type:"STRING",len:constVal.URL_LEN},{name:"dwOpenID"},{name:"dwUnionID"},{name:"szAccounts",type:"STRING",len:constVal.NAME_LEN},{name:"szPassWord",type:"STRING",len:constVal.PASS_LEN},{name:"cbSex",type:"UINT8"},{name:"linviteUserID"},{name:"cbsystem",type:"UINT8"},{name:"szNickname",type:"STRING",len:constVal.NAME_LEN}],write2bundle:function(e,t){e.writeUint32(t[0]),e.writeString(t[1],constVal.URL_LEN),e.writeString(t[2],48),e.writeString(t[3],48),e.writeString(t[4],constVal.NAME_LEN),e.writeString(t[5],constVal.PASS_LEN),e.writeUint8(t[6]),e.writeUint32(t[7]),e.writeUint32(t[8]),e.writeString(t[9],constVal.NAME_LEN)},size:function(){return 12+constVal.URL_LEN+48+48+constVal.NAME_LEN+constVal.PASS_LEN+1+constVal.NAME_LEN}},t.exports={constVal:constVal,datatypes:i},cc._RF.pop()},{}],GameLobbyLoginProxy:[function(e,t){"use strict";cc._RF.push(t,"a0f98SffwBGt7rupbwW6T4z","GameLobbyLoginProxy");var i=e("GameLobbyLoginProtocol").datatypes;t.exports=puremvc.define({parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this)}},{onRegister:function(){this._globalData=this.facade.retrieveProxy("FishGlobalDataProxy"),this._gameListData=this.facade.retrieveProxy("GameListDataProxy")},registerNetInterface:function(e){this.app=e;var t=this.app.net;t.registerClient(this,"loginLobby",i.CMD_GP_LogonByPhoneNum),t.registerClient(this,"register",i.CMD_GP_H5RegisterAccounts),t.registerServer(this,"loginSuccess",i.CMD_GP_LogonSuccess),t.registerServer(this,"loginFinish",i.CMD_GP_LobbyServerAddr),t.registerServer(this,"loginError",i.CMD_GP_LogonError),t.registerServer(this,"gpLuaGameKind",i.tagLuaGameKind),t.registerServer(this,"gpListType",i.tagGameType),t.registerServer(this,"gpListKind",i.tagGameKind),t.registerServer(this,"gpListServer",i.tagGameServer),t.registerServer(this,"gpListFinish",i.listFinish)},register:function(e,t){var i=this.app,n=this._globalData.getWXUserInfo(),a=n.headImgUrl,s=n.openId,o=n.unionId,r=n.gender,c=n.nickName,l=this._globalData.getInviteUserID();i.net.callServer("register",channelID,a,s,o,e,t,r,l,ChannelPlatformType,c)},loginLobby:function(){this._globalData.getInviteUserID();var t=this.app;t.connect(function(){t.net.callServer("loginLobby",1,1,channelID.toString(),"17604010279","1233",1,"test","test","test","test","test"),heartbeat.startHeartbeat(function(){var t=e("FishFacade"),i=t.retrieveProxy("FishGlobalDataProxy").getAccount(),n=t.retrieveProxy("FishGlobalDataProxy").getPassword();t.sendNotification(FishConstants.LOGIN_LOBBY,i,n)}),t.setOncloseCallback(function(){heartbeat.connected=!1})})},loginSuccess:function(e){cc.log("logonSuccess",JSON.stringify(e)),this._globalData.setLogonSuccessData(e),this._globalData.setUserId(e.dwUserID),cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&e.szUnionID&&e.szUnionID.length>5&&this._globalData.setUserInfo(e.szUnionID,e.szUnionID)},loginFinish:function(e){cc.log("logonFinish",e),this._globalData.getAccount(),this._globalData.getPassword(),hideExchangeRedPacket2},loginError:function(e,t){var i=this._globalData.getAccount(),n=this._globalData.getPassword();cc.log("logonError",e,t),101==e?this.register(i,n):(KBEngine.destroyApp(this.app),cc.director.loadScene("GameLobbyLoginScene"))},gpLuaGameKind:function(e){cc.log("gpLuaGameKind:",e),this._gameListData.SetGameItem(e)},gpListType:function(e){cc.log("gpListType",e)},gpListKind:function(e){cc.log("gpListKind",e)},gpListServer:function(e){cc.log("gpListServer",e);var t=this._globalData.getFishGameKind();e.wKindID===t&&(this._globalData.getGameServerInfo()[e.wServerID]=e,this._globalData.setFishServerIpPort(e.szServerAddr,e.wServerPort))},gpListFinish:function(){cc.log("gpListFinish"),cc.log("enter game"+this._gameListData.GetGameItmeList()[0].wKindID),this.sendNotification(FishConstants.ENTER_GAME_SCENCE,this._gameListData.GetGameItmeList()[0],this.app),cc.director.loadScene("GameLoadingScene_"+this._gameListData.GetGameItmeList()[0].wKindID),this._globalData.getAccount(),this._globalData.getPassword()}},{NAME:"GameLobbyLoginProxy"}),cc._RF.pop()},{FishFacade:"FishFacade",GameLobbyLoginProtocol:"GameLobbyLoginProtocol"}],GameLobbyLoginUI:[function(e,t){"use strict";cc._RF.push(t,"9c4bfTLJsxN9YCm9d6TnYUV","GameLobbyLoginUI");var i=e("FishFacade"),n=e("i18n");cc.requestLoginResult=function(e){if(e){var t=cc.loader.getXMLHttpRequest();t.open("POST",PayServerAddr+"wx_Nativelogin",!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(t.responseText);i.sendNotification(FishConstants.ON_GameLobbyLoginUI_Nativelogin,e)}},t.timeout=5e3,t.send(JSON.stringify({code:e}))}},cc.LoginResult=function(e){hideFirstPay=!0,i.sendNotification(FishConstants.ON_GameLobbyLoginUI_Nativelogin,{ChannelID:100,openid:e,unionid:e})},cc.openTipResult=function(){},cc.Class({extends:cc.Component,properties:{loginUI:{default:null,type:cc.Node},loginUINative:{default:null,type:cc.Node},progressBar:cc.ProgressBar,progressBarNode:cc.Node,psLogo:{default:null,type:cc.Node},YXZL:{default:null,type:cc.Node},versionlabel:{default:null,type:cc.Label},info:cc.Label,manifestUrl:{type:cc.Asset,default:null},_updating:!1,_canRetry:!1,_storagePath:""},onLoad:function(){var e=window.location.href.split("?")[1];e&&e.split("&").forEach(function(e){var t=e.split("=");"member_account"==t[0]?t[1]:"token"==t[0]&&t[1]});var t=cc.view.getFrameSize(),n=t.width/t.height;n>2.6625||n<1136/960?(cc.view.setDesignResolutionSize(1136,640,cc.ResolutionPolicy.SHOW_ALL),this.node.addComponent(cc.Mask)):n<1.775?cc.view.setDesignResolutionSize(1136,640,cc.ResolutionPolicy.FIXED_WIDTH):cc.view.setDesignResolutionSize(1136,640,cc.ResolutionPolicy.FIXED_HEIGHT),i.registerMediator(this),cc.sys.isBrowser&&function(){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){var i=e[t].split("=");if("channelID"==i[0])return i[1]}}(),this.onLoadNative()},listNotificationInterests:function(){return[{evtType:FishConstants.LOGIN_LOBBY_FINISH,callback:this.loginFinish},{evtType:FishConstants.ON_GameLobbyLoginUI_Nativelogin,callback:this.Nativelogin}]},Nativelogin:function(e){console.log("Nativelogin",JSON.stringify(e)),e.ChannelID&&(channelID=e.ChannelID);var t=e.openid,i=e.unionid,a=t,s=t;this.wxGameLogin("",t,"",i,0,n.t("GameLobbyLoginUI.1")+a.substr(a.length-5,5),a,s)},onDestroy:function(){i.removeMediator(this.name),this.onDestroyNative()},start:function(){if(cc.sys.isBrowser){var e=function(){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){var i=e[t].split("=");if("channelID"==i[0])return i[1]}return!1}();if(e){if(!(e>=3001&&e<4e3))return void(this.loginUI.active=!1);channelID=e}}cc.sys.isNative,this.onLoadRes(),this.onLogin()},onLoadRes:function(){var e=this;this.progressBarNode.active=!0,this.loginUI.active=!1,cc.resources.loadDir("loadRes",cc.Prefab,function(t,i){e.progressBar.progress=t/i,t==i&&(e.progressBarNode.active=!1,cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS?e.loginUINative.active=!0:e.loginUI.active=!0)},function(){})},onLogin:function(){(new Date).getTime()-onLoginTimeInterval<3e3||(onLoginTimeInterval=(new Date).getTime(),cc.sys.platform==cc.sys.WECHAT_GAME?this.onWxLogin():cc.sys.platform==cc.sys.ANDROID?this.onWxLoginAndroid():4==PlatformID&&i.sendNotification(FishConstants.LOGIN_LOBBY,111111111,222222222222))},onWxLogin:function(){var e=this;wx.login({success:function(t){t.code?wx.request({url:PayServerAddr+"wx_login",data:{code:t.code,channelID:channelID,ChannelPlatformType:ChannelPlatformType},header:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},success:function(t){var i=t.data.openid,a=t.data.unionid,s=t.data.session_key;t.data.clientVersionVX&&t.data.clientVersionVX>=645?t.data.IosShow&&t.data.IosShow:(hideExchangeRedPacket2=!0,hideExchangeRedPacket=!0),t.data.ChannelID&&(channelID=t.data.ChannelID),t.data.wxSmallProgramPayWxappid&&(wxSmallProgramPayWxappid=t.data.wxSmallProgramPayWxappid,3==t.data.wxSmallProgramPayWxappid&&2==ChannelPlatformType&&(hideShopBuy=!0));var o=i,r=i;e.wxGameLogin("",i,s,a,0,n.t("GameLobbyLoginUI.1")+o.substr(o.length-5,5),o,r)},fail:function(e){console.error(e),console.log("login fail")},complete:function(){console.log("login comlete")}}):(console.error("login failed, didnt catch code"),wx.getRealtimeLogManager&&wx.getRealtimeLogManager().error("loginFail",t))},fail:function(e){console.error("wxGameLogin wx.login error"+e),wx.getRealtimeLogManager&&wx.getRealtimeLogManager().error("loginFail2",e)},complete:function(){console.log("wx.longin complete")}})},onWxLoginAndroid:function(){cc.sys.platform==cc.sys.ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","requestLogin","()V")},wxGameLogin:function(e,t,n,a,s,o,r,c){console.log("wxGameLogin"),o=confUtil.setUserNameLabel(o),i.retrieveProxy("FishGlobalDataProxy").setWXUserInfo(e,t,n,a,s,o),i.sendNotification(FishConstants.LOGIN_LOBBY,r,c)},loginFinish:function(){cc.director.loadScene("GameLobbyScene")},updateCb:function(e){if(cc.sys.isNative){var t=!1,i=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.info.string="No local manifest file found, hot update skipped.",i=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this.progressBar.progress=e.getPercent();var n=e.getMessage();n&&(this.info.string="Updated file: "+n);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.info.string="Fail to download manifest file, hot update skipped.",i=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.info.string="Already up to date with the latest remote version.",this.info.string="\u7248\u672c\u53f7\uff1a"+clientVersion,i=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.info.string="Update finished. "+e.getMessage(),t=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.info.string="Update failed. "+e.getMessage(),this._updating=!1,this._canRetry=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this.info.string="Asset update error: "+e.getAssetId()+", "+e.getMessage();break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.info.string=e.getMessage()}if(i&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1,this.loginUI.active=!0,this.progressBarNode.active=!1),t){this._am.setEventCallback(null),this._updateListener=null;var a=jsb.fileUtils.getSearchPaths(),s=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(s)),Array.prototype.unshift.apply(a,s),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(a)),jsb.fileUtils.setSearchPaths(a),cc.audioEngine.stopAll(),cc.game.restart()}}},hotUpdate:function(){if(cc.sys.isNative&&this._am&&!this._updating){if(this._updateListener=!0,this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this._am.loadLocalManifest(e)}this._failCount=0,this._am.update(),this._updating=!0,this.info.string="\u68c0\u67e5\u66f4\u65b0"}},onLoadNative:function(){if(cc.sys.isNative){this._storagePath=jsb.fileUtils?jsb.fileUtils.getWritablePath():"/",cc.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(e,t){cc.log("JS Custom Version Compare: version A is "+e+", version B is "+t);for(var i=e.split("."),n=t.split("."),a=0;a<i.length;++a){var s=parseInt(i[a]),o=parseInt(n[a]||0);if(s!==o)return s-o}return n.length>i.length?-1:0},this._am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle);var e=this;this._am.setVerifyCallback(function(t,i){var n=i.compressed,a=i.md5,s=i.path;return i.size,n?(e.info.string="Verification passed : "+s,!0):(e.info.string="Verification passed : "+s+" ("+a+")",!0)}),cc.sys.os===cc.sys.OS_ANDROID&&this._am.setMaxConcurrentTask(2),this.progressBar.progress=0}},onDestroyNative:function(){cc.sys.isNative&&this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)}}),cc._RF.pop()},{FishFacade:"FishFacade",i18n:"i18n"}],GameLobbyProtocol:[function(e,t){"use strict";cc._RF.push(t,"9944bJ2A6dFibdi0pjGf/t2","GameLobbyProtocol"),constVal.CMD_FRIST_MDM_LOBBY=4e3,constVal.MDM_GL_LOBBY=constVal.CMD_FRIST_MDM_LOBBY+1,constVal.SUB_GL_LOBBY_MSG=4;var i={};i.tagLobbyMessage={mainCmdID:constVal.MDM_GL_LOBBY,subCmdID:constVal.SUB_GL_LOBBY_MSG,argTypes:[{name:"wMessageType"},{name:"wMessageLength"},{name:"szContent"}],size:function(){return 204},write2bundle:function(e,t){e.writeUint16(1),e.writeUint16(200),e.writeString(t[0],200)},createFromStream:function(e,t){var i=e.readUint16(),n=e.readUint16(),a=e.readStringUTF8(n);t.push(i,n,a)}},constVal.MDM_KN_COMMAND=0,constVal.SUB_KN_DETECT_SOCKET=1,constVal.SUB_KN_DETECT_ONLINE=2,i.CMD_KN_DetectSocket={mainCmdID:constVal.MDM_KN_COMMAND,subCmdID:constVal.SUB_KN_DETECT_SOCKET,size:function(){return 8},write2bundle:function(e,t){e.writeUint32(t[0]),e.writeUint32(t[1])}},t.exports={constVal:constVal,datatypes:i},cc._RF.pop()},{}],GameProtocol:[function(e,t){"use strict";cc._RF.push(t,"79f28KYgR1DE50dDt+ayM9k","GameProtocol");var i={};constVal.constVal_FRIST_MDM_GAME=1e3,constVal.MDM_GF_GAME=constVal.constVal_FRIST_MDM_GAME+200,constVal.MAX_LINE_COUNT=20,constVal.ITEM_X_COUNT=5,constVal.MAX_BET_COUNT=12,constVal.MAX_REWARD_POOL_INDEX=4,constVal.GAME_SCENE_FREE=0,constVal.GAME_SCENE_WAIT=100,constVal.GAME_SCENE_PLAY=101,constVal.GAME_SCENE_STOP=102,i.CMD_S_StatusFree={createFromStream:function(e){var t={};t.lCellScore=e.readInt64().lo,t.cbBetIndex=e.readUint8(),t.cbBetCount=e.readUint8(),t.lBetScoreArr=[];for(var i=0;i<constVal.MAX_BET_COUNT;i++){var n=e.readInt64().lo;t.lBetScoreArr.push(n)}t.lLotteryScore=e.readInt64().lo,t.bUnlockRewardID=e.readUint8(),t.RewardPoolArr=[];for(var a=0;a<constVal.MAX_REWARD_POOL_INDEX;a++){var s=e.readInt64().lo;t.RewardPoolArr.push(s)}return t}},i.CMD_S_StatusPlay={createFromStream:function(e){var t={};t.lCellScore=e.readInt64().lo,t.cbBetCount=e.readUint8(),t.lBetScoreArr=[];for(var i=0;i<constVal.MAX_BET_COUNT;i++){var n=e.readInt64().lo;t.lBetScoreArr.push(n)}t.cbLineCount=e.readUint8(),t.cbBetIndex=e.readUint8(),t.lLineScore=[];for(var a=0;a<constVal.MAX_LINE_COUNT;a++)t.lLineScore.push(e.readInt64().lo);t.cbItemType=[];for(var s=0;s<constVal.MAX_LINE_COUNT;s++)t.cbItemType.push(e.readUint8());t.cbItemLineCount=[];for(var o=0;o<constVal.MAX_LINE_COUNT;o++)t.cbItemLineCount.push(e.readUint8());t.ItemInfo=[];for(var r=0;r<3;r++){t.ItemInfo[r]=[];for(var c=0;c<constVal.ITEM_X_COUNT;c++)t.ItemInfo[r].push(e.readUint8())}t.nGiveAwayCount=e.readUint32(),t.nTotalGiveAwayCount=e.readUint32(),t.cbFreeSpinState=e.readUint8(),t.dUserTotalWinScore=e.readInt64().lo,t.lTotalGameScore=e.readInt64().lo,t.lLotteryScore=e.readInt64().lo,t.bCanBn=e.readUint8(),t.bVerifyMailBox=e.readUint8(),t.bUnlockRewardID=e.readUint8(),t.bBnSenceId=e.readUint8(),t.bRewardGoodsNum=e.readUint8(),t.bRewardGoodChoose=[];for(var l=0;l<20;l++)t.bRewardGoodChoose.push(e.readUint8());return t.llRewardNum=e.readInt64().lo,t.bSkullNum=e.readUint8(),t}},i.CMD_S_Scence_Stop={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.GAME_SCENE_STOP,argTypes:[],createFromStream:function(){}},constVal.SUB_C_GAME_START=100,constVal.SUB_C_GIVE_AWAY_START=101,constVal.SUB_C_GAME_CONCLUDE=102,constVal.SUB_C_SENCE_CHOOSE=103,constVal.SUB_C_REWARD_CHOOSE=104,constVal.SUB_C_MAILBOX_REWARD=105,constVal.SUB_C_BET_REWARDPOOL=106,i.CMD_C_GAME_AWAY_START={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_C_GIVE_AWAY_START,argTypes:[],size:function(){return 0},write2bundle:function(){}},i.CMD_C_GameStart={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_C_GAME_START,argTypes:[{name:"cbLineCount",type:"UINT8"},{name:"cbBetIndex",type:"UINT8"}],size:function(){return 2},write2bundle:function(e,t){e.writeUint8(t[0]),e.writeUint8(t[1])}},i.CMD_GF_Game_Conclude={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_C_GAME_CONCLUDE,argTypes:[],size:function(){return 0},write2bundle:function(){}},i.CMD_C_SenceChoose={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_C_SENCE_CHOOSE,argTypes:[{name:"cbSenceID",type:"UINT8"}],size:function(){return 1},write2bundle:function(e,t){e.writeUint8(t[0])}},i.CMD_C_RewardChoose={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_C_REWARD_CHOOSE,argTypes:[{name:"cbGoodsID",type:"UINT8"}],size:function(){return 1},write2bundle:function(e,t){e.writeUint8(t[0])}},i.CMD_C_MailBoxReward={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_C_MAILBOX_REWARD,argTypes:[{name:"cdRewardID",type:"UINT8"}],size:function(){return 1},write2bundle:function(e,t){e.writeUint8(t[0])}},i.CMD_C_BetRewardPool={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_C_BET_REWARDPOOL,argTypes:[{name:"cbBetIndex",type:"UINT8"}],size:function(){return 1},write2bundle:function(e,t){e.writeUint8(t[0])}},constVal.SUB_S_GAME_START=100,constVal.SUB_S_GAME_CONCLUDE=101,constVal.SUB_S_GAME_LOTTERY=102,constVal.SUB_S_SET_BASESCORE=104,constVal.SUB_S_SUPERRABBIT_START=105,constVal.SUB_S_SUPERRABBIT_END=106,constVal.SUB_S_SENCE_CHOOSE=107,constVal.Sub_S_REWARD_CHOOSE=108,constVal.SUB_S_MAILBOX_REWARD=109,constVal.SUB_S_SEND_MAILBOX=110,constVal.SUB_S_LOCK_REWARDPOOL=111,constVal.SUB_S_BET_REWARDPOOL=112,i.CMD_S_GameStart={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_S_GAME_START,argTypes:[{name:"ItemInfo",type:"INT8"},{name:"WildStickInfo",type:"INT8"},{name:"dLineScore",type:"INT64"},{name:"cbItemType",type:"INT8"},{name:"cbLineCount",type:"INT8"},{name:"nGiveAwayCount",type:"INT16"},{name:"nTotalGiveAwayCount",type:"INT16"},{name:"cbFreeSpinState",type:"INT8"},{name:"dUserTotalWinScore",type:"INT64"},{name:"bCanBn",type:"INT8"}],createFromStream:function(e,t){for(var i={ItemInfo:[[],[],[]]},n=0;n<3;n++)for(var a=0;a<constVal.ITEM_X_COUNT;a++)i.ItemInfo[n][a]=e.readUint8();i.WildStickInfo=[[],[],[]];for(var s=0;s<3;s++)for(var o=0;o<constVal.ITEM_X_COUNT;o++)i.WildStickInfo[s][o]=e.readUint8();i.dLineScore=[];for(var r=0;r<constVal.MAX_LINE_COUNT;r++)i.dLineScore[r]=e.readInt64().lo;i.cbItemType=[];for(var c=0;c<constVal.MAX_LINE_COUNT;c++)i.cbItemType[c]=e.readUint8();i.cbLineCount=[];for(var l=0;l<constVal.MAX_LINE_COUNT;l++)i.cbLineCount[l]=e.readUint8();i.nGiveAwayCount=e.readUint32(),i.nTotalGiveAwayCount=e.readUint32(),i.cbFreeSpinState=e.readUint8(),i.dUserTotalWinScore=e.readInt64().lo,i.bCanBn=e.readUint8(),t.push(i)}},i.CMD_S_Game_Conclude={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_S_GAME_CONCLUDE,argTypes:[],createFromStream:function(){}},i.CMD_S_SendmailBox={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_S_SEND_MAILBOX,argTypes:[{name:"llRewardPool",type:"INT64"}],createFromStream:function(e,t){for(var i=[],n=0;n<constVal.MAX_REWARD_POOL_INDEX;n++){var a=e.readInt64().lo;i.push(a)}t.push(i)}},i.CMD_S_SenceChoose={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_S_SENCE_CHOOSE,argTypes:[{name:"bRewardGoodsNum",type:"INT8"}],createFromStream:function(e,t){var i={};i.bRewardGoodsNum=e.readUint8(),t.push(i)}},i.CMD_S_RewardChoose={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.Sub_S_REWARD_CHOOSE,argTypes:[{name:"bRewardGoodsNum",type:"INT8"},{name:"llRewardValue",type:"INT64"},{name:"cbGoodsID",type:"INT8"},{name:"stSendMainbox",type:"INT64"}],createFromStream:function(e,t){var i={};i.bRewardGoodsID=e.readUint8(),i.llRewardValue=e.readInt64().lo,i.cbGoodsID=e.readUint8(),i.stSendMainbox=[];for(var n=0;n<constVal.MAX_REWARD_POOL_INDEX;n++){var a=e.readInt64().lo;i.stSendMainbox.push(a)}t.push(i)}},i.CMD_S_MailBoxReward={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_S_MAILBOX_REWARD,argTypes:[{name:"llRewardValue",type:"INT64"},{name:"cdRewardID",type:"INT8"}],createFromStream:function(e,t){var i={};i.llRewardValue=e.readInt64().lo,i.cdRewardID=e.readUint8(),t.push(i)}},i.CMD_S_LockMailBox={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_S_LOCK_REWARDPOOL,argTypes:[{name:"bUnlockRewardID",type:"INT8"},{name:"stSendMainbox",type:"INT64"}],createFromStream:function(e,t){var i={};i.bUnlockRewardID=e.readUint8(),i.stSendMainbox=[];for(var n=0;n<constVal.MAX_REWARD_POOL_INDEX;n++){var a=e.readInt64().lo;i.stSendMainbox.push(a)}t.push(i)}},i.CMD_S_BetRewardPool={mainCmdID:constVal.MDM_GF_GAME,subCmdID:constVal.SUB_S_BET_REWARDPOOL,argTypes:[{name:"bUnlockRewardID",type:"INT8"},{name:"stSendMainbox",type:"INT64"}],createFromStream:function(e,t){var i={};i.bUnlockRewardID=e.readUint8(),i.stSendMainbox=[];for(var n=0;n<constVal.MAX_REWARD_POOL_INDEX;n++){var a=e.readInt64().lo;i.stSendMainbox.push(a)}t.push(i)}},t.exports={constVal:constVal,datatypes:i},cc._RF.pop()},{}],GameProxy:[function(e,t){"use strict";cc._RF.push(t,"85a22xeEt9Cdpz7cDPZYBVo","GameProxy");var i=e("gameModel"),n=e("gameUIManager"),a=e("FishFacade");e("i18n"),t.exports=puremvc.define({parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this,this.constructor.NAME)}},{onRegister:function(){this.gameModel=new i(this.gameConfig,this),this._globalDataProxy=this.facade.retrieveProxy("FishGlobalDataProxy")},registerNetInterface:function(e){this.app=e;var t=e.net;this.net=t,this.gameUIManager=new n(520)},updateCellSprite:function(e,t,i,n,a){if(null!=n)return this.sendNotification("GAMEVIEW_UPDATE_CELL_SPRITE",e,n,t,i,a),null;var s=null;i&&this.gameModel._resultItems[t]&&this.gameModel._resultItems[t].length>0&&(s=this.gameModel._resultItems[t].pop()),null===s&&(s=this.gameModel.getNextSprite(t,n)),this.sendNotification("GAMEVIEW_UPDATE_CELL_SPRITE",e,s,t,i,a)},startSpin:function(){this.gameModel._autoSpin>0||(this._gameView||(this._gameView=a.retrieveMediator("GameView")),this.spin())},autoSpin:function(e){this.gameModel._autoSpin<=0?(this.gameModel._autoSpin=Help.checknumber(e)||0,this.gameModel._autoSpin>=0&&(this.gameModel._autoSpin=this.gameModel._autoSpin-1,this.sendNotification("SET_AUTO_PLAY_REMAINING",this.gameModel._autoSpin),this.spin())):this.gameModel._autoSpin=Help.checknumber(e)||0},stopSpin:function(){this.fastStop()},cleanStatusWithSpin:function(){this.gameModel._spinResult=null,this.gameModel._totalWin=0,this.clearAnimate(),this.cleanStatus()},clearAnimate:function(){this.stopDrawAnimate()},cleanStatus:function(){this.speedUpState=null},spin:function(){var e=this.gameModel.getTotalBet();if(this.gameModel._freeSpin<1){if(this._globalDataProxy.getLogonSuccessData().lScore<e)return void this.sendNotification("SHOW_DIALOG",["Se voc\xea n\xe3o tiver ouro suficiente, saia do quarto para recarregar"]);this._globalDataProxy.getLogonSuccessData().lScore=this._globalDataProxy.getLogonSuccessData().lScore-e,this.sendNotification("UPDATE_UI_OF_USER_INFO")}this.sendNotification("SHOW_TOTAL_TEXT",!1),this.cleanStatusWithSpin(),this.gameModel._freeSpin<1&&(this.sendNotification("CHANGE_GAME_BTN_STATE",!1),this.sendNotification("SET_TOTAL_WIN",this.gameModel._totalWin)),this.spinBoard(),this.requestSpin(this.gameModel._lineCount,this.gameModel._betIndex)},spinBoard:function(){this.gameUIManager.playAudio("start",!1),this._gameView||(this._gameView=a.retrieveMediator("GameView")),this.CurSpinLayer=this._gameView.getCurSpinLayer(),this.CurSpinLayer.spin(this.getSpinConfig())},getSpinConfig:function(){for(var e=[],t=0,i=Object.entries(this.CurSpinLayer.spinReels);t<i.length;t++){var n,a=i[t],s=a[0],o=(a[1],this.getSpinColStartAction(s)),r=((n={}).col=s,n.action=o,n);e.push(r)}return e},getSpinColStartAction:function(e){var t=this.gameConfig.reelSpinConfig,i={};return i.delay=t.spinDelay*(e-1),i.speedUpTime=t.speedUpTime,i.maxSpeed=t.maxSpeed,i.upBounce=t.upBounce,i.upBounceTime=t.upBounceTime,i.upBounceMaxSpeed=t.upBounceMaxSpeed,i},createFreeRewardLayer:function(){var e=function(){this.freeGameEnd()}.bind(this);this._gameView&&this._gameView.createFreeRewardLayer&&this._gameView.createFreeRewardLayer(this.gameModel._freewin,e)},normalStop:function(){null!==this.gameModel._spinResult&&this.stop(this.gameModel._spinResult)},fastStop:function(){null!==this.gameModel._spinResult&&(this.gameModel._autoSpin>0&&(this.gameModel._autoSpin=0),this.fastStopBoard())},stop:function(e){this.gameModel.adjustRecData(e),this.genSpecialSymbolState(e),this.stopReels(e)},genSpecialSymbolState:function(e){this.speedUpState=[],this.notifyState=[];for(var t=e.item_list,i=this.gameModel.specialSymbolConfig,n=0,a=Object.entries(i);n<a.length;n++){var s=a[n],o=s[0],r=s[1],c=0;if(r.type)for(var l=0;l<this._gameView.getCurSpinLayer().spinReels.length;l++){var h=t[l],u=this._gameView.getCurSpinLayer().spinReels[l].row,d=r.col_set[l]||u;d>0&&c+d>=r.min_cnt&&(this.speedUpState[l]=this.speedUpState[l]||{},this.speedUpState[l][o]=!0);for(var m=0,p=Object.entries(h);m<p.length;m++){var _=p[m],g=_[0];_[1]==o&&(this.notifyState[l]=this.notifyState[l]||[],this.notifyState[l][o]=this.notifyState[l][o]||[],this.notifyState[l][o].push([l,g]))}for(var f=0,S=Object.entries(h);f<S.length;f++){var b=S[f];b[0],b[1]===o&&(c+=1)}}}},stopReels:function(e){var t=function(){var e=function(){this.spinning=!1,this.handleResult()}.bind(this);this.stopEndFunc?(this.stopEndFunc(e),this.stopEndFunc=null):e()}.bind(this);this.stopBoard(e,t)},stopBoard:function(e,t){this._gameView.getCurSpinLayer().stop(this.getStopConfig(),e.item_list,e.item_list_up,e.item_list_down,t)},fastStopBoard:function(){cc.log("fast stop=============="),this._gameView.getCurSpinLayer().fastStop()},getStopConfig:function(){for(var e=[],t=0,i=Object.entries(this._gameView.getCurSpinLayer().spinReels);t<i.length;t++){var n,a=i[t],s=a[0],o=(a[1],this.getSpinColStopAction(s)),r=((n={}).col=s,n.action=o,n);e.push(r)}return e},getSpinColStopAction:function(e){var t=this.gameConfig.reelSpinConfig,i={};return i.stopDelay=(e-1)*t.stopDelay,i.speedDownTime=t.speedDownTime,i.maxSpeed=t.maxSpeed,i.downBounce=t.downBounce,i.downBounceMaxSpeed=t.downBounceMaxSpeed,i.downBounceTime=t.downBounceTime,i.stopType=0,i},checkSpeedUp:function(e){var t=!1;return this.speedUpState&&this.speedUpState[e]&&this.speedUpState[e].length>0&&(t=!0),t},playReelNotifyEffect:function(){},stopReelNotifyEffect:function(){},onReelFallBottom:function(){},onReelFastFallBottom:function(){},onReelStop:function(e){this.notifyState&&this.notifyState[e]&&this.notifyState[e].length>0&&this.playSpecialSymbolStopAni(e,this.notifyState[e])},playSpecialSymbolStopAni:function(e,t){this._gameView.playSpecialSymbolStopAni(e,t)},dealSceneData:function(e){this.gameModel._baseScore=e.baseScore,this.gameModel._betCount=e.betCount,this.gameModel._betList=e.betList,this.gameModel._betIndex=e.bet_index,e.line_count&&(this.gameModel._lineCount=e.line_count),e.item_list?(this.gameModel._spinResult=e,this.gameModel._totalWin=this.gameModel._spinResult.total_win,this.gameModel._freeSpin=this.gameModel._spinResult.free_spin,this.gameModel._freewin=this.gameModel._spinResult.free_win,this.gameModel._freeState=this.gameModel._spinResult.free_state,this.gameModel._betIndex=this.gameModel._spinResult.bet_index,this.gameModel._lineCount=this.gameModel._spinResult.line_count,this._globalDataProxy.getLogonSuccessData().lScore=this._globalDataProxy.getLogonSuccessData().lScore-this.gameModel.getTotalBet(),this.sendNotification("UPDATE_UI_OF_USER_INFO"),this.sendNotification("CHANGE_GAME_BTN_STATE",!1),this.sendNotification("SET_TOTAL_BET",this.gameModel.getTotalBet()),this.gameModel.adjustRecData(this.gameModel._spinResult),this.recoveryScene(this.gameModel._spinResult)):(this.sendNotification("SET_TOTAL_BET",this.gameModel.getTotalBet()),this.sendUserReady())},dealRequestSpinResult:function(e){var t=this.gameModel.AddFakeData(e);this.gameModel._spinResult||(this.gameModel._spinResult=t),this.gameModel._totalWin=this.gameModel._spinResult.total_win,this.gameModel._freeSpin=this.gameModel._spinResult.free_spin,this.gameModel._freewin=this.gameModel._spinResult.free_win,this.gameModel._freeState=this.gameModel._spinResult.free_state,this.gameModel._autoSpin>500?(this.sendNotification("CHANGE_SPIN_BTN_STATE",!1),this.normalStop()):this._gameView.scheduleOnce(function(){this.gameModel._autoSpin<=500?(this.sendNotification("CHANGE_SPIN_BTN_STATE",!1),this.normalStop()):this.gameModel._autoSpin>0&&this.fastStopBoard()}.bind(this),1)},handleResult:function(){this.drawAnimate(this.gameModel._spinResult),this.sendNotification("CHANGE_SPIN_BTN_STATE",!0),1===this.gameModel._freeState&&this.gameModel._freeSpin>0||3===this.gameModel._freeState&&this.gameModel._freeSpin<1&&(this.gameModel._totalWin,this.gameModel._curwinscore=this.gameModel._freewin),this.gameModel._freeSpin<1&&3!=this.gameModel._freeState?(this.sendNotification("SET_TOTAL_WIN",this.gameModel._totalWin),this.sendNotification("UPDATE_SCORE",this.gameModel._totalWin),this.sendNotification("CHANGE_GAME_BTN_STATE",!0),this.gameModel._curwinscore=this.gameModel._totalWin):this.sendNotification("SET_TOTAL_WIN",this.gameModel._freewin),3!=this.gameModel._freeState&&this.requestStop(),2===this.gameModel._freeState&&this.gameModel._freeSpin>0&&this.gameModel._totalWin},dealRequestStopResult:function(){var e=null;if(this.gameModel._autoSpin&&this.gameModel._autoSpin>0){var t=.3;this.gameModel._totalWin>0&&(t=1);var i=function(){this.gameModel._autoSpin=this.gameModel._autoSpin-1,this.sendNotification("SET_AUTO_PLAY_REMAINING",this.gameModel._autoSpin),this.spin()}.bind(this);this._gameView.scheduleOnce(i,t)}else this.sendNotification("SET_AUTO_PLAY_REMAINING",0);this.gameModel._curwinscore/this.gameModel.getTotalBet()>=5&&(null===e&&(e=function(){this.sendNotification("SHOW_TOTAL_TEXT",!0)}),this.sendNotification("SHOW_TOTAL_TEXT",!1)),this.sendNotification("SHOW_TOTAL_TEXT",!0),this._curwinscore=0},drawAnimate:function(e){null===e&&(cc.log("data error............."),cc.log(e)),e&&e.win_lines&&e.win_lines.length>0&&this.drawLinesThemeAnimate(this.gameModel.winLines,this._gameView.getCurSpinLayer(),e)},stopDrawAnimate:function(){this.sendNotification("STOP_DRAW_ANIMATE")},drawLinesThemeAnimate:function(e,t,i){this.sendNotification("DRAW_LINES_THEME_ANIMATE",e,t,i)},freeGameStart:function(){},freeGameEnd:function(){this.sendNotification("UPDATE_SCORE",this.gameModel._freewin),this.sendNotification("CHANGE_GAME_BTN_STATE",!0),this.gameModel._freewin=0,this.requestStop()},recoveryScene:function(e){var t=setInterval(function(){if(a.retrieveMediator("GameView")&&a.retrieveMediator("GameView").IsinitSpinLayer){this.sendNotification("CHANGE_GAME_BTN_STATE",!1);for(var i=0,n=Object.entries(e.item_list);i<n.length;i++)for(var s=n[i],o=s[0],r=s[1],c=0,l=Object.entries(r);c<l.length;c++){var h=l[c],u=h[0],d=h[1],m=this._gameView.getCurSpinLayer().getCell(o,u);this.updateCellSprite(m,o,!0,d),cc.log("recoveryScene")}this.handleResult(),clearInterval(t)}}.bind(this),100)},sendUserReady:function(){a.sendNotification(FishConstants.GAME_TABLE_COMMAND,"sendUserReady")},requestSpin:function(){},requestStop:function(){},onEventGameScene:function(){cc.log("\u573a\u666f\u6d88\u606f")},onGetNoticeReady:function(){this.sendUserReady()}},{NAME:"GameProxy"}),cc._RF.pop()},{FishFacade:"FishFacade",gameModel:"gameModel",gameUIManager:"gameUIManager",i18n:"i18n"}],GameSpinLayer:[function(e,t){"use strict";var i;cc._RF.push(t,"501ddbmAjJGWrm0+P9iTG5b","GameSpinLayer");var n=e("GameSpinReel"),a=((i={}).start=1,i.running=2,i.stopping=3,i.downbounce=4,i.stop=5,i),s=cc.Class({extends:cc.Component,properties:{winSize:cc.Size},onLoad:function(){var e=cc.winSize;this.node.setAnchorPoint(.5,.5),this.node.setContentSize(e),this.node.setPosition(cc.v2(e.width/2,e.height/2))},init:function(){var e=arguments[0],t=arguments[1],i=arguments[2];this.isActive=!1,this.running=!1,this.stopping=!1,this.boardNode=t,this.reelConfig=e,this.spinReels=[];for(var a=0,s=Object.entries(e);a<s.length;a++){var o=s[a],r=o[0],c=o[1],l=t.getReelNode(r),h=new n(r,this,l,c,i);l.addChild(h),this.spinReels.push(h)}},Active:function(){this.isActive=!0,this.boardNode.active=!0;var e=0,t=0,i=[];this.onUpdate=function(n){i[e]&&(t-=i[e]),i[e]=n,(e+=1)>60&&(e=1);var a=(t+=n)/i.length;if(a>1/30?(i=[],e=1):n=a,null===n&&cc.log(n),this.isActive&&null!=this.spinReels)for(var s=0,o=Object.entries(this.spinReels);s<o.length;s++){var r=o[s];r[0],r[1].updateCallFunc(n)}},this.timer=cc.director.getScheduler(),this.timer.schedule(this.onUpdate,this,0,!1)},DeActive:function(){this.isActive=!1,this.running=!1,this.stopping=!1,this.boardNode.active=!1,this.resetBoard(),this.timer&&this.timer.unschedule(this.onUpdate,this)},resetBoard:function(){for(var e=0,t=Object.entries(this.spinReels);e<t.length;e++){var i=t[e],n=i[0];i[1],this.spinReels[n].resetCol()}},setCellStatus:function(e){for(var t=0,i=Object.entries(this.spinReels);t<i.length;t++){var n=i[t];n[0],n[1].setCellStatus(e)}},getCell:function(e,t){return this.spinReels[e].getRetCell(Number(t)+1)},getCellSize:function(e){return new cc.Size(this.reelConfig[e].cellWidth,this.reelConfig[e].cellHeight)},getCellPos:function(e,t){var i=this.spinReels[e],n=cc.v2(.5*i.cellWidth,(i.row-t+.5)*i.cellHeight);return this.spinReels[e].basePos.add(n).add(this.spinReels[e].adjustPos)},checkDealWithReelStop:function(){for(var e=!1,t=0,i=Object.entries(this.spinReels);t<i.length;t++){var n=i[t];if(n[0],n[1].curStatus!=a.stop){e=!0;break}}e||(this.running=!1,this.stopping=!1,this.endCallFunc&&(this.endCallFunc(),this.endCallFunc=null))},spin:function(e){if(this.running)return null;this.running=!0,this.endCallFunc=null,this.itemList=null;for(var t=0,i=Object.entries(e);t<i.length;t++){var n=i[t],a=(n[0],n[1]),s=a.col,o=a.action;this.spinReels[s].spin(o)}},stop:function(e,t,i,n,a){if(!this.running||this.stopping)return null;this.stopping=!0,this.endCallFunc=a,this.itemList=t;for(var s=0,o=Object.entries(e);s<o.length;s++){var r=o[s],c=(r[0],r[1]),l=c.col,h=c.action,u=t[l];this.spinReels[l].stop(h,u,i&&i[l],n&&n[l])}},fastStop:function(){if(!this.running||!this.itemList)return null;for(var e=0,t=Object.entries(this.spinReels);e<t.length;e++){var i=t[e];i[0],i[1].fastStop()}}});t.exports=s,cc._RF.pop()},{GameSpinReel:"GameSpinReel"}],GameSpinReel:[function(e,t){"use strict";var i;cc._RF.push(t,"d3671IoTGNHzaCeyje0o3s4","GameSpinReel");var n=e("FishFacade"),a=((i={}).start=1,i.running=2,i.stopping=3,i.downbounce=4,i.stop=5,i),s=cc.Class({extends:cc.Node,ctor:function(){var e=arguments[0],t=arguments[1],i=arguments[2],s=arguments[3],o=arguments[4];this.colid=e,this.spinLayer=t,this.reelNode=i,this.row=s.symbolCount,this.basePos=s.base_pos,this.adjustPos=s.adjust_pos,this.cellWidth=s.cellWidth,this.cellHeight=s.cellHeight,this.addBelow=3,this.addTop=1,this.number=this.addBelow+this.row+this.addTop,this.maxIndex=this.number-1,this.minIndex=0,this.lastIndex=this.minIndex,this.currentIndex=this.row+this.addBelow-1,this.actionQueue=[],this.curAction=null,this.curStatus=a.stop,this.itemList=null,this.ExtraSymbolCount=6,this.width=this.cellWidth,this.height=this.cellHeight*this.number,this.cells={},this.setContentSize(cc.v2(this.width,this.height)),this.gameCtrl=n.retrieveProxy("GameProxy"),this.gameViewLayer=o,this.initCell()},initCell:function(){for(var e=this.minIndex;e<=this.maxIndex;e++){var t=this.gameViewLayer.createCellSprite(this.colid,e);if(t){var i=cc.v2(.5*this.cellWidth,(e-this.addBelow+.5)*this.cellHeight),n=this.basePos.add(i).add(this.adjustPos);t.setPosition(n),this.reelNode.addChild(t),this.cells[e]=t}}},resetCol:function(){this.curStatus=a.stop,this.lastIndex=this.minIndex,this.currentIndex=this.row+this.addBelow-1,this.curSpeed=0,this.curAction=null,this.isReelStoping=!1,this.clearActions(),this.resetCellsPosition()},resetCellsPosition:function(){for(var e=this.minIndex;e<this.maxIndex;e++){var t=this.cells[e],i=cc.v2(.5*this.cellWidth,(e-this.addBelow+.5)*this.cellHeight),n=this.basePos.add(i).add(this.adjustPos);t.setPosition(n)}},updateCallFunc:function(e){this.onDelayStopSchedule&&(this.delayTotalTime=this.delayTotalTime+e,this.delayTotalTime>this.stopConfig.stopDelay&&0==this.gameCtrl.checkSpeedUp(this.colid)&&(this.onDelayStopSchedule=!1,this.onReelStartStop())),!this.curAction&&this.actionQueue.length>0&&(this.curAction=this.actionQueue.shift(),this.currentTime=0,this.acceleration=null,this.curAction.beginFun&&this.curAction.beginFun(this.colid)),this.curAction&&this.refresh(e)},refresh:function(e){this.currentTime=this.currentTime+e;var t=0,i=!1;if(this.currentTime>=this.curAction.totalTime&&(i=!0,e-=t=this.currentTime-this.curAction.totalTime),!this.curAction.delay){for(var n=this.getMoveY(e),a=0,s=Object.entries(this.cells);a<s.length;a++){var o=s[a],r=(o[0],o[1]);r.y=r.y+n}for(var c=this.getCurrentCell();c.y<this.basePos.y+this.adjustPos.y+this.row*this.cellHeight;)this.currentIndex=this.increaseIndex(this.currentIndex),this.gameCtrl.updateCellSprite(this.getNextCell(),this.colid,this.isReelStoping),c=this.getCurrentCell()}i&&(this.curAction.endFun&&this.curAction.endFun(this.colId),this.curAction=null),t>0&&this.updateCallFunc(t)},getMoveY:function(e){this.acceleration||(this.curSpeed||(this.curSpeed=0),this.curAction.endSpeed!=this.curSpeed&&this.curAction.accelerationTime?this.acceleration=(this.curAction.endSpeed-this.curSpeed)/this.curAction.accelerationTime:(this.acceleration=0,this.curSpeed=this.curAction.endSpeed));var t=this.curSpeed+this.acceleration*e;this.acceleration>0?t>this.curAction.endSpeed&&(t=this.curAction.endSpeed,this.acceleration=0):this.acceleration<0&&t<this.curAction.endSpeed&&(t=this.curAction.endSpeed,this.acceleration=0);var i=(t+this.curSpeed)/2*e;return this.curSpeed=t,i},setCellStatus:function(e){for(var t=0,i=Object.entries(this.cells);t<i.length;t++){var n=i[t];n[0],n[1].active=e}},getRetCell:function(e){var t=this.currentIndex-e+1;return t<0?t+=this.number:t>this.number-1&&(t=0),this.cells[t]},getCurrentCell:function(){return this.cells[this.currentIndex]},getNextCell:function(){var e=this.currentIndex+1;return e>this.number-1&&(e=0),this.cells[e]},getFirstCell:function(){var e=this.lastIndex-1;return e<0&&(e=this.number-1),this.cells[e]},getLastCell:function(){return this.cells[this.lastIndex]},increaseIndex:function(e){var t=e+1;t>this.number-1&&(t=0);var i=this.getFirstCell();return this.getLastCell().y=i.y+this.cellHeight,this.lastIndex=this.lastIndex+1,this.lastIndex>this.number-1&&(this.lastIndex=0),t},decreaseIndex:function(e){var t=e-1;t<0&&(t+=this.number);var i=this.getFirstCell(),n=this.getLastCell();return i.y=n.y-this.cellHeight,this.lastIndex=this.lastIndex-1,this.lastIndex<0&&(this.lastIndex=this.number-1),t},spin:function(e){return e.locked?(this.curStatus=a.stop,this.locked=!0,null):this.curStatus!=a.stop?null:(this.locked=!1,this.start(e),void(this.curStatus=a.running))},start:function(e){this.itemList=null,this.curStatus=a.start,this.spinConfig=e,this.onDelayStopSchedule=!1,this.actionQueue=[],this.parseStart(e)},parseStart:function(e){var t,i;if(e.upBounceTime>0){var n,a,s,o,r=(e.upBounceMaxSpeed*e.upBounceTime-e.upBounce)/e.upBounceMaxSpeed,c=e.upBounceTime-2*r;this.actionQueue.push(((n={}).delay=1,n.totalTime=e.delay,n)),this.actionQueue.push(((a={}).endSpeed=e.upBounceMaxSpeed,a.totalTime=r,a.accelerationTime=r,a)),this.actionQueue.push(((s={}).endSpeed=e.upBounceMaxSpeed,s.totalTime=c,s)),this.actionQueue.push(((o={}).endSpeed=0,o.totalTime=r,o.accelerationTime=r,o))}this.actionQueue.push(((t={}).endSpeed=e.maxSpeed,t.totalTime=e.speedUpTime,t.accelerationTime=e.speedUpTime,t)),this.actionQueue.push(((i={}).endSpeed=e.maxSpeed,i.totalTime=1e4,i))},stop:function(e,t,i,n){if(this.curStatus!=a.running)return null;this.parseStop(e,t,i,n)},parseStop:function(e,t,i,n){e.ClearAction&&this.clearActions(),this.stopConfig=e,this.itemList=t,this.upList=i||[],this.downList=n||[];for(var a=e.actions||[],s=0,o=Object.entries(a);s<o.length;s++){var r,c=o[s],l=(c[0],c[1]);l.endSpeed&&this.actionQueue.push(((r={}).endSpeed=l.endSpeed,r.totalTime=l.totalTime,r.accelerationTime=l.accelerationTime,r.beginFun=l.beginFun,r.endFun=l.endFun,r))}this.onDelayStopSchedule=!0,this.delayTotalTime=0},onReelStartStop:function(){this.curStatus!=a.stop&&this.curStatus!=a.downbounce&&(this.clearActions(),this.curStatus=a.stopping,this.isReelStoping=!0,1===this.stopConfig.stopType?(this.normalStop(),this.parseNormalBounceDown()):0===this.stopConfig.stopType?(this.paseEaseStop(),this.parseNormalBounceDown()):2===this.stopConfig.stopType?(this.pasePhyicalStop(),this.parsePhysicalBounceDown()):3===this.stopConfig.stopType&&(this.normalStop(),this.parseFastBounceDown()))},clearActions:function(){this.actionQueue=[],this.curAction=null,this.onDelayStopSchedule=!1},normalStop:function(){var e,t=this.ExtraSymbolCount;this.gameCtrl.isTurbo&&then,t/=2,end;var i=-(this.getNextCell().y+this.stopConfig.downBounce+(t+.5)*this.cellHeight-(this.basePos.y+this.adjustPos.y))/this.stopConfig.speedDownTime,n=function(){this.gameCtrl.onReelFallBottom(this.colid),this.curStatus=a.downbounce,this.curSpeed=0}.bind(this);this.actionQueue.push(((e={}).endSpeed=i,e.totalTime=this.stopConfig.speedDownTime,e.endFun=n,e))},paseEaseStop:function(){var e,t,i=this.ExtraSymbolCount;this.gameCtrl.isTurbo&&(i/=2);var n=i*this.cellHeight,s=this.getNextCell().y+this.stopConfig.downBounce+.5*this.cellHeight-(this.basePos.y+this.adjustPos.y),o=-n/this.spinConfig.maxSpeed,r=-s/(this.stopConfig.speedDownTime-o),c=function(){this.curSpeed=0,this.curStatus=a.downbounce,this.gameCtrl.onReelFallBottom(this.colid)}.bind(this);this.actionQueue.push(((e={}).endSpeed=this.spinConfig.maxSpeed,e.totalTime=o,e)),this.actionQueue.push(((t={}).endSpeed=r,t.totalTime=this.stopConfig.speedDownTime-o,t.endFun=c,t))},pasePhyicalStop:function(){var e,t=this.ExtraSymbolCount;this.gameCtrl.isTurbo&&(t/=2);var i=-(t*this.cellHeight+(this.getNextCell().y+.5*this.cellHeight-(this.basePos.y+this.adjustPos.y)))/this.stopConfig.speedDownTime,n=function(){this.curSpeed=0,this.curStatus=a.downbounce,this.gameCtrl.onReelFallBottom(this.colid)}.bind(this);this.actionQueue.push(((e={}).endSpeed=i,e.totalTime=this.stopConfig.speedDownTime,e.endFun=n,e))},parseNormalBounceDown:function(){var e,t,i=function(){this.curStatus=a.stop,this.fixResult(),this.isReelStoping=!1,this.gameCtrl.onReelStop(this.colid),this.spinLayer.checkDealWithReelStop()}.bind(this);this.curSpeed=0;var n=this.stopConfig.downBounce/this.stopConfig.downBounceTime;this.actionQueue.push(((e={}).endSpeed=n,e.totalTime=this.stopConfig.downBounceTime,e)),this.actionQueue.push(((t={}).delay=1,t.totalTime=0,t.beginFun=i,t))},parseFastBounceDown:function(){var e,t,i=function(){this.curStatus=a.stop,this.fixResult(),this.isReelStoping=!1,this.gameCtrl.onReelStop(this.colid),this.spinLayer.checkDealWithReelStop()}.bind(this);this.curSpeed=0;var n=this.stopConfig.downBounce/this.stopConfig.downBounceTime;this.actionQueue.push(((e={}).endSpeed=n,e.totalTime=this.stopConfig.downBounceTime,e)),this.actionQueue.push(((t={}).delay=1,t.totalTime=0,t.beginFun=i,t))},parsePhysicalBounceDown:function(){var e,t,i,n,s,o,r,c=function(){this.curStatus=a.stop,this.fixResult(),this.isReelStoping=!1,this.gameCtrl.onReelStop(this.colid),this.spinLayer.checkDealWithReelStop()}.bind(this);this.curSpeed=0,this.actionQueue.push(((e={}).endSpeed=this.stopConfig.shakeDistance,e.totalTime=this.stopConfig.downBounceTime,e)),this.actionQueue.push(((t={}).endSpeed=-this.stopConfig.shakeDistance,t.totalTime=this.stopConfig.downBounceTime,t)),this.actionQueue.push(((i={}).endSpeed=this.stopConfig.shakeDistance,i.totalTime=this.stopConfig.downBounceTime,i)),this.actionQueue.push(((n={}).endSpeed=-this.stopConfig.shakeDistance,n.totalTime=this.stopConfig.downBounceTime,n)),this.actionQueue.push(((s={}).endSpeed=this.stopConfig.shakeDistance,s.totalTime=this.stopConfig.downBounceTime,s)),this.actionQueue.push(((o={}).endSpeed=-this.stopConfig.shakeDistance,o.totalTime=this.stopConfig.downBounceTime,o)),this.actionQueue.push(((r={}).delay=1,r.totalTime=0,r.beginFun=c,r))},fixResult:function(){for(var e=this.getCurrentCell();e.y<this.basePos.y+this.adjustPos.y+(this.row-1)*this.cellHeight;)this.currentIndex=this.increaseIndex(this.currentIndex),e=this.getCurrentCell();for(;e.y>this.basePos.y+this.adjustPos.y+this.row*this.cellHeight;)this.currentIndex=this.decreaseIndex(this.currentIndex),e=this.getCurrentCell()},fastStop:function(){if(this.curStatus===a.stop||this.curStatus===a.downbounce||!this.itemList)return null;this.curStatus=a.downbounce,this.clearActions(),this.fastResetResult(),1===this.stopConfig.stopType?this.parseNormalBounceDown():0===this.stopConfig.stopType?this.parseNormalBounceDown():2===this.stopConfig.stopType?this.parsePhysicalBounceDown():3===this.stopConfig.stopType&&this.parseFastBounceDown(),this.gameCtrl.onReelFastFallBottom(this.colid)},fastResetResult:function(){this.curSpeed=0;var e=1,t=this.getCurrentCell().y+this.cellHeight/2-(this.basePos.y+this.adjustPos.y)+this.stopConfig.downBounce;this.downList.length>0&&this.gameCtrl.updateCellSprite(this.cells[this.currentIndex],this.colid,!0,this.downList[1],!0);for(var i=this.currentIndex,n=this.currentIndex+this.row,a=i;a<n;a++)this.currentIndex=this.increaseIndex(this.currentIndex),this.gameCtrl.updateCellSprite(this.getCurrentCell(),this.colid,!0,this.itemList[this.row-e],!0),e+=1;var s=(this.currentIndex+1)%this.number;this.upList.length>0&&this.gameCtrl.updateCellSprite(this.cells[s],this.colid,!0,this.upList[1],!0);for(var o=0,r=Object.entries(this.cells);o<r.length;o++){var c=r[o],l=(c[0],c[1]);l.y=l.y-t}}});t.exports=s,cc._RF.pop()},{FishFacade:"FishFacade"}],GameTableCommand:[function(e,t){"use strict";cc._RF.push(t,"3c9d7I9N5lFDpZGl4m6N7do","GameTableCommand"),t.exports=puremvc.define({parent:puremvc.SimpleCommand},{execute:function(e){var t=this.facade.retrieveProxy("GameTableProxy");switch(e){case"sendStandUpData":t.sendStandUpData(1);break;case"sendUserReady":t.sendUserReady();break;default:cc.log("\u672a\u77e5\u547d\u4ee4")}}},{NAME:"GameTableCommand"}),cc._RF.pop()},{}],GameTableDataManager:[function(e,t){"use strict";cc._RF.push(t,"30e317c5J9MRbKFTveJQjm5","GameTableDataManager"),t.exports=puremvc.define({parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this,this.constructor.NAME)}},{_wTableCount:0,_wChairCount:0,_wServerType:0,_dwServerRule:0,_roomUserList:new Map,_tableUserList:new Map,_tableStatus:[],_wTableID:65535,_wChairID:65535,_cbGameStatus:0,_cbAllowLookon:0,_bChangeDesk:!1,_bSendOption:!1,onRegister:function(){},setTableCount:function(e){this._wTableCount=e},getTableCount:function(){return this._wTableCount},setChairCount:function(e){this._wChairCount=e},getChairCount:function(){return this._wChairCount},setServerType:function(e){this._wServerType=e},getServerType:function(){return this._wServerType},setServerRule:function(e){this._dwServerRule=e},getServerRule:function(){return this._dwServerRule},setwTableID:function(e){this._wTableID=e},getwTableID:function(){return this._wTableID},setwChairID:function(e){this._wChairID=e},getwChairID:function(){return this._wChairID},setGameStatus:function(e){this._cbGameStatus=e},getGameStatus:function(){return this._cbGameStatus},setAllowLookon:function(e){this._cbAllowLookon=e},getAllowLookon:function(){return this._cbAllowLookon},setTableStatusById:function(e,t){this._tableStatus[e]=t},getTableStatusById:function(e){return this._tableStatus[e]},setRoomUserList:function(e,t){this._roomUserList.set(e,t)},getRoomUserList:function(e){return this._roomUserList.get(e)},onRemoveUser:function(e){this._roomUserList.delete(e)},onUpDataTableUser:function(e,t,i){var n=e+1,a=t+1;this._tableUserList.get(n)||this._tableUserList.set(n,new Map),i?this._tableUserList.get(n).set(a,i.get("dwUserID")):this._tableUserList.get(n).set(a,null)},setChangeDesk:function(e){this._bChangeDesk=e},getChangeDesk:function(){return this._bChangeDesk},setSendOption:function(e){this._bSendOption=e},getSendOption:function(){return this._bSendOption}},{NAME:"GameTableDataManager"}),cc._RF.pop()},{}],GameTableProtocol:[function(e,t){"use strict";cc._RF.push(t,"d32d0YUQeZJZa2GfmwjEYX4","GameTableProtocol");var i={};constVal.CMD_FRIST_MDM_GAME=1e3,constVal.LEN_TOKEN=33,constVal.LEN_MACHINE_ID=33,constVal.MDM_GR_LOGON=constVal.CMD_FRIST_MDM_GAME+1,constVal.SUB_GR_LOGON_H5_MOBILE=2,constVal.SUB_GR_LOGON_SUCCESS=100,constVal.SUB_GR_LOGON_ERROR=101,constVal.SUB_GR_LOGON_FINISH=102,constVal.SUB_GR_UPDATE_NOTIFY=200,i.CMD_GR_LogonMobile={mainCmdID:constVal.MDM_GR_LOGON,subCmdID:constVal.SUB_GR_LOGON_H5_MOBILE,argTypes:[{name:"wGameID",type:"UINT16"},{name:"dwProcessVersion",type:"UINT32"},{name:"cbDeviceType",type:"UINT8"},{name:"dwGroupID",type:"UINT32"},{name:"dwServerID",type:"UINT32"},{name:"dwUserID",type:"UINT32"},{name:"szToken",type:"STRING",len:constVal.LEN_TOKEN},{name:"szMachineID",type:"STRING",len:constVal.LEN_MACHINE_ID},{name:"szAccount",type:"STRING",len:32}],size:function(){return 83+2*(constVal.LEN_TOKEN+constVal.LEN_MACHINE_ID)},write2bundle:function(e,t){e.writeUint16(t[0]),e.writeUint32(t[1]),e.writeUint8(t[2]),e.writeUint32(t[3]),e.writeUint32(t[4]),e.writeUint32(t[5]),e.writeString(t[6],2*constVal.LEN_TOKEN),e.writeString(t[7],2*constVal.LEN_MACHINE_ID),e.writeString(t[8],64)}},i.grLogonSuccess={mainCmdID:constVal.MDM_GR_LOGON,subCmdID:constVal.SUB_GR_LOGON_SUCCESS,argTypes:[{name:"dwUserRight",type:"UINT32"},{name:"dwMasterRight",type:"UINT32"}],size:function(){return 8},createFromStream:function(e,t){var i=e.readUint32(),n=e.readUint32();t.push(i,n)}},i.CMD_GR_LogonError={mainCmdID:constVal.MDM_GR_LOGON,subCmdID:constVal.SUB_GR_LOGON_ERROR,argTypes:[{name:"lErrorCode",type:"UINT32"},{name:"wKindID",type:"UINT16"},{name:"wServerID",type:"UINT16"},{name:"szDescribeString",type:"STRING",len:128}],size:function(){return 264},createFromStream:function(e,t){var i=e.readUint32(),n=e.readUint16(),a=e.readUint16(),s=e.readStringUnicode(256);t.push(i,n,a,s)}},i.CMD_GR_LogonFinish={mainCmdID:constVal.MDM_GR_LOGON,subCmdID:constVal.SUB_GR_LOGON_FINISH,argTypes:[],size:function(){},createFromStream:function(){}},constVal.MDM_GR_CONFIG=constVal.CMD_FRIST_MDM_GAME+2,constVal.SUB_GR_CONFIG_COLUMN=100,constVal.SUB_GR_CONFIG_SERVER=101,constVal.SUB_GR_CONFIG_PROPERTY=102,constVal.SUB_GR_CONFIG_FINISH=103,i.CMD_GR_ConfigServer={mainCmdID:constVal.MDM_GR_CONFIG,subCmdID:constVal.SUB_GR_CONFIG_SERVER,argTypes:[{name:"wTableCount",type:"UINT16"},{name:"wChairCount",type:"UINT16"},{name:"wServerType",type:"UINT16"},{name:"dwServerRule",type:"UINT32"}],size:function(){return 10},createFromStream:function(e,t){var i=e.readUint16(),n=e.readUint16(),a=e.readUint16(),s=e.readUint32();t.push(i,n,a,s)}},i.CMD_GR_ConfigFinish={mainCmdID:constVal.MDM_GR_CONFIG,subCmdID:constVal.SUB_GR_CONFIG_FINISH,argTypes:[],size:function(){},createFromStream:function(){}},constVal.MDM_GR_USER=constVal.CMD_FRIST_MDM_GAME+3,constVal.SUB_GR_USER_RULE=1,constVal.SUB_GR_USER_SITDOWN=3,constVal.SUB_GR_USER_STANDUP=4,constVal.SUB_GR_USER_LEAVE=5,constVal.SUB_GR_USER_SYCNUSERSCORE=7,constVal.SUB_GR_USER_SYCNUSERMISSION=8,constVal.SUB_GR_USER_CHAIR_REQ=10,constVal.SUB_GR_USER_CHAIR_INFO_REQ=11,constVal.SUB_GR_USER_WAIT_DISTRIBUTE=12,constVal.SUB_GR_USER_CHANGE_CHAIR=14,constVal.SUB_GR_USER_ENTER=100,constVal.SUB_GR_USER_SCORE=101,constVal.SUB_GR_USER_STATUS=102,constVal.SUB_GR_REQUEST_FAILURE=103,constVal.SUB_GR_USER_GAME_DATA=104,constVal.SUB_GR_USER_EX_REWARD=105,constVal.SUB_GR_USER_EX_PROGRESS=106,constVal.SUB_GR_PUSHUSERPIG=107,i.DTP_GR_NICK_NAME=10,i.DTP_GR_UNDER_WRITE=12,i.CMD_GR_UserSitDown={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_SITDOWN,argTypes:[{name:"wTableID",type:"UINT16"},{name:"wChairID",type:"UINT16"},{name:"szPassword",type:"STRING",len:33},{name:"dwRoomPwd",type:"UINT32"}],size:function(){return 74},write2bundle:function(e,t){e.writeUint16(t[0]),e.writeUint16(t[1]),e.writeString(t[2],66),e.writeUint32(t[3])}},i.CMD_GR_UserStandUp={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_STANDUP,argTypes:[{name:"wTableID",type:"UINT16"},{name:"wChairID",type:"UINT16"},{name:"cbForceLeave",type:"UINT8"}],size:function(){return 5},write2bundle:function(e,t){e.writeUint16(t[0]),e.writeUint16(t[1]),e.writeUint8(t[2])}},i.CMD_GR_UserReqLeave={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_LEAVE,argTypes:[{name:"dwUserID",type:"UINT32"},{name:"szToken",type:"STRING",len:constVal.LEN_TOKEN}],size:function(){return 4+2*constVal.LEN_TOKEN},write2bundle:function(e,t){e.writeUint32(t[0]),e.writeString(t[1],2*constVal.LEN_TOKEN)}},i.CMD_GR_ChairUserInfo={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_CHAIR_INFO_REQ,argTypes:[{name:"wTableID",type:"UINT16"},{name:"wChairID",type:"UINT16"}],size:function(){return 4},write2bundle:function(e,t){e.writeUint32(t[0]),e.writeUint32(t[1])}},i.SUB_GR_UserEnter={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_ENTER,argTypes:[{name:"dwGameID",type:"UINT32"},{name:"dwUserID",type:"UINT32"},{name:"wFaceID",type:"UINT16"},{name:"cbGender",type:"UINT8"},{name:"wTableID",type:"UINT16"},{name:"wChairID",type:"UINT16"},{name:"cbUserStatus",type:"UINT8"},{name:"lScore",type:"UINT64"},{name:"lDiamond",type:"UINT64"},{name:"lExperience",type:"UINT64"},{name:"lLpValues",type:"UINT64"},{name:"lTicket",type:"UINT64"},{name:"dwVipLv",type:"UINT32"},{name:"dwVipPoint",type:"UINT32"},{name:"dwClubPoint",type:"UINT32"},{name:"dwCurExLevel",type:"UINT32"},{name:"dwNextExPoint",type:"UINT32"},{name:"dwIpAddress",type:"UINT32"}],createFromStream:function(e,t){var i=new Map;i.set("dwGameID",e.readUint32()),i.set("dwUserID",e.readUint32()),i.set("wFaceID",e.readUint16()),i.set("cbGender",e.readUint8()),i.set("wTableID",e.readUint16()),i.set("wChairID",e.readUint16()),i.set("cbUserStatus",e.readUint8()),i.set("lScore",e.readInt64().lo),i.set("lDiamond",e.readInt64().lo),i.set("lExperience",e.readInt64().lo),i.set("lLpValues",e.readInt64().lo),i.set("lTicket",e.readInt64().lo),i.set("dwVipLv",e.readUint32()),i.set("dwVipPoint",e.readUint32()),i.set("dwClubPoint",e.readUint32()),i.set("dwCurExLevel",e.readUint32()),i.set("dwNextExPoint",e.readUint32()),i.set("dwIpAddress",e.readUint32()),t.push(i)}},i.SUB_GR_UserScore={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_SCORE,argTypes:[{name:"dwUserID",type:"UINT32"},{name:"lScore",type:"UINT64"},{name:"lDiamond",type:"UINT64"},{name:"lExperience",type:"UINT64"},{name:"lLpValues",type:"UINT64"}],createFromStream:function(e,t){var i={};i.dwUserID=e.readUint32(),i.lScore=e.readInt64().lo,i.lDiamond=e.readInt64().lo,i.lExperience=e.readInt64().lo,i.lLpValues=e.readInt64().lo,t.push(i)}},i.SUB_GR_UserStatus={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_STATUS,argTypes:[{name:"dwUserID",type:"UINT32"},{name:"wTableID",type:"UINT16"},{name:"wChairID",type:"UINT16"},{name:"cbUserStatus",type:"UINT8"}],createFromStream:function(e,t){var i=new Map;i.set("dwUserID",e.readUint32()),i.set("wTableID",e.readUint16()),i.set("wChairID",e.readUint16()),i.set("cbUserStatus",e.readUint8()),t.push(i)}},i.CMD_GR_RequestFailure={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_REQUEST_FAILURE,argTypes:[{name:"lErrorCode",type:"UINT32"},{name:"szDescribeString",type:"STRING",len:128}],createFromStream:function(e,t){var i=e.readUint32(),n=e.readStringUnicode(e.buffer.byteLength-e.buffer.rpos);t.push(i,n)}},i.CMD_GR_MobileUserExperienceReward={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_EX_REWARD,argTypes:[{name:"dwUserID",type:"UINT32"},{name:"dwRewardExLevel",type:"UINT32"},{name:"CurLvScore",type:"UINT64"}],createFromStream:function(e,t){var i=e.readUint32(),n=e.readUint32(),a=e.readUint64();t.push(i,n,a)}},i.CMD_GR_MobileUserExperienceProgress={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_USER_EX_PROGRESS,argTypes:[{name:"dwUserID",type:"UINT32"},{name:"dwCurExLevel",type:"UINT32"},{name:"dwCurExPoint",type:"UINT64"},{name:"dwNextExPoint",type:"UINT64"},{name:"NextLvScore",type:"UINT64"}],createFromStream:function(e,t){var i=e.readUint32(),n=e.readUint32(),a=e.readUint64(),s=e.readUint64(),o=e.readUint64();t.push(i,n,a,s,o)}},i.CMD_MB_PushUserPig={mainCmdID:constVal.MDM_GR_USER,subCmdID:constVal.SUB_GR_PUSHUSERPIG,argTypes:[{name:"dwUserID",type:"UINT32"}],createFromStream:function(e,t){var i=e.readUint32();t.push(i)}},constVal.MDM_GR_STATUS=constVal.CMD_FRIST_MDM_GAME+4,constVal.SUB_GR_TABLE_INFO=100,constVal.SUB_GR_TABLE_STATUS=101,i.SUB_GR_TableInfo={mainCmdID:constVal.MDM_GR_STATUS,subCmdID:constVal.SUB_GR_TABLE_INFO,argTypes:[{name:"cbTableLock",type:"UINT8"},{name:"cbPlayStatus",type:"UINT8"},{name:"lCellScore",type:"UINT32"}],createFromStream:function(e,t){for(var i=[],n=0,a=e.readUint16();n<a;n++){var s=new Map,o=e.readUint8(),r=e.readUint8(),c=e.readUint32();s.cbTableLock=o,s.cbPlayStatus=r,s.lCellScore=c,i[n]=s}t.push(i)}},i.SUB_GR_TableStatus={mainCmdID:constVal.MDM_GR_STATUS,subCmdID:constVal.SUB_GR_TABLE_STATUS,argTypes:[{name:"cbTableLock",type:"UINT8"},{name:"cbPlayStatus",type:"UINT8"},{name:"lCellScore",type:"UINT32"}],createFromStream:function(e,t){var i=e.readUint8(),n=e.readUint8(),a=e.readUint32();t.push(i,n,a)}},constVal.MDM_GF_FRAME=constVal.CMD_FRIST_MDM_GAME+100,constVal.SUB_GF_GAME_OPTION=1,constVal.SUB_GF_USER_READY=2,constVal.SUB_GF_LOOKON_CONFIG=3,constVal.SUB_GF_DISTRIBUTE_AFFIRM=4,constVal.SUB_GF_USER_CHAT=10,constVal.SUB_GF_USER_EXPRESSION=11,constVal.SUB_GF_USER_VOICE=12,constVal.SUB_GF_GAME_STATUS=100,constVal.SUB_GF_GAME_SCENE=101,constVal.SUB_GF_LOOKON_STATUS=102,constVal.SUB_GF_SYSTEM_MESSAGE=200,constVal.SUB_GF_ACTION_MESSAGE=201,constVal.SUB_GF_NOTICE_READ=502,i.CMD_GF_GameOption={mainCmdID:constVal.MDM_GF_FRAME,subCmdID:constVal.SUB_GF_GAME_OPTION,argTypes:[{name:"cbAllowLookon",type:"UINT8"},{name:"dwFrameVersion",type:"UINT32"},{name:"dwClientVersion",type:"UINT32"}],size:function(){return 9},write2bundle:function(e,t){e.writeUint8(t[0]),e.writeUint32(t[1]),e.writeUint32(t[2])}},i.CMD_GF_User_Ready={mainCmdID:constVal.MDM_GF_FRAME,subCmdID:constVal.SUB_GF_USER_READY,argTypes:[],size:function(){return 0},write2bundle:function(){}},i.CMD_GF_GameStatus={mainCmdID:constVal.MDM_GF_FRAME,subCmdID:constVal.SUB_GF_GAME_STATUS,argTypes:[{name:"cbGameStatus",type:"UINT8"},{name:"cbAllowLookon",type:"UINT8"}],createFromStream:function(e,t){var i=e.readUint8(),n=e.readUint8();t.push(i,n)}},constVal.GAME_SCENE_FREE=0,constVal.GAME_SCENE_WAIT=100,constVal.GAME_SCENE_PLAY=101,constVal.GAME_SCENE_STOP=102,i.CMD_GF_GameScene={mainCmdID:constVal.MDM_GF_FRAME,subCmdID:constVal.SUB_GF_GAME_SCENE,argTypes:[],createFromStream:function(){}},i.CMD_CM_SystemMessage={mainCmdID:constVal.MDM_GF_FRAME,subCmdID:constVal.SUB_GF_SYSTEM_MESSAGE,argTypes:[{name:"wType",type:"UINT16"},{name:"wLength",type:"UINT16"},{name:"szString",type:"STRING",len:128}],createFromStream:function(e,t){var i=e.readUint16(),n=e.readUint16(),a=e.readStringUTF8(256);t.push(i,n,a)}},i.CMD_CM_ActionMessage={mainCmdID:constVal.MDM_GF_FRAME,subCmdID:constVal.SUB_GF_ACTION_MESSAGE,argTypes:[{name:"wType",type:"UINT16"},{name:"wLength",type:"UINT16"},{name:"nButtonType",type:"UINT32"},{name:"szString",type:"STRING",len:128}],createFromStream:function(e,t){var i=e.readUint16(),n=e.readUint16(),a=e.readUint32(),s=e.readStringUTF8(256);t.push(i,n,a,s)}},i.CMD_CM_Nitice_Read={mainCmdID:constVal.MDM_GF_FRAME,subCmdID:constVal.SUB_GF_NOTICE_READ,argTypes:[],createFromStream:function(){}},constVal.MDM_GF_GAME=constVal.CMD_FRIST_MDM_GAME+200,constVal.MDM_KN_COMMAND=0,constVal.SUB_KN_DETECT_SOCKET=1,constVal.SUB_KN_DETECT_ONLINE=2,i.CMD_KN_DetectSocket={mainCmdID:constVal.MDM_KN_COMMAND,subCmdID:constVal.SUB_KN_DETECT_SOCKET,size:function(){return 8},write2bundle:function(e,t){e.writeUint32(t[0]),e.writeUint32(t[1])},createFromStream:function(e,t){var i=e.readUint32(),n=e.readUint32();t.push(i,n)}},t.exports={constVal:constVal,datatypes:i},cc._RF.pop()},{}],GameTableProxy:[function(e,t){"use strict";cc._RF.push(t,"3bb6frerpBPBY7KyCdu3jU0","GameTableProxy");var i=e("GameTableProtocol").datatypes;t.exports=puremvc.define({parent:puremvc.Proxy,constructor:function(){puremvc.Proxy.call(this,this.constructor.NAME)}},{onRegister:function(){this._globalDataProxy=this.facade.retrieveProxy("FishGlobalDataProxy"),null!=this.facade.retrieveProxy("GameTableDataManager")&&this.facade.removeProxy("GameTableDataManager");var t=e("GameTableDataManager");this.facade.addProxy(new t),this._gameTableDataManager=this.facade.retrieveProxy("GameTableDataManager")},registerNetInterface:function(e,t){this.app=e;var n=this.app.net;this.net=n,this._kindVersion=0,this._gameInfo=t,n.registerClient(this,"logonGame",i.CMD_GR_LogonMobile),n.registerServer(this,"grLogonSuccess",i.grLogonSuccess),n.registerServer(this,"grLogonError",i.CMD_GR_LogonError),n.registerServer(this,"onSocketLogonFinish",i.CMD_GR_LogonFinish),n.registerServer(this,"grConfigServer",i.CMD_GR_ConfigServer),n.registerServer(this,"grConfigFinish",i.CMD_GR_ConfigFinish),n.registerClient(this,"queryChangeChair",i.CMD_GR_UserSitDown),n.registerClient(this,"sendStandUpData",i.CMD_GR_UserStandUp),n.registerClient(this,"sendLeaveRoomData",i.CMD_GR_UserReqLeave),n.registerClient(this,"queryUserInfo",i.CMD_GR_ChairUserInfo),n.registerServer(this,"onSocketUserEnter",i.SUB_GR_UserEnter),n.registerServer(this,"onSocketUserScore",i.SUB_GR_UserScore),n.registerServer(this,"onSocketUserStatus",i.SUB_GR_UserStatus),n.registerServer(this,"onSocketReQuestFailure",i.CMD_GR_RequestFailure),n.registerServer(this,"onSocketTableInfoEvent",i.SUB_GR_TableInfo),n.registerServer(this,"onSocketSTabletatusEvent",i.SUB_GR_TableStatus),n.registerClient(this,"sendGameOption",i.CMD_GF_GameOption),n.registerClient(this,"sendUserReady",i.CMD_GF_User_Ready),n.registerServer(this,"onSocketSGameStatusEvent",i.CMD_GF_GameStatus),n.registerServer(this,"onEventGameScene",i.CMD_GF_GameScene),n.registerServer(this,"onGetNoticeReady",i.CMD_CM_Nitice_Read),n.registerClient(this,"netCheck",i.CMD_KN_DetectSocket),n.registerServer(this,"netCheck",i.CMD_KN_DetectSocket)},logonGame:function(e,t){this._gameTableDataManager.setSendOption(!1),this.app,this.net.callServer("logonGame",520,0,1,0,0,1111,t,"0123456789abcdefg",e),G_isOffline=!1},grLogonSuccess:function(e){cc.log("\u767b\u5f55\u6210\u529f",e),this.MyUserId=e,this.sendNotification(FishConstants.LOGIN_GAME_FINISH)},grLogonError:function(e,t,i,n){cc.log("\u767b\u5f55\u5931\u8d25",n),this.app.socket&&KBEngine.destroyApp(this.app)},onSocketLogonFinish:function(){cc.log("\u767b\u5f55\u5b8c\u6210"),65535!=this._gameTableDataManager.getwTableID()&&(this.sendNotification(FishConstants.LOGIN_GAME_FINISH),this.sendGameOption())},grConfigServer:function(e,t,i,n){cc.log("\u623f\u95f4\u914d\u7f6e"),this._gameTableDataManager.setTableCount(e),this._gameTableDataManager.setChairCount(t),this._gameTableDataManager.setServerType(i),this._gameTableDataManager.setServerRule(n)},grConfigFinish:function(){cc.log("\u914d\u7f6e\u5b8c\u6210")},netCheck:function(e,t){cc.log("netCheck"),RoomOffLine=!1,this.net.callServer("netCheck",e,t)},queryChangeChair:function(e,t){cc.log("\u73a9\u5bb6\u5750\u4e0b",e,t),this.app.socket&&this.net.callServer("queryChangeChair",e,t,"",null)},sendStandUpData:function(e){cc.log("\u8bf7\u6c42\u8d77\u7acb====================="),this.net.callServer("sendStandUpData",this._gameTableDataManager.getwTableID(),this._gameTableDataManager.getwChairID(),e?1:0)},sendLeaveRoomData:function(){cc.log("\u79bb\u5f00\u623f\u95f4"),this.net.callServer("sendLeaveRoomData",this._globalDataProxy.getLogonSuccessData().dwUserID,this._globalDataProxy.getLogonSuccessData().szToken)},queryUserInfo:function(e,t){cc.log("\u67e5\u8be2\u7528\u6237"),this.net.callServer("queryUserInfo",e,t)},onSocketUserEnter:function(e){cc.log("\u7528\u6237\u8fdb\u5165");var t=e;if(this.MyUserId==t.get("dwUserID")){var n={};t.forEach(function(e,t){n[t]=e}.bind(this)),this._globalDataProxy.setLogonSuccessData(n),this._globalDataProxy.setUserId(this.MyUserId)}cc.log("userId"+t.get("dwUserID")+" ==> user enter");var a=t.get("dwUserID")===this._globalDataProxy.getLogonSuccessData().dwUserID;if(this._gameTableDataManager.getRoomUserList(this._globalDataProxy.getLogonSuccessData().dwUserID)){if(!0===a)return void cc.log("you already have your own information, do not process your own information again")}else if(!1===a)return void cc.log("never have own information, do not process other user information");cc.log("---------------------------------onSocketUserEnter---------------------------------"),cc.log("UserId: "+t.get("dwUserID")+" ==> cbUserStatus: "+t.get("cbUserStatus")+"; \twTableID: "+t.get("wTableID")+"; \twChairID: "+t.get("wChairID")),cc.log("---------------------------------onSocketUserEnter---------------------------------");for(var s=this.app.stream.rpos,o=this.app.stream.buffer.byteLength;s<o;){var r=this.app.stream.readUint16(),c=this.app.stream.readUint16();if(!r||!c)break;if(c===i.DTP_GR_NICK_NAME)t.set("szNickName",this.app.stream.readStringUnicode(r)),cc.log(t.get("szNickName")),t.get("szNickName")||t.set("szNickName","player");else if(c===i.DTP_GR_UNDER_WRITE)t.set("szSign",this.app.stream.readStringUnicode(r)),t.get("szSign")||t.set("szSign","empty");else{if(0===c)break;for(var l=0,h=r;l<h&&this.app.stream.readUint8();l++);}s=this.app.stream.rpos}var u=!0,d=this._gameTableDataManager.getRoomUserList(t.get("dwUserID"));if(null!=d){var m=new Map;m.set("wTableID",d.get("wTableID")),m.set("wChairID",d.get("wChairID")),m.set("cbUserStatus",d.get("cbUserStatus")),u=!1,d.set("cbUserStatus",t.get("cbUserStatus")),d.set("wTableID",t.get("wTableID")),d.set("wChairID",t.get("wChairID")),d.set("szNickName",t.get("szNickName")),d.set("lScore",t.get("lScore")),65535!=m.get("wTableID")&&(m.get("wTableID")==d.get("wTableID")&&m.get("wChairID")==d.get("wChairID")||this._gameTableDataManager.onUpDataTableUser(t.get("wTableID"),t.get("wChairID"),null))}u&&this._gameTableDataManager.setRoomUserList(t.get("dwUserID"),t),t.get("dwUserID")===this._globalDataProxy.getLogonSuccessData().dwUserID&&(this._gameTableDataManager.setwTableID(t.get("wTableID")),this._gameTableDataManager.setwChairID(t.get("wChairID")),cc.log("\u5f53\u524d\u684c\u53f71\uff1awTableID: "+this._gameTableDataManager.getwTableID()+"; wChairID: "+this._gameTableDataManager.getwChairID())),t.get("dwUserID")===this._globalDataProxy.getLogonSuccessData().dwUserID&&(this._globalDataProxy.getLogonSuccessData().lScore=t.get("lScore"),this._globalDataProxy.getLogonSuccessData().lDiamond=t.get("lDiamond"),this._globalDataProxy.getLogonSuccessData().lLpValues=t.get("lLpValues"),this._globalDataProxy.getLogonSuccessData().lExperience=t.get("lExperience"),this._globalDataProxy.getLogonSuccessData().lTicket=t.get("lTicket")),65535!=t.get("wTableID")&&t.get("cbUserStatus")!=US_LOOKON&&this._gameTableDataManager.onUpDataTableUser(t.get("wTableID"),t.get("wChairID"),t)},onSocketUserScore:function(e){var t=e,i=this._gameTableDataManager.getRoomUserList(t.dwUserID);if(null!=i&&(i.set("lScore",t.lScore),i.set("lExperience",t.lExperience),i.set("lExperience",t.lExperience),i.set("lLpValues",t.lLpValues),i.set("lTicket",t.lTicket),i.get("dwUserID")===this._globalDataProxy.getLogonSuccessData().dwUserID)){this._globalDataProxy.getLogonSuccessData().lDiamond=i.get("lDiamond"),this._globalDataProxy.getLogonSuccessData().lLpValues=i.get("lLpValues"),this._globalDataProxy.getLogonSuccessData().lExperience=i.get("lExperience"),this._globalDataProxy.getLogonSuccessData().lTicket=i.get("lTicket");var n=!1,a=i.get("lScore")-this._globalDataProxy.getLogonSuccessData().lScore;a>0&&(n=!0,this.sendNotification("UPDATE_SCORE",a)),!1===n&&(this._globalDataProxy.getLogonSuccessData().lScore=i.get("lScore"),this.sendNotification("UPDATE_UI_OF_USER_INFO"))}},onSocketUserStatus:function(e){if(cc.log("\u7528\u6237\u72b6\u6001"),e.get("cbUserStatus")!==US_LOOKON){var t=this._gameTableDataManager.getRoomUserList(this._globalDataProxy.getLogonSuccessData().dwUserID);if(t){var i=e.get("dwUserID")===t.get("dwUserID"),n=this._gameTableDataManager.getRoomUserList(e.get("dwUserID"));if(null==n)return 65535!=e.get("wTableID")&&this.queryUserInfo(e.get("wTableID"),e.get("wChairID")),cc.log("can't find the user in this room list"),void cc.log("can't find: "+e.get("dwUserID"));var a=new Map;a.set("cbUserStatus",n.get("cbUserStatus")),a.set("wTableID",n.get("wTableID")),a.set("wChairID",n.get("wChairID")),n.set("cbUserStatus",e.get("cbUserStatus")),n.set("wTableID",e.get("wTableID")),n.set("wChairID",e.get("wChairID")),cc.log("---------------------------------onSocketUserStatus---------------------------------"),cc.log("userId:"+e.get("dwUserID")+"; old status ==> cbUserStatus: "+a.get("cbUserStatus")+"; \twTableID: "+a.get("wTableID")+"; \twChairID: "+a.get("wChairID")),cc.log("userId:"+e.get("dwUserID")+"; new status ==> cbUserStatus: "+e.get("cbUserStatus")+"; \twTableID: "+e.get("wTableID")+"; \twChairID: "+e.get("wChairID")),cc.log("---------------------------------onSocketUserStatus---------------------------------"),65535!=a.get("wTableID")&&(a.get("wTableID")==e.get("wTableID")&&a.get("wChairID")==e.get("wChairID")||this._gameTableDataManager.onUpDataTableUser(a.get("wTableID"),a.get("wChairID"),null)),65535!=e.get("wTableID")&&this._gameTableDataManager.onUpDataTableUser(e.get("wTableID"),e.get("wChairID"),n),!0===i?(this._gameTableDataManager.setwTableID(e.get("wTableID")),this._gameTableDataManager.setwChairID(e.get("wChairID")),e.get("cbUserStatus")===US_NULL?(cc.log("\u79bb\u5f00\u623f\u95f4---- "),this.app.socket&&this.sendNotification("SHOW_DIALOG",["Se voc\xea n\xe3o opera h\xe1 muito tempo, saia da sala e entre novamente"])):e.get("cbUserStatus")===US_FREE&&a.get("cbUserStatus")>US_FREE?(cc.log("\u8d77\u7acb----"),this._gameTableDataManager.getChangeDesk()||this.app.socket):e.get("cbUserStatus")>US_FREE&&a.get("cbUserStatus")<US_SIT?(cc.log("\u5750\u4e0b--"),this.sendNotification(FishConstants.LOGIN_GAME_FINISH),!0===this._gameTableDataManager.getChangeDesk()&&(this._gameTableDataManager.setChangeDesk(!1),this._gameTableDataManager.setSendOption(!1)),this.sendGameOption()):65535!=e.get("wTableID")&&!0===this._gameTableDataManager.getChangeDesk()?cc.log("\u6362\u4f4d--todo"):(cc.log("\u5176\u5b83\u72b6\u6001----todo"),this.sendNotification(FishConstants.LOGIN_GAME_FINISH))):(65535==a.get("wTableID")&&65535==e.get("wTableID")||a.get("wTableID")===this._gameTableDataManager.getwTableID()&&(e.get("wTableID"),this._gameTableDataManager.getwTableID()),e.get("cbUserStatus")!==US_NULL&&e.get("cbUserStatus")!==US_FREE||(cc.log("removeuser: "+e.get("dwUserID")),this._gameTableDataManager.onRemoveUser(e.get("dwUserID"))))}}},onSocketReQuestFailure:function(){cc.log("\u8bf7\u6c42\u5931\u8d25")},onSocketTableInfoEvent:function(e){cc.log("\u684c\u5b50\u4fe1\u606f");for(var t=0,i=e.length;t<i;t++)this._gameTableDataManager.setTableStatusById(t,e[t])},onSocketSTabletatusEvent:function(){cc.log("\u684c\u5b50\u72b6\u6001")},sendGameOption:function(){this._gameTableDataManager.getSendOption()?cc.log("\u5df2\u53d1\u9001\u8fc7sendGameOption"):(cc.log("\u53d1\u9001sendGameOption"),this._gameTableDataManager.setSendOption(!0),this.net.callServer("sendGameOption",0,101122049,this._kindVersion))},sendUserReady:function(){cc.log("\u53d1\u9001\u51c6\u5907"),this.net.callServer("sendUserReady")},onSocketSGameStatusEvent:function(e,t){cc.log("\u6e38\u620f\u72b6\u6001"),this._gameTableDataManager.setGameStatus(e),this._gameTableDataManager.setAllowLookon(t)},onEventGameScene:function(){this.facade.retrieveProxy("GameProxy").onEventGameScene(this._gameTableDataManager.getGameStatus())},onGetNoticeReady:function(){this.sendNotification(FishConstants.GAME_COMMAND,"onGetNoticeReady")},userSitFailed:function(){this.app.socket},sendGFInfo:function(){this.app.socket&&this.net.callServer("sendGFInfo")},leaveGame:function(){this.app&&this.app.socket}},{NAME:"GameTableProxy"}),cc._RF.pop()},{GameTableDataManager:"GameTableDataManager",GameTableProtocol:"GameTableProtocol"}],GameViewLayer:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"bb464CpVEBHdKIlHGqYUKLD","GameViewLayer");var s=e("GameView"),o=(e("GameProtocol").constVal,e("gameUIManager")),r=e("FishFacade");cc.Class({extends:s,properties:{},onLoad:function(){this.GameUIManager=new o(520);var e=[{evtType:"SUB_S_SEND_MAILBOX",callback:this.SetJackpotText},{evtType:"GAMEVIEW_UPDATE_CELL_SPRITE",callback:this.updateCellSprite},{evtType:"SetFreeEnterBackAni",callback:this.SetFreeEnterBackAni}];this.PushlistNotification(e),this.isOneFree=!0,this._super(),this.animateWildNode||(this.animateWildNode=new cc.Node("animateWildNode"),this.node.addChild(this.animateWildNode,251)),this.GameViewLayer_Node=this.node.getChildByName("GameViewLayer_Node"),this.GameViewLayer_Node.removeFromParent(),this.bgNode.addChild(this.GameViewLayer_Node,10),this.JackpotState=[!1,!1,!1,!1],this.JackpotNum=[0,0,0,0],this.JackpotKuang=[],this.Jackpottitle=[],this.JackpotTextList=[];for(var t=1;t<=4;t++)this.JackpotTextList.push(this.GameViewLayer_Node.getChildByName("JackpotText_"+t)),this.JackpotTextList[t-1].getComponent(cc.Label).string=this.JackpotNum[t-1],this.JackpotKuang.push(this.GameViewLayer_Node.getChildByName("Image_"+t)),this.Jackpottitle.push(this.GameViewLayer_Node.getChildByName("title_"+t)),this.JackpotKuang[t-1].unlock_spin=this.JackpotKuang[t-1].getChildByName("jp_jiesuo").getComponent(sp.Skeleton),this.JackpotKuang[t-1].unlock_spin.node.setScale(.9),this.JackpotKuang[t-1].unlock_spin.node.setPosition(this.JackpotKuang[t-1].unlock_spin.node.x-6,this.JackpotKuang[t-1].unlock_spin.node.y),this.JackpotKuang[t-1].lock_spin=this.JackpotKuang[t-1].getChildByName("jp_shangsuo").getComponent(sp.Skeleton),this.JackpotKuang[t-1].lock_spin.node.setScale(.9),this.JackpotKuang[t-1].lock_spin.node.setPosition(this.JackpotKuang[t-1].lock_spin.node.x-6,this.JackpotKuang[t-1].lock_spin.node.y);this.Node_free=this.node.getChildByName("Node_free"),this.Node_free.removeFromParent(),this.node.addChild(this.Node_free,201),this.Node_free.active=!1,this.Text_free_num=this.Node_free.getChildByName("Image_Free_Num_BG").getChildByName("Text_free_num").getComponent(cc.Label),this.Text_free_total_num=this.Node_free.getChildByName("Image_Free_Num_BG").getChildByName("Text_free_total_num").getComponent(cc.Label),this.Text_total_bet=this.Node_free.getChildByName("Image_Total_Bet_BG").getChildByName("Text_total_bet").getComponent(cc.Label),r.sendNotification("SHOW_TOTAL_BET",!0),cc.resources.load("games/game520/prefab/BGAni",cc.Prefab,function(e,t){if(e)cc.log(e);else{var i=cc.instantiate(t);this.BGAni=i.getComponent(sp.Skeleton),this.bgNode.addChild(i,1),this.BGAni.setAnimation(0,"animation",!0),cc.resources.load("games/game520/prefab/FreeBGAni",cc.Prefab,function(e,t){if(e)cc.log(e);else{var i=cc.instantiate(t);this.FreeBGAni=i.getComponent(sp.Skeleton),this.bgNode.addChild(i,1),this.FreeBGAni.setAnimation(0,"animation",!0),this.SetBGAni(1)}}.bind(this))}}.bind(this)),cc.resources.load("games/game520/prefab/EnterFreeAni",cc.Prefab,function(e,t){if(e)cc.log(e);else{var i=cc.instantiate(t);this.EnterFreeAni=i.getComponent(sp.Skeleton),this.node.addChild(i,1e3),cc.resources.load("games/game520/prefab/BackFreeAni",cc.Prefab,function(e,t){if(e)cc.log(e);else{var i=cc.instantiate(t);this.BackFreeAni=i.getComponent(sp.Skeleton),this.node.addChild(i,1e3),this.SetFreeEnterBackAni()}}.bind(this))}}.bind(this)),this.ShowJackpotKuang(this._gameCtrl.gameModel_520._UnlockRewardID)},start:function(){},ShowJackpotKuang:function(e){var t=this;if(0!==e)for(var i=0;i<4;i++)if(e>=i){var n=t.JackpotState[i];t.JackpotState[i]=!0,n!=t.JackpotState[i]&&(t.JackpotKuang[i].unlock_spin.node.active=!0,t.JackpotKuang[i].unlock_spin.setAnimation(0,"animation"+Number(i+1),!1),t.JackpotKuang[i].unlock_spin.setCompleteListener(function(){t.JackpotKuang[arguments[0]].unlock_spin.node.active=!1}.bind(this,i))),cc.resources.load("games/game520/font/theme_font_base_jp1",cc.Font,function(e,i){t.JackpotTextList[arguments[0]].getComponent(cc.Label).font=arguments[2]}.bind(this,i)),cc.resources.load("games/game520/texture/base/theme276_jp1_frame",cc.SpriteFrame,function(e,i){t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame=arguments[2],t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).type=cc.Sprite.Type.SLICED,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetTop=24,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetBottom=24,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetLeft=26,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetRight=26}.bind(this,i)),cc.resources.load("games/game520/texture/base/title_"+Number(i+1),cc.SpriteFrame,function(e,i){t.Jackpottitle[arguments[0]].getComponent(cc.Sprite).spriteFrame=arguments[2]}.bind(this,i))}else{var a=t.JackpotState[i];t.JackpotState[i]=!1,a!=t.JackpotState[i]&&(t.JackpotKuang[i].lock_spin.node.active=!0,t.JackpotKuang[i].lock_spin.setAnimation(0,"animation"+Number(i+1),!1),t.JackpotKuang[i].lock_spin.setCompleteListener(function(){t.JackpotKuang[arguments[0]].lock_spin.node.active=!1}.bind(this,i))),cc.resources.load("games/game520/font/theme_font_base_jp2",cc.Font,function(e,i){t.JackpotTextList[arguments[0]].getComponent(cc.Label).font=arguments[2]}.bind(this,i)),cc.resources.load("games/game520/texture/base/theme276_jp1_frame_lock",cc.SpriteFrame,function(e,i){t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame=arguments[2],t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).type=cc.Sprite.Type.SLICED,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetTop=24,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetBottom=24,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetLeft=26,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetRight=26}.bind(this,i)),cc.resources.load("games/game520/texture/base/title_lock_"+Number(i+1),cc.SpriteFrame,function(e,i){t.Jackpottitle[arguments[0]].getComponent(cc.Sprite).spriteFrame=arguments[2]}.bind(this,i))}else for(var s=0;s<4;s++){var o=t.JackpotState[s];t.JackpotState[s]=!1,o!=t.JackpotState[s]&&(t.JackpotKuang[s].lock_spin.node.active=!0,t.JackpotKuang[s].lock_spin.setAnimation(0,"animation"+Number(s+1),!1),t.JackpotKuang[s].lock_spin.setCompleteListener(function(){t.JackpotKuang[arguments[0]].lock_spin.node.active=!1}.bind(this,s))),cc.resources.load("games/game520/font/theme_font_base_jp2",cc.Font,function(e,i){t.JackpotTextList[arguments[0]].getComponent(cc.Label).font=arguments[2]}.bind(this,s)),cc.resources.load("games/game520/texture/base/theme276_jp1_frame_lock",cc.SpriteFrame,function(e,i){t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame=arguments[2],t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).type=cc.Sprite.Type.SLICED,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetTop=24,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetBottom=24,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetLeft=26,t.JackpotKuang[arguments[0]].getComponent(cc.Sprite).spriteFrame.insetRight=26}.bind(this,s)),cc.resources.load("games/game520/texture/base/title_lock_"+Number(s+1),cc.SpriteFrame,function(e,i){t.Jackpottitle[arguments[0]].getComponent(cc.Sprite).spriteFrame=arguments[2]}.bind(this,s))}},SetJackpotText:function(e){if(null!==this.JackpotTextList)for(var t=0;t<e.length;t++){this.JackpotTextList[t].stopAllActions();var i=this.JackpotNum[t],n=e[t];this.JackpotNum[t]=e[t],this.JackpotTextList[t],Help.scorllNumber(this.JackpotTextList[t],i,n,1,function(e,t){e.getComponent(cc.Label).string=Help.FormatScore2(t)}.bind(this))}},SetBGAni:function(e){1==e?(this.BGAni.node.active=!0,this.FreeBGAni.node.active=!1):2==e&&(this.BGAni.node.active=!1,this.FreeBGAni.node.active=!0)},SetFreeEnterBackAni:function(e,t){1==e?(this.EnterFreeAni.node.active=!0,this.BackFreeAni.node.active=!1,this.EnterFreeAni.setAnimation(0,"animation",!1),this.EnterFreeAni.setCompleteListener(function(){this.EnterFreeAni.node.active=!1,t&&t()}.bind(this))):2==e?(this.EnterFreeAni.node.active=!1,this.BackFreeAni.node.active=!0,this.BackFreeAni.setAnimation(0,"animation",!1),this.BackFreeAni.setCompleteListener(function(){this.BackFreeAni.node.active=!1,t&&t()}.bind(this))):(this.EnterFreeAni.node.active=!1,this.BackFreeAni.node.active=!1)},createBonusLayer:function(e){cc.resources.load("games/game520/prefab/BonusLayer_Node",cc.Prefab,function(t,i){t?cc.log(t):(this.addMaskLayer(),this.BonusLayer_Node=cc.instantiate(i),this.rewardNode.addChild(this.BonusLayer_Node),this.BonusLayer_Node.active=!0,this.BonusLayer=this.BonusLayer_Node.getComponent("BonusLayer"),this.BonusLayer.init(this,e,!0))}.bind(this))},RecoverBonusLayer:function(e,t,i,n,a,s,o){cc.resources.load("games/game520/prefab/BonusLayer_Node",cc.Prefab,function(r,c){r?cc.log(r):(this.BonusLayer_Node=cc.instantiate(c),this.rewardNode.addChild(this.BonusLayer_Node),this.BonusLayer_Node.active=!0,this.BonusLayer=this.BonusLayer_Node.getComponent("BonusLayer"),this.BonusLayer.init(this,e,!0),this.BonusLayer.RecoverScene(t,i,n,a,s,o))}.bind(this))},RemoveBonusLayer:function(e){this.BonusLayer.bounsbackAni.node.active=!0,this.BonusLayer.bounsbackAni.node.removeFromParent(),this.node.addChild(this.BonusLayer.bounsbackAni.node,501),this.BonusLayer.bounsbackAni.setAnimation(0,"animation",!1),this.BonusLayer.bounsbackAni.setCompleteListener(function(){setTimeout(function(){this.BonusLayer.bounsbackAni.node.removeFromParent(),e()}.bind(this),100)}.bind(this)),setTimeout(function(){this.BonusLayer.BNScene.active=!1}.bind(this),1500),setTimeout(function(){this.maskNode.removeAllChildren(),this._gameCtrl.gameModel._totalWin=this._gameCtrl.gameModel._totalWin+this.BonusLayer.winScore,this.BonusLayer&&this.BonusLayer.node.removeFromParent(),this._gameCtrl.gameModel_520.ResetBNGameData()}.bind(this),1e3)},setFreeTotalRemain:function(e){this.isOneFree&&(this.Text_free_total_num.string="/"+e)},setFreeRemain:function(e){this.Text_free_num.string=e},createStartFreeLayer:function(e,t){var i=t;cc.resources.load("games/game520/prefab/GameFreeStart_Node",cc.Prefab,function(t,n){if(t)cc.log(t);else{var a=cc.instantiate(n);if(a){this.node.addChild(a,500);var s=a.getChildByName("FNT_remain").getComponent(cc.Label);s&&(s.string=null==e?0:e);var o=a.getChildByName("Button_start").getComponent(cc.Button);if(this.isOneFree){this.addMaskLayer();var c=a.getChildByName("Node_Ani").getChildByName("276_fg").getComponent(sp.Skeleton);c.setAnimation(0,"animation1_1",!1),c.setCompleteListener(function(){c.setAnimation(0,"animation1_2",!0)}),s.node.active=this.isOneFree,o.node.active=this.isOneFree,o&&o.node.on("click",function(){this.setFreeTotalRemain(this._gameCtrl.gameModel._freeSpin),c.setAnimation(0,"animation1_3",!1),o.node.active=!1,s.node.active=!1,this.maskNode.removeAllChildren(),c.setCompleteListener(function(){this.SetFreeEnterBackAni(1,function(){i&&(i(),this.isOneFree=!1),a.removeFromParent()}.bind(this)),this.scheduleOnce(function(){this.SetBGAni(2),r.sendNotification("SHOW_TOTAL_BET",!1),this.Node_free.active=!0,this.Text_total_bet.string=Help.FormatScore(Help.checknumber(this._gameCtrl.gameModel.getTotalBet())),this.setFreeRemain(this._gameCtrl.gameModel._freeSpin)}.bind(this),1)}.bind(this))}.bind(this),this)}else s.node.active=this.isOneFree,o.node.active=this.isOneFree,a.active=!1;setTimeout(function(){i&&!this.isOneFree&&(i(),a.removeFromParent())}.bind(this),1500)}}}.bind(this))},createFreeRewardLayer:function(e,t){this.addMaskLayer(),cc.resources.load("games/game520/prefab/GameFreeReward_Node",cc.Prefab,function(i,n){if(i)cc.log(i);else{var a=cc.instantiate(n);if(a){this.node.addChild(a,500);var s=a.getChildByName("Node_1").getChildByName("276_fg").getComponent(sp.Skeleton);s.setAnimation(0,"animation3_1",!1),s.setCompleteListener(function(){s.setAnimation(0,"animation3_2",!0)});var o=a.getChildByName("FNT_totalwin").getComponent(cc.Label);if(o){var c=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join("/")}(Help.FormatScore(e));o.string=c}var l=a.getChildByName("Button_recv").getComponent(cc.Button);l&&l.node.on("click",function(){s.setAnimation(0,"animation3_3",!1),l.node.active=!1,o.node.active=!1,this.maskNode.removeAllChildren(),s.setCompleteListener(function(){this.SetFreeEnterBackAni(2,function(){t&&(t(),this.isOneFree=!0),a.removeFromParent()}.bind(this)),setTimeout(function(){this._gameCtrl.recoveryFreeScene(),this.SetBGAni(1),r.sendNotification("SHOW_TOTAL_BET",!0),this.Node_free.active=!1}.bind(this),1500)}.bind(this))}.bind(this),this)}}}.bind(this))},updateCellSprite:function(e,t){var i=this._gameCtrl.gameModel._symbolPic[t],n=e.sprite;n.active=!0,n.getComponent(cc.Sprite).spriteFrame=this.getRes(i,cc.SpriteFrame),e.key=t,e.spine&&(e.spine.removeFromParent(),e.spine=null)},drawLinesThemeAnimate:function(e,t,i){var n=e,a=i,s=this._gameCtrl.gameModel.getPayLines(),o=a.item_list,r=new cc.Node("framedraw"),c=new cc.Node("symboldraw"),l=new cc.Node("linedraw");this.animateNode.addChild(l,30),this.animateNode.addChild(c,20),this.animateNode.addChild(r,10);var h=function(e){for(var t=e[0],i=s[t],n=e[1],a=e[2],h=0;h<n;h++){var u=i[h]+1,d=o[h][u];1===a?a===d&&this.drawPayLineItem(h,u,o,c,r):this.drawPayLineItem(h,u,o,c,r)}this.playLineEffect(e,l)}.bind(this),u=function(e){for(var t=0,i=Object.entries(e);t<i.length;t++){var a=i[t],s=(a[0],a[1]);this.drawPayLineItem(s[0],s[1]+1,o,c,r)}for(var h=0,u=Object.entries(n);h<u.length;h++){var d=u[h],m=(d[0],d[1]);this.playLineEffect(m,l)}}.bind(this),d=function(){r.removeAllChildren(),c.removeAllChildren(),l.removeAllChildren(),this.getCurSpinLayer().setCellStatus(!0);for(var e=0,t=Object.entries(o);e<t.length;e++)for(var i=t[e],n=i[0],a=i[1],s=0,h=Object.entries(a);s<h.length;s++){var u=h[s],d=u[0];u[1],11!==o[n][d]&&1!==o[n][d]||(this.spinLayer.getCell(n,d).active=this._gameCtrl.gameModel_520._isBreakLine)}}.bind(this);if(a&&a.win_pos&&a.win_pos.length>0)if(a.win_lines.length>1)r.runAction(cc.sequence(cc.delayTime(0),cc.callFunc(function(){var e=this,t=[],i=cc.callFunc(function(){d(),u(a.win_pos)}.bind(this)),s=cc.delayTime(3);t.push(i),t.push(s);for(var o=function(){var i=l[c],n=(i[0],i[1]),a=cc.callFunc(function(){d(),h(n)}.bind(e)),s=cc.delayTime(3);t.push(a),t.push(s)},c=0,l=Object.entries(n);c<l.length;c++)o();r.runAction(cc.repeatForever(cc.sequence(t)))}.bind(this))));else for(var m=0,p=Object.entries(n);m<p.length;m++){var _=p[m],g=(_[0],_[1]);d(),h(g)}},playLineEffect:function(){},drawWildStickItems:function(e){for(var t=0,i=Object.entries(e);t<i.length;t++)for(var n=i[t],a=n[0],s=n[1],o=0,r=Object.entries(s);o<r.length;o++){var c=r[o],l=c[0],h=c[1],u=new cc.Node,d=new cc.Node;this.animateWildNode.addChild(u,21),this.animateWildNode.addChild(d,22),this.drawItemEffect(h,Number(a),Number(l)+1,u)}},hideWildStickDownItems:function(e){for(var t=this,i=0,n=Object.entries(e);i<n.length;i++)for(var a=n[i],s=a[0],o=a[1],r=function(){var e=l[c],i=e[0];e[1],cc.log("col:"+s+"       row"+i);var n=t.spinLayer.getCell(s,i);n.active=!1,cc.resources.load(t._gameCtrl.gameModel._symbolPic[0],cc.SpriteFrame,function(e,t){n.sprite.getComponent(cc.Sprite).spriteFrame=t})},c=0,l=Object.entries(o);c<l.length;c++)r()},drawItemEffect:function(e,t,i,n){var a=this.spinLayer.getCellPos(t,i);Help.LoadSpinePrefab(n,"games/game520/prefab/symbols"+e,0,"win",!0,function(e,t){t.setPosition(a)}.bind(this))},playFrameEffect:function(e,t,i){var n=this.spinLayer.getCellPos(e,t);Help.LoadSpinePrefab(i,"games/game520/prefab/spine_frame",0,"animation",!0,function(e,t){t.setPosition(n)}.bind(this))},playSpecialSymbolStopAni:function(e,t,n){var a=this,s=new cc.Node;this.animateNode.addChild(s,20);for(var o=0,r=Object.entries(t);o<r.length;o++)for(var c,l=r[o],h=l[0],u=function(){var e=c.value,t="games/game520/prefab/symbols"+h,i=a.spinLayer.getCell(e[0],e[1]),o=a.spinLayer.getCellPos(e[0],Number(e[1])+1);n?11==h?Help.LoadSpinePrefab(s,t,0,"BN",!0,function(e,t){t.setPosition(o),t.setScale(3.5)}.bind(a)):Help.LoadSpinePrefab(s,t,0,"animation",!1,function(e,t){t.setPosition(o),t.getComponent(sp.Skeleton).setCompleteListener(function(){this._gameCtrl.gameModel_520._CanFree?t.getComponent(sp.Skeleton).setAnimation(0,"win",!0):t.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)}.bind(this))}.bind(a)):11==h?Help.LoadSpinePrefab(s,t,0,"win",!1,function(e,t){t.setPosition(o),t.setScale(3.5),t.getComponent(sp.Skeleton).setCompleteListener(function(){t.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)}.bind(this))}.bind(a)):Help.LoadSpinePrefab(s,t,0,"animation",!1,function(e,t){t.setPosition(o),t.getComponent(sp.Skeleton).setCompleteListener(function(){this._gameCtrl.gameModel_520._CanFree?t.getComponent(sp.Skeleton).setAnimation(0,"win",!0):t.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)}.bind(this))}.bind(a)),i.active=!1},d=i(l[1]);!(c=d()).done;)u()},cleanWildStickItems:function(){this.animateWildNode&&this.animateWildNode.removeAllChildren()},onDestroy:function(){this._super()}}),cc._RF.pop()},{FishFacade:"FishFacade",GameProtocol:"GameProtocol",GameView:"GameView",gameUIManager:"gameUIManager"}],GameView:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"2ba8dAsJBpCUJifFbFp1PrO","GameView");var o=e("FishFacade");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e,t=cc.view.getFrameSize();cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),t.height>t.width&&cc.view.setFrameSize(t.height,t.width),this.name="GameView",this.externalThis=this;var n=((e={}).bg=100,e.board=150,e.ctrl=200,e.animate=250,e.mask=300,e.reward=400,e);this._gameCtrl=o.retrieveProxy("GameProxy"),this.shakyNode=new cc.Node("shakyNode"),this.node.addChild(this.shakyNode),this.bgNode||(this.bgNode=new cc.Node("bgNode"),this.node.addChild(this.bgNode,n.bg)),this.boardNode||(this.boardNode=new cc.Node("boardNode"),this.node.addChild(this.boardNode,n.board)),this.ctrlNode||(this.ctrlNode=new cc.Node("ctrlNode"),this.node.addChild(this.ctrlNode,n.ctrl)),this.maskNode||(this.maskNode=new cc.Node("maskNode"),this.node.addChild(this.maskNode,n.mask)),this.animateNode||(this.animateNode=new cc.Node("animateNode"),this.node.addChild(this.animateNode,n.animate)),this.rewardNode||(this.rewardNode=new cc.Node("rewardNode"),this.node.addChild(this.rewardNode,n.reward)),this.GameLayer_Node=this.node.getChildByName("GameLayer_Node"),this.GameLayer_Node.removeFromParent(),this.ctrlNode.addChild(this.GameLayer_Node),this.resList,cc.resources.loadDir("games/game520/texture/symbol",function(e,t){for(var n,a={},s=i(cc.resources.getDirWithPath("games/game520/texture/symbol"));!(n=s()).done;){var o=n.value;a[o.uuid]=o}for(var r,c={},l=i(t);!(r=l()).done;){var h=r.value,u=a[h._uuid].path;c[u]||(c[u]=[]),c[u].push(h)}this.resList=c,this.boardNodeList=this.initBoardNodes(),this.IsinitSpinLayer=!1,this.initSpinLayer()}.bind(this));var a=[{evtType:"STOP_DRAW_ANIMATE",callback:this.stopDrawAnimate},{evtType:"GAMEVIEW_UPDATE_CELL_SPRITE",callback:this.updateCellSprite},{evtType:"DRAW_LINES_THEME_ANIMATE",callback:this.drawLinesThemeAnimate}];this.PushlistNotification(a),cc.log("\u8fdb\u5165\u6e38\u620f\u754c\u9762"),this.GameUIManager.playAudio("bg",!0),o.registerMediator(this),this._gameCtrl._gameView||(this._gameCtrl._gameView=this),o.sendNotification("SET_TOTAL_BET",this._gameCtrl.gameModel.getTotalBet())},getRes:function(e,t){var n=this.resList[e];if(!n)return null;for(var a,s=i(n);!(a=s()).done;){var o=a.value;if(o instanceof t)return o}return null},PushlistNotification:function(e){this.listNotification||(this.listNotification=[]);for(var t=0;t<e.length;t++)this.listNotification.push(e[t])},listNotificationInterests:function(){return this.listNotification},start:function(){},initBoardNodes:function(){for(var e=this._gameCtrl.gameModel.getBoardConfig(),t={},i=0,n=Object.entries(e);i<n.length;i++){var a=n[i],s=a[0],o=a[1],r=new cc.Node("theBoardNode");this.boardNode.addChild(r);var c={},l=new cc.Node("reelNode");l.setPosition(-o.reelConfig[0].base_pos.x,-o.reelConfig[0].base_pos.y),l.zIndex=100;var h=new cc.Node("MaskNode");h.addComponent(cc.Mask),h.setAnchorPoint(0,0),h.setPosition(o.reelConfig[0].base_pos);for(var u=0,d=Object.entries(o.reelConfig);u<d.length;u++){var m=d[u],p=m[0],_=m[1],g=[_.base_pos,_.base_pos.add(cc.v2(_.cellWidth)),_.base_pos.add(cc.v2(_.cellWidth,_.cellHeight*_.symbolCount)),_.base_pos.add(cc.v2(0,_.cellHeight*_.symbolCount))];o.allow_over_range&&(g[1]=g[1].add(cc.v2(-_.cellWidth)),g[4]=g[4].add(cc.v2(-_.cellWidth)),g[2]=g[2].add(cc.v2(-_.cellWidth)),g[3]=g[3].add(cc.v2(-_.cellWidth))),h.setContentSize(h.width+_.cellWidth,_.cellHeight*_.symbolCount),c[p]=l}h.addChild(l),r.addChild(h),r.reelNodes=c,r.reelConfig=o.reelConfig,r.boardIndex=s,r.getReelNode=function(e){return this.reelNodes[e]},t[s]=r}return t},initSpinLayer:function(){this._spinLayerList=[];for(var e=0,t=Object.entries(this.boardNodeList);e<t.length;e++){var i=t[e],n=(i[0],i[1]),a=new cc.Node("GameSpinLayer");this.shakyNode.addChild(a,-1);var s=a.addComponent("GameSpinLayer");s.init(n.reelConfig,n,this),s.DeActive(),this._spinLayerList.push(s)}this.spinLayer=this._spinLayerList[0],this.spinLayer.Active(),this.IsinitSpinLayer=!0},getCurSpinLayer:function(){return this.spinLayer},createCellSprite:function(e,t){var i=this._gameCtrl.gameModel.getNextSprite(e,t);0==e&&0==i&&(i=1);var n=new cc.Node("col:"+e+"   row:"+t),a=this._gameCtrl.gameModel._symbolPic[i],s=new cc.Node;return s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=this.getRes(a,cc.SpriteFrame),n.addChild(s),n.key=i,n.sprite=s,n.spine=null,n},updateCellSprite:function(e,t,i){0==i&&0==t&&(t=1);var n=this._gameCtrl.gameModel._symbolPic[t],a=e.sprite;a.active=!0,cc.resources.load(n,cc.SpriteFrame,function(e,t){a.getComponent(cc.Sprite).spriteFrame=t}),e.key=t,e.spine&&(e.spine.removeFromParent(),e.spine=null)},drawLinesThemeAnimate:function(e,t,i){var n=e,a=i,s=this._gameCtrl.gameModel.getPayLines(),o=a.item_list,r=new cc.Node("framedraw"),c=new cc.Node("symboldraw"),l=new cc.Node("linedraw");this.animateNode.addChild(l,30),this.animateNode.addChild(c,20),this.animateNode.addChild(r,10),this.addMaskLayer();var h=function(e){for(var t=e[0],i=s[t],n=e[1],a=e[2],h=1;h<n;h++){var u=i[h],d=o[h][u];1==a?a==d&&this.drawPayLineItem(h,u,o,c,r):this.drawPayLineItem(h,u,o,c,r)}this.playLineEffect(e,l)}.bind(this),u=function(e){for(var t=0,i=Object.entries(e);t<i.length;t++){var a=i[t],s=(a[0],a[1]);this.drawPayLineItem(s[0],s[1]+1,o,c,r)}for(var h=0,u=Object.entries(n);h<u.length;h++){var d=u[h],m=(d[0],d[1]);this.playLineEffect(m,l)}}.bind(this),d=function(){r.removeAllChildren(),c.removeAllChildren(),l.removeAllChildren(),this.getCurSpinLayer().setCellStatus(!0)}.bind(this);a&&a.win_pos&&a.win_pos.length>0&&r.runAction(cc.sequence(cc.delayTime(0),cc.callFunc(function(){var e=this,t=[],i=cc.callFunc(function(){d(),u(a.win_pos)}.bind(this)),s=cc.delayTime(2);t.push(i),t.push(s);for(var o=function(){var i=l[c],n=(i[0],i[1]),a=cc.callFunc(function(){d(),h(n)}.bind(e)),s=cc.delayTime(2);t.push(a),t.push(s)},c=0,l=Object.entries(n);c<l.length;c++)o();r.runAction(cc.repeatForever(cc.sequence(t)))}.bind(this))))},drawPayLineItem:function(e,t,i,n,s){var o=i[e][t-1];null==o&&(a=1),this.playFrameEffect(e,t,s),this.playItemEffect(o,e,t,n)},playFrameEffect:function(){},playItemEffect:function(e,t,i,n){var a=this.spinLayer.getCell(t,i-1),s=this.spinLayer.getCellPos(t,i);Help.LoadSpinePrefab(n,"games/game520/prefab/symbols"+e,0,"win",!0,function(e,t){t.setPosition(s)}.bind(this)),a.active=!1},playLineEffect:function(){},playSpecialSymbolStopAni:function(){},addMaskLayer:function(){var e=new cc.Node("MaskLayer");e.addComponent(cc.BlockInputEvents),this.maskNode.addChild(e),e.setPosition(667,375),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM,cc.resources.load("games/gamebase/texture/game/pureColor",cc.SpriteFrame,function(t,i){e.getComponent(cc.Sprite).spriteFrame=i}),e.setContentSize(1334,750),e.color=new cc.Color(0,0,0),e.opacity=150},stopDrawAnimate:function(){this.getCurSpinLayer().setCellStatus(!0),this.animateNode.removeAllChildren(),this.maskNode.removeAllChildren(),this.hideBigWin()},hideBigWin:function(){this.rewardNode.removeAllChildren(),this._canRemoveRewardNode=!1},onDestroy:function(){cc.log("GameSceneonDestroy"),o.removeMediator(this.name)}}),cc._RF.pop()},{FishFacade:"FishFacade"}],Game_520_Proxy:[function(e,t){"use strict";cc._RF.push(t,"46610L7pv5Og5KXGRz7TmXt","Game_520_Proxy");var i=e("GameProxy"),n=e("GameProtocol"),a=n.datatypes,s=n.constVal,o=e("gameModel_520"),r=e("gameConfig").config;e("i18n"),cc.Class({extends:i,onRegister:function(){this.gameModel_520=o,this.gameConfig=r,this._globalDataProxy=this.facade.retrieveProxy("FishGlobalDataProxy"),this._super()},registerNetInterface:function(e,t){this._super(e,t),this.net.registerClient(this,"C_gameStart",a.CMD_C_GameStart),this.net.registerClient(this,"GameConclude",a.CMD_GF_Game_Conclude),this.net.registerClient(this,"freeSpinStart",a.CMD_C_GAME_AWAY_START),this.net.registerClient(this,"requestSenceChoose",a.CMD_C_SenceChoose),this.net.registerClient(this,"requestRewardChoose",a.CMD_C_RewardChoose),this.net.registerClient(this,"requestMailBoxReward",a.CMD_C_MailBoxReward),this.net.registerClient(this,"requestBetRewardPool",a.CMD_C_BetRewardPool),this.net.registerServer(this,"onGameMessageGameStart",a.CMD_S_GameStart),this.net.registerServer(this,"onGameMessageGameConclude",a.CMD_S_Game_Conclude),this.net.registerServer(this,"onGameMessageSendmailBox",a.CMD_S_SendmailBox),this.net.registerServer(this,"onEventGameSceneStop",a.CMD_S_Scence_Stop),this.net.registerServer(this,"onGameMessageSenceChoose",a.CMD_S_SenceChoose),this.net.registerServer(this,"onGameMessageRewardChoose",a.CMD_S_RewardChoose),this.net.registerServer(this,"onGameMessageMailBoxReward",a.CMD_S_MailBoxReward),this.net.registerServer(this,"onGameMessageLockMailBox",a.CMD_S_LockMailBox),this.net.registerServer(this,"onGameMessageBetRewardPool",a.CMD_S_BetRewardPool)},requestSpin:function(e,t){this.gameModel._freeSpin>0?this.net.callServer("freeSpinStart"):this.net.callServer("C_gameStart",e,t-1),this._gameView&&this._gameView.cleanWildStickItems&&this._gameView.cleanWildStickItems(this.gameModel_520.wildList),this.gameModel_520.wildList&&this._gameView&&this._gameView.drawWildStickItems&&(this._gameView.drawWildStickItems(this.gameModel_520.wildList),this.gameModel_520._wildList=this.gameModel_520.wildList)},requestStop:function(){this.gameModel._freeSpin>0?this.sendUserReady():this.net.callServer("GameConclude")},requestSenceChoose:function(e){cc.log("\u573a\u666f\u9009\u62e9"),this.net.callServer("requestSenceChoose",e)},requestRewardChoose:function(e){cc.log("\u5956\u52b1\u9009\u62e9"),this.net.callServer("requestRewardChoose",e)},requestMailBoxReward:function(e){cc.log("\u9009\u62e9\u5bc6\u7801\u7eb8"),this.net.callServer("requestMailBoxReward",e)},requestBetRewardPool:function(e){cc.log("\u8bf7\u6c42\u5956\u6c60"),this.net.callServer("requestBetRewardPool",e)},onGameMessageGameConclude:function(){cc.log("\u6e38\u620f\u7ed3\u675f"),this.sendUserReady(),this.dealRequestStopResult()},onGameMessageGameStart:function(e){var t=e;cc.log("\u6e38\u620f\u5f00\u59cb",t),this.gameModel_520._CanBn=t.bCanBn,this.gameModel_520._isPlayWaitAni=!0;for(var i={},n=[],a={},o=0,r=Object.entries(t.cbItemType);o<r.length;o++){var c=r[o],l=c[0];if(255!=c[1])for(var h=this.gameModel.lines[l],u=0;u<t.cbLineCount[l];u++)a[u+"."+h[u]]=!0}for(var d=0,m=Object.entries(a);d<m.length;d++){var p=m[d],_=p[0],g=(p[1],_.split("."));n.push([Number(g[0]),Number(g[1])])}if(this.gameModel_520.wildList)for(var f=0;f<5;f++)for(var S=0;S<3;S++)0===this.gameModel_520.wildList[f][S]&&0===t.ItemInfo[S][f]&&(t.ItemInfo[S][f]=Help.getRandomInt(2,10));if(this.gameModel_520._GiveAwayCount=t.nGiveAwayCount,t.nGiveAwayCount>0)for(var b=0;b<s.ITEM_X_COUNT;b++)for(var C=0;C<3;C++)1===t.ItemInfo[C][b]&&n.push([b,C-1]);i.win_pos=n;for(var y=[],v=0,I=Object.entries(t.cbItemType);v<I.length;v++){var T=I[v],L=T[0],N=T[1];if(255!=N){var w={};w.line=L,w.symbol=N,w.count=t.cbLineCount[L],y.push(w)}}i.win_lines=y;for(var M=[],D=0;D<s.ITEM_X_COUNT;D++){for(var R=[],U=0;U<3;U++)R[U]=t.ItemInfo[U][D];M[D]=R}i.item_list=M,this._gameView.isOneFree&&(this.gameModel_520._recoveryFreeList=i.item_list);for(var E=0,G=0;G<s.MAX_LINE_COUNT;G++)E+=t.dLineScore[G];i.total_win=E,i.free_spin=t.nTotalGiveAwayCount,i.free_win=t.dUserTotalWinScore,i.free_state=t.cbFreeSpinState,cc.log(i.item_list),cc.log(i.win_lines),this.dealRequestSpinResult(i),this.gameModel_520.wildList=[];for(var A=0;A<s.ITEM_X_COUNT;A++){for(var B=[],F=0;F<3;F++)0===t.WildStickInfo[F][A]&&(B[F]=t.WildStickInfo[F][A]);this.gameModel_520.wildList[A]=B}},onGameMessageSendmailBox:function(e){this.sendNotification("SUB_S_SEND_MAILBOX",e)},onEventGameSceneStop:function(){cc.log("CMD_S_Scence_Stop")},onGameMessageSenceChoose:function(){cc.log("onGameMessageSenceChoose"),setTimeout(function(){this._gameView.BonusLayer.PlayQiePingAni()}.bind(this),1e3)},onGameMessageRewardChoose:function(e){cc.log("onGameMessageRewardChoose");for(var t=e,i=t.bRewardGoodsID,n=t.llRewardValue,a=t.cbGoodsID,s=0;s<4;s++)this._gameView.BonusLayer.SetJackpot(s,t.stSendMainbox[s]);this._gameView.BonusLayer.CreateGoods(i,n,a)},onGameMessageMailBoxReward:function(e){cc.log("onGameMessageMailBoxReward");var t=e;this._gameView.BonusLayer.KaiBaoXianXiang(t.llRewardValue,t.cdRewardID)},onGameMessageLockMailBox:function(e){cc.log("onGameMessageLockMailBox");var t=e;this.gameModel_520._UnlockRewardID=t.bUnlockRewardID,this._gameView.BonusLayer.SetjiangchiAni(t.bUnlockRewardID)},onGameMessageBetRewardPool:function(e){cc.log("onGameMessageBetRewardPool");var t=e;this.gameModel_520._UnlockRewardID=t.bUnlockRewardID,this._gameView.ShowJackpotKuang(t.bUnlockRewardID),this._gameView.SetJackpotText(t.stSendMainbox)},onEventGameScene:function(e){this._super();var t=null;if(e===s.GAME_SCENE_FREE||e===s.GAME_SCENE_WAIT?(t=a.CMD_S_StatusFree.createFromStream(this.app.stream),this.gameModel_520._UnlockRewardID=t.bUnlockRewardID):e===s.GAME_SCENE_PLAY&&(t=a.CMD_S_StatusPlay.createFromStream(this.app.stream)),null!==t){var i={};if(i.bet_index=t.cbBetIndex+1,i.baseScore=t.lCellScore,i.betCount=t.cbBetCount,i.betList=t.lBetScoreArr,t.ItemInfo){for(var n=[],o={},r=0,c=Object.entries(t.cbItemType);r<c.length;r++){var l=c[r],h=l[0];if(255!=l[1])for(var u=this.gameModel.lines[h],d=0;d<t.cbItemLineCount[h];d++)o[d+"."+u[d]]=!0}for(var m=0,p=Object.entries(o);m<p.length;m++){var _=p[m],g=_[0],f=(_[1],g.split("."));n.push([Number(f[0]),Number(f[1])])}i.win_pos=n;for(var S=[],b=0,C=Object.entries(t.cbItemType);b<C.length;b++){var y=C[b],v=y[0],I=y[1];if(255!=I){var T={};T.line=v,T.symbol=I,T.count=t.cbLineCount[v],S.push(T)}}i.win_lines=S;for(var L=[],N=0;N<s.ITEM_X_COUNT;N++){for(var w=[],M=0;M<3;M++)w[M]=t.ItemInfo[M][N];L[N]=w}i.item_list=L,this.gameModel_520._recoveryFreeList=i.item_list;for(var D=0,R=0;R<s.MAX_LINE_COUNT;R++)D+=t.lLineScore[R];i.total_win=D,i.free_spin=t.nTotalGiveAwayCount,i.free_win=t.dUserTotalWinScore,i.free_state=t.cbFreeSpinState,i.line_count=t.cbLineCount,i.bet_index=t.cbBetIndex+1,this.gameModel_520._CanBn=t.bCanBn,this.gameModel_520._VerifyMailBox=t.bVerifyMailBox,this.gameModel_520._BnSenceId=t.bBnSenceId,this.gameModel_520._bRewardGoodChoose=t.bRewardGoodChoose,this.gameModel_520._UnlockRewardID=t.bUnlockRewardID,this.gameModel_520._RewardNum=t.llRewardNum,this.gameModel_520._SkullNum=t.bSkullNum,this.gameModel_520._isBreakLine=!0}this.dealSceneData(i)}},createStartFreeLayer:function(){var e=function(){this.freeGameStart()}.bind(this);this._gameView&&this._gameView.createStartFreeLayer&&this._gameView.createStartFreeLayer(this.gameModel._freeSpin,e)},playReelNotifyEffect:function(){this.gameModel_520._isPlayWaitAni},onReelStop:function(e){this.notifyState&&this.notifyState[e]&&this.notifyState[e].length>0&&(this.playSpecialSymbolStopAni(e,this.notifyState[e]),this.checkSpeedUp(e+1)&&(this.playReelNotifyEffect(e+1),this.gameModel_520._isPlayWaitAni=!1))},recoveryFreeScene:function(){this._gameView&&this._gameView.cleanWildStickItems&&(this._gameView.cleanWildStickItems(this.gameModel_520.wildList),this._gameView.animateNode&&this._gameView.animateNode.removeAllChildren());for(var e=0,t=Object.entries(this.gameModel_520._recoveryFreeList);e<t.length;e++)for(var i=t[e],n=i[0],a=i[1],s=0,o=Object.entries(a);s<o.length;s++){var r=o[s],c=r[0],l=r[1],h=this._gameView.getCurSpinLayer().getCell(n,c);h.active=!0,this.updateCellSprite(h,n,!0,l)}},handleResult:function(){this.drawAnimate(this.gameModel._spinResult),this.sendNotification("CHANGE_SPIN_BTN_STATE",!0);var e=function(){if(this.gameModel._freeState>=1&&this.gameModel._freeState<=2&&this.gameModel._freeSpin>0)this._gameView.scheduleOnce(function(){this.createStartFreeLayer()}.bind(this),1);else if(3===this.gameModel._freeState&&this.gameModel._freeSpin<1){var e=0;this.gameModel._totalWin>0&&(e=1),this.gameModel._curwinscore=this.gameModel._freewin,this._gameView.scheduleOnce(function(){this.createFreeRewardLayer()}.bind(this),e)}this.gameModel._freeSpin<1&&3!=this._freeState?(this.sendNotification("SET_TOTAL_WIN",this.gameModel._totalWin),this.sendNotification("UPDATE_SCORE",this.gameModel._totalWin),this.sendNotification("CHANGE_GAME_BTN_STATE",!0),this.gameModel._curwinscore=this.gameModel._totalWin):this.sendNotification("SET_TOTAL_WIN",this.gameModel._freewin),3!=this.gameModel._freeState&&this.requestStop()}.bind(this);this.gameModel_520._CanBn?255===this.gameModel_520._BnSenceId?setTimeout(function(){this._gameView.createBonusLayer(e)}.bind(this),4e3):this._gameView.RecoverBonusLayer(e,this.gameModel_520._BnSenceId+1,this.gameModel_520._VerifyMailBox,this.gameModel_520._bRewardGoodChoose,this.gameModel_520._UnlockRewardID,this.gameModel_520._RewardNum,this.gameModel_520._SkullNum):e(),this.gameModel_520._isBreakLine=!1},drawAnimate:function(e){if(this.gameModel_520._CanFree=!1,this.gameModel_520._CanBn){this.gameUIManager.playAudio("bell",!1),this.gameUIManager.playAudio("anti_suc_vo1",!1),this._gameView.animateNode.removeAllChildren();for(var t=0;t<5;t++)this.notifyState&&this.notifyState[t]&&this.notifyState[t].length>0&&this._gameView.playSpecialSymbolStopAni(t,this.notifyState[t],this.gameModel_520._CanBn)}if(e.win_pos&&e.win_pos.length>0){if(this.gameModel_520._GiveAwayCount>0){this.gameModel_520._CanFree=!0,this.gameUIManager.playAudio("bell",!1),this.gameUIManager.playAudio("anti_suc_vo2",!1),this._gameView.animateNode.removeAllChildren();for(var i=0;i<5;i++)this.notifyState&&this.notifyState[i]&&this.notifyState[i].length>0&&this._gameView.playSpecialSymbolStopAni(i,this.notifyState[i])}this.gameUIManager.playAudio("win1",!1),setTimeout(function(){this.gameUIManager.playAudio("win1end",!1)}.bind(this),1e3),this.drawLinesThemeAnimate(this.gameModel.winLines,this._gameView.getCurSpinLayer(),e)}this.gameModel_520._wildList&&this._gameView&&this._gameView.hideWildStickDownItems&&this._gameView.hideWildStickDownItems(this.gameModel_520._wildList)},subBet:function(){this.gameModel._betIndex<=1?this.gameModel._betIndex=this.gameModel._betCount:this.gameModel._betIndex=this.gameModel._betIndex-1,this.requestBetRewardPool(this.gameModel._betIndex-1),this.sendNotification("SET_TOTAL_BET",this.gameModel.getTotalBet())},addBet:function(){this.gameModel._betIndex>=this.gameModel._betCount?this.gameModel._betIndex=1:this.gameModel._betIndex=this.gameModel._betIndex+1,this.requestBetRewardPool(this.gameModel._betIndex-1),this.sendNotification("SET_TOTAL_BET",this.gameModel.getTotalBet())},maxBet:function(){this.gameModel._betIndex=this.gameModel._betCount,this.requestBetRewardPool(this.gameModel._betIndex-1),this.sendNotification("SET_TOTAL_BET",this.gameModel.getTotalBet())},freeGameStart:function(){this._gameView&&this._gameView.setFreeRemain&&this._gameView.setFreeRemain(this.gameModel._freeSpin-1),this.spin()}}),cc._RF.pop()},{GameProtocol:"GameProtocol",GameProxy:"GameProxy",gameConfig:"gameConfig",gameModel_520:"gameModel_520",i18n:"i18n"}],Help:[function(e,t){"use strict";cc._RF.push(t,"4a0c5sLKjlGtqESPIuyXwBW","Help"),window.Help={},Help.LoadSpinePrefab=function(e,t,i,n,a,s){cc.resources.load(t,cc.Prefab,function(t,o){if(t)cc.log(t);else{var r=cc.instantiate(o);e.addChild(r),r.getComponent(sp.Skeleton).setAnimation(i,n,a),s(e,r)}})},Help.popDialog=function(e,t){if(e){var i=t||.3;e.setScale(0),e.opacity=0;var n=cc.scaleTo(i,1.1,1.1),a=cc.fadeIn(i),s=cc.spawn(n,a),o=cc.scaleTo(.1,1,1),r=cc.sequence(s,o);return e.runAction(r),i+.1}},Help.hideDialog=function(e,t,i){if(e){var n=t||.15,a=cc.scaleTo(n,0,0),s=cc.fadeOut(n),o=cc.spawn(a,s),r=cc.scaleTo(.1,1.1,1.1),c=cc.callFunc(i),l=cc.sequence(r,o,c);e.runAction(l)}else i&&i()},Help.FormatScore=function(e,t){if(t=t||2,e/=SCORE_RATIO,Math.floor(e)===e)return e.toString().replace(/\B(?=(\d{2})+(?!\d))/g,",");for(var i=1,n=1;n<=t;n++)if(i*=10,Math.floor(e*i)===e*i)return e.toFixed(n);return e.toFixed(t)},Help.FormatScore2=function(e,t){return(e/SCORE_RATIO).toFixed(t||2)},Help.scorllNumber=function(e,t,i,n,a){var s=t||0,o=i||0,r=n||.8,c=o-s,l=Math.ceil(25*r),h=Math.floor(c/l);Math.abs(h)<1&&(h=1);var u=Math.floor(.2*Math.abs(h));Math.abs(u)<1&&(u=0);var d=cc.delayTime(.04),m=cc.callFunc(function(){s>=o||(s=s+h+Help.getRandomInt(-u,u),(h>0&&s>o||h<0&&s<o)&&(s=o),a&&a(e,s))}),p=cc.sequence(d,m);e.runAction(cc.repeatForever(p))},Help.deepClone=function(e){var t=Array.isArray(e)?[]:{};if(e&&"object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e&&"object"==typeof e[i]?this.deepClone(e[i]):e[i]);return t},Help.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},Help.checknumber=function(e,t){return Number(e,t)||0},cc._RF.pop()},{}],InitFishFacade:[function(e,t){"use strict";cc._RF.push(t,"9824epxwJBKj7fChW8uMoC+","InitFishFacade"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){e("FishFacade").startup()}}),cc._RF.pop()},{FishFacade:"FishFacade"}],LabelLocalized:[function(e,t){"use strict";cc._RF.push(t,"e4f88adp3hERoJ48DZ2PSAl","LabelLocalized");var i=e("i18n");cc.Class({extends:cc.Label,properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this.string=this.localizedString}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){return i.t(this.textKey)},set:function(e){this.textKey=e}}},onLoad:function(){this._super(),this.localizedString&&(this.string=this.localizedString)}}),cc._RF.pop()},{i18n:"i18n"}],LoadingLogic:[function(e,t){"use strict";cc._RF.push(t,"e0499qxLIdOnpgqI7QPZtOa","LoadingLogic");var i=e("FishFacade");cc.Class({extends:cc.Component,properties:{progressBar:cc.ProgressBar,psLogo:{default:null,type:cc.Node},tipLabel:cc.Label},onLoad:function(){cc.view.setDesignResolutionSize(1334,750,cc.ResolutionPolicy.SHOW_ALL),cc.view.on(cc.game.EVENT_GAME_SIZE_CHANGED,function(e){var t=e.width/1334,i=e.height/750,n=Math.min(t,i),a=new cc.Size(1334*n,750*n);cc.view.resizeCanvas(a,cc.ResolutionPolicy.NO_BORDER)}),i.registerMediator(this);var t=KBEngine.createApp();t.wssAddr=LobbyServerAddr,this._app=t;var n=i.retrieveProxy("GameProxy");null!=n&&i.removeProxy("GameProxy");var a=e("Game_520_Proxy");i.addProxy(new a),n=i.retrieveProxy("GameProxy");var s=i.retrieveProxy("GameTableProxy");null!=s&&i.removeProxy("GameTableProxy");var o=e("GameTableProxy");i.addProxy(new o),s=i.retrieveProxy("GameTableProxy"),i.registerProxy(),s.registerNetInterface(t,520),n.registerNetInterface(t,520),this.GameTableProxy=i.retrieveProxy("GameTableProxy"),this.gameSceneName="GameScene_520"},start:function(){var e=this;Math.ceil(4*Math.random()),G_LanguageType,cc.resources.preloadDir("games/game520/texture/symbol",function(){cc.resources.getDirWithPath("games/game520/texture/symbol",cc.SpriteFrame).map(function(e){return e.path})}.bind(this)),cc.resources.preloadDir("games/game520/prefab",function(){}.bind(this)),this.progressBar.progress=0,cc.director.preloadScene(this.gameSceneName,function(t,i){if(e.progressBar){var n=t/i*100;e.progressBar.progress=n/100}},function(){cc.log("\u6e38\u620f\u573a\u666f\u9884\u52a0\u8f7d\u5b8c\u6210\uff0c\u767b\u5f55\u6e38\u620f");var e="",t="",i=window.location.href.split("?")[1];i&&i.split("&").forEach(function(i){var n=i.split("=");"member_account"==n[0]?e=n[1]:"token"==n[0]&&(t=n[1])}),this._app.connect(function(){this.GameTableProxy.logonGame(e,t)}.bind(this))}.bind(this))},listNotificationInterests:function(){return[{evtType:FishConstants.LOGIN_GAME_FINISH,callback:this.loginFinish}]},loginFinish:function(){cc.log("\u52a0\u8f7d\u6e38\u620f\u573a\u666f"),cc.director.loadScene(this.gameSceneName)},onDestroy:function(){cc.log("LoadingSceneonDestroy"),i.removeMediator(this.name)}}),cc._RF.pop()},{FishFacade:"FishFacade",GameTableProxy:"GameTableProxy"}],MaskEx:[function(e,t){"use strict";cc._RF.push(t,"f59c8nr99xMxpCGBcUO8AJr","MaskEx"),cc.Class({extends:cc.Mask,setVertsDirtySprite:function(){this._spriteFrame&&(this.setVertsDirty(),this._updateMaterial())},onEnable:function(){this._super(),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.setVertsDirtySprite,this)},onDisable:function(){this._super(),this.node.off(cc.Node.EventType.SIZE_CHANGED,this.setVertsDirtySprite,this)}}),cc._RF.pop()},{}],Noise:[function(e,t){"use strict";cc._RF.push(t,"9b53bL3HNBE3oJadJUtV5RS","Noise");var i=function(){this.reset()};i.prototype={constructor:i,reset:function(){},noise1d:function(e){return e^=e<<13,1-9.313225746154785e-10*(Math.imul(e,Math.imul(Math.imul(e,e),15731)+789221)+1376312589&2147483647)},generateNoise1D:function(e){var t=Math.floor(e),i=e-t,n=this.noise1d(t),a=this.noise1d(t+1);return this.interpolate(n,a,i)},interpolate:function(e,t,i){var n=3.1415927*i,a=.5*(1-Math.cos(n));return e*(1-a)+t*a}},t.exports=new i,cc._RF.pop()},{}],RichTextLocalized:[function(e,t){"use strict";cc._RF.push(t,"5de2ebVmkNFob74AzN8MRLR","RichTextLocalized");var i=e("i18n");cc.Class({extends:cc.RichText,properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this.string=this.localizedString}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){return i.t(this.textKey)},set:function(e){this.textKey=e}}}}),cc._RF.pop()},{i18n:"i18n"}],RippleFishFightScene:[function(e,t){"use strict";cc._RF.push(t,"4de38la48RHFI/D1qyPvm+b","RippleFishFightScene"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.dynamicAtlasManager.enabled=!1,this.target=this.node.getComponent(cc.Sprite),this._material=this.target.getMaterial(0),this.m_rippleList=[],this.rippleDirty=!0},start:function(){this._material.setProperty("ripple_num",this.m_rippleList.length)},addRipple:function(e){if(this.rippleDirty&&this.m_rippleList.length<=8){var t={};t.centerCoordinate=cc.v2(1.775*((e.x/cc.winSize.width-.5)*(cc.winSize.width/1704)+.5),1-((e.y/cc.winSize.height-.5)*(cc.winSize.height/960)+.5)),t.runtime=0,t.lifespan=4,this.m_rippleList.push(t)}},setRippleDirty:function(e){this.rippleDirty=e},update:function(e){if(this.rippleDirty){for(var t=this.m_rippleList.length-1;t>=0;t--)this.m_rippleList[t].runtime+=e,this.m_rippleList[t].runtime>=this.m_rippleList[t].lifespan&&cc.js.array.fastRemoveAt(this.m_rippleList,t);this._material.effect.setProperty("ripple_num",this.m_rippleList.length);for(var i=this.m_rippleList.length-1;i>=0;i--)switch(i){case 0:this._material.setProperty("coor_center1",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time1",this.m_rippleList[i].runtime);break;case 1:this._material.setProperty("coor_center2",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time2",this.m_rippleList[i].runtime);break;case 2:this._material.setProperty("coor_center3",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time3",this.m_rippleList[i].runtime);break;case 3:this._material.setProperty("coor_center4",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time4",this.m_rippleList[i].runtime);break;case 4:this._material.setProperty("coor_center5",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time5",this.m_rippleList[i].runtime);break;case 5:this._material.setProperty("coor_center6",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time6",this.m_rippleList[i].runtime);break;case 6:this._material.setProperty("coor_center7",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time7",this.m_rippleList[i].runtime);break;case 7:this._material.setProperty("coor_center8",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time8",this.m_rippleList[i].runtime)}}}}),cc._RF.pop()},{}],Ripple:[function(e,t){"use strict";cc._RF.push(t,"0aa4dA9LshKjKOHIo/Y2Wo9","Ripple"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.dynamicAtlasManager.enabled=!1,this.target=this.node.getComponent(cc.Sprite),this._material=this.target.getMaterial(0),this.m_rippleList=[],this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnded,this)},start:function(){this._material.setProperty("ripple_num",0)},onTouchEnded:function(e){var t=e.touch.getLocation();if(this.m_rippleList.length<=8){var i={};i.centerCoordinate=cc.v2(1.775*((t.x/cc.winSize.width-.5)*(cc.winSize.width/1704)+.5),1-((t.y/cc.winSize.height-.5)*(cc.winSize.height/960)+.5)),i.runtime=0,i.lifespan=4,this.m_rippleList.push(i)}},update:function(e){for(var t=this.m_rippleList.length-1;t>=0;t--)this.m_rippleList[t].runtime+=e,this.m_rippleList[t].runtime>=this.m_rippleList[t].lifespan&&cc.js.array.fastRemoveAt(this.m_rippleList,t);this._material.effect.setProperty("ripple_num",this.m_rippleList.length);for(var i=this.m_rippleList.length-1;i>=0;i--)switch(i){case 0:this._material.setProperty("coor_center1",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time1",this.m_rippleList[i].runtime);break;case 1:this._material.setProperty("coor_center2",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time2",this.m_rippleList[i].runtime);break;case 2:this._material.setProperty("coor_center3",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time3",this.m_rippleList[i].runtime);break;case 3:this._material.setProperty("coor_center4",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time4",this.m_rippleList[i].runtime);break;case 4:this._material.setProperty("coor_center5",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time5",this.m_rippleList[i].runtime);break;case 5:this._material.setProperty("coor_center6",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time6",this.m_rippleList[i].runtime);break;case 6:this._material.setProperty("coor_center7",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time7",this.m_rippleList[i].runtime);break;case 7:this._material.setProperty("coor_center8",this.m_rippleList[i].centerCoordinate),this._material.setProperty("run_time8",this.m_rippleList[i].runtime)}}}),cc._RF.pop()},{}],SpineConfig_520:[function(e,t){"use strict";var i;cc._RF.push(t,"b0873Qpf8JL0qgi4lURtJYL","SpineConfig_520"),t.exports=((i={})[1]={AnimationName:"jp_shangsuo",csbRes:"games/game520/spine/jp_shangsuo"},i),cc._RF.pop()},{}],UIModuleInfo_520:[function(e,t){"use strict";var i;cc._RF.push(t,"0a898aEtTZI/b/ySKXMYy1g","UIModuleInfo_520"),t.exports=((i={})[2]={Id:2,viewName:"tipView_game",csbRes:"games/gamebase/prefab/tishi",Zorder:1,isAudio:null,openAnimationName:1,des:"\u63d0\u793a\u9875\u9762"},i[3]={Id:2,viewName:"GameHelpLayer",csbRes:"games/game520/prefab/GameHelpLayer_Node",Zorder:1,isAudio:null,openAnimationName:1,des:"\u5e2e\u52a9\u754c\u9762"},i),cc._RF.pop()},{}],en:[function(e,t){"use strict";cc._RF.push(t,"920c5VLzJxKjYCAoIUwUHym","en"),t.exports={"GameLobbyLoginScene.fire.1":" ","GameLobbyLoginScene.fire.2":"Resource update, please wait.....","fish.prefab.1":"Up to 60,000 gold coins\ncan be used in the fishery","fish.prefab.2":"Up to 130,000 gold coins\ncan be used in the fishery","fish.prefab.3":"Up to 300,000 gold coins\ncan be used in the fishery","fish.prefab.4":"Up to 600,000 gold coins\ncan be used in the fishery","fish.prefab.5":"Single click to switch the\nnumber of bombs used","fish.prefab.6":"Double the rate of fire\nafter use","fish.prefab.7":"Use to lock any fish\nin the fishery","fish.prefab.8":"Use to freeze all the fish\nin the fishery","fish.prefab.T1":"Copper Bomb","fish.prefab.T2":"Super Bomb","fish.prefab.T3":"Gold Bomb","fish.prefab.T4":"Silver Bomb","fish.prefab.T5":"Bomb use","fish.prefab.T6":"Rapid","fish.prefab.T7":"Locked","fish.prefab.T8":"Frozen","fish.prefab.M1":" ","fish.prefab.M2":" ","fish.prefab.M3":" ","fish.prefab.M4":" ","fish.prefab.rule1":"Random kills in the fishery\ncan be rewarded","fish.prefab.rule2":"Random hits in the fishery will\ndrop bonus and use\nhigh-powered cannons to\ndrop more easily","fish.prefab.rule3":"Use bombs to get a lot of\ngold coins","fish.prefab.rule4":'"BombRoom" kill any fish\nChance to crit up to 5 times\n crit 1 line tops 5 lines',"fish.prefab.rule5":"Killing fish with chain lightning\ncan capture similar fish","fish.prefab.rule6":"Successful capture captures\nall small fish in the screen","fish.prefab.ruleT1":"bonus","fish.prefab.ruleT2":"God of wealth","fish.prefab.ruleT3":"Bomb","fish.prefab.ruleT4":"Crit doubled","fish.prefab.ruleT5":"Chain lightning","fish.prefab.ruleT6":"Electric eel","fish.prefab.ruleI4":"*5","FishTypeView.1":"X","FreeGoldLayer.1":"Remaining times of get reward\uff1a","FreeGoldLayer.2":"The total amount of coins is less than ","FreeGoldLayer.3":"Your game currency amount has not reached the claim requirement!","FreeGoldLayer.4":"Insufficient number of remaining times","FreeGoldLayer.prefab.1":"Normal reward\uff1a\n\nVIP bonus\uff1a","FreeGoldLayer.prefab.2":"VIP bonus","PiggyBankLayer.prefab.1":"Max Storage","PiggyBankLayer.prefab.2":" Current VIP Storage\uff1a","ChangeCannonLayer.prefab.1":"No function","ChangeCannonLayer.prefab.2":"VIP2 exclusive cannon","ChangeCannonLayer.prefab.3":"VIP3 exclusive cannon","ChangeCannonLayer.prefab.4":"VIP4 exclusive cannon","ChangeCannonLayer.prefab.5":"VIP5 exclusive cannon\nFreeze skill duration +5 seconds","ChangeCannonLayer.prefab.6":"VIP6 exclusive cannon","ChangeCannonLayer.prefab.7":"VIP7 exclusive cannon\nIncrease capture probability","ExchangeRedPacketLayer.prefab.1":"Use tickets","ExchangeRedPacketLayer.1":" ","ExchangeRedPacketLayer.2":" ","ExchangeRedPacketLayer.3":"Insufficient bonus","ExchangeRedPacketLayer.4":"Do you want to exchange?","ExchangeRedPacketLayer.5":"Successful exchange","ExchangeRedPacketLayer.6":"Congratulations player <color=#0fffff>","ExchangeRedPacketLayer.7":"</color> exchange ","NewGuideLayer0.prefab.1":"Wow! A lot of fun fishing games!\nLet's go to the fishery to play.","NewGuideLayer0.prefab.2":" ","NewGuideLayer0.prefab.3":" ","NewGuideLayer1.prefab.1":"Cannon can accumulate progress energy to get rewards! Look at it quickly, the progress energy will be full soon.","NewGuideLayer1.prefab.2":"Click on the screen to fire!","NewGuideLayer2.prefab.1":"The progress energy bar is full, \ncongratulations on getting a \nreward for us to open it!","NewGuideLayer3.prefab.1":"Wow! Good luck, let's continue\nto get rewards!","NewGuideLayer3.prefab.2":" ","NewGuideLayer5.prefab.1":"Click here to open the Newbie\nBonus.","NewGuideLayer6.prefab.1":"Click here to claim the Newbie\nBonus.","GameToolProxy.1":"reconnecting","OutRoomView.1":"Captain, you can get a reward by launching another <color=#D57520>","OutRoomView.2":"</c> guns! Do you continue to fire?","tanchukuang.prefab.1":"Do you really want to leave?","fishUiLayer.1":"Frozen needs vip1 to use","fishUiLayer.2":"Rapid need vip1 to use","fishUiLayer.3":"Locked need vip1 to use","fishUiLayer.Tip1":"Insufficient skills (check the usage quantity)","fishUiLayer.Tip2":"Insufficient bombs (check the usage quantity)","fishUiLayer.Tip3":"This skill is cooling down","CompetitionRoomRink.prefab.1":"weekly score\uff1a","CompetitionRoomRink.prefab.2":"daily score\uff1a","CompetitionRoomRink.prefab.3":"today's ranking\uff1a","CompetitionRoomRink.prefab.4":"time\uff1a","CompetitionRoomRink.prefab.5":"score\uff1a","CompetitionRoomRink.prefab.6":"Rankings are refreshed every 10 minutes","CompetitionRoomOver.prefab.1":"Earn points\uff1a","CompetitionRoomOver.prefab.2":"Earn rewards\uff1a","CompetitionRoomOver.prefab.3":"game over","CompetitionRoomBuy.prefab.1":"coins remaining\uff1a","CompetitionRoomBuy.prefab.2":"It can only be exchanged once, and the bullets\nexchanged are only valid in this game","CompetitionRoomBuy.prefab.3":"coins                 bullets","CompetitionRoomBuy.prefab.4":"Supplementary bullets","CompetitionRoomBuy.prefab.5":"end game","CompetitionRoomBuy.prefab.6":"exchange","game_resource.prefab.1":"score","redPacketShowAni_0.prefab.1":"Congratulations on getting","redPacketShowAni_0.prefab.2":"bonus","EmailSystemLayer.prefab.1":"Up to 60 pieces of information can be saved","UserInfoLayer.1":"not enough bombs","UserInfoLayer.2":"Giving bombs requires VIP1 and above","shopLayer.1":"\u8d2d\u4e70\u6210\u529f","SendPacketItemLayer.1":"Player id can only be numbers","ExchangeRedPacketLayer2.1":"You don't have enough tickets","ExchangeRedPacketLayer2.2":"Exchange successfully, get ","ExchangeRedPacketLayer2.3":" gold coins","CompetitionRoomRinkView.1":"Not enough challenges","GameLobbyLoginUI.1":"fish","fishPlayer.1":"Do you have insufficient gold coins to recharge?","fishPlayer.2":"You need to carry at least ","fishPlayer.3":" gold coins to increase the turret multiplier","fishjiFenBanMatch.1":"completed","fishAnimationLayer.1":"*","fishAnimationLayer.2":" ","fishAnimationLayer.3":"Get ","fishAnimationLayer.4":" tickets","LotteryTicketTitle.prefab.1":"My ticket\uff1a","LotteryTicketTitle.prefab.2":"Use bombs to have a\n chance to get a ticket","RedPacketRule.prefab.1":"You can get 0.1, 0.2, 0.3 and 1 rewards","RedPacketRule.prefab.2":"You can get 1, 2, 3 and 8 rewards","RedPacketRule.prefab.3":"You can get 4, 8, 12 and 88 rewards","RedPacketRule.prefab.4":"While killing fish to get gold coins, you can get an additional chance to draw bonus. When the bonus energy bar reaches the corresponding level, you can draw bonus. <color=#FFFF00>you can get up to 88 bonus</color>, and the progress of exiting the game will be saved for 30 minutes","ExchangeRedPacketLayer2.prefab.1":"Remaining tickets:","ExchangeRedPacketLayer2.prefab.2":"ticket                      gold coins","ExchangeRedPacketLayer2.prefab.3":"1 ticket = 20,000 gold coins","RegistAccountLayer.1":"Phone number can not be blank!","RegistAccountLayer.2":"Please enter 11-digit mobile phone number!","RegistAccountLayer.3":"Please enter a valid phone number!","RegistAccountLayer.4":"get verification code","RegistAccountLayer.5":"Code can not be empty!","RegistAccountLayer.6":"Verification code can only be numbers","RedPacketOpen.prefab.1":"Completing the bonus automatically draws the bonus"},cc._RF.pop()},{}],gameConfig:[function(e,t){"use strict";var i,n,a,s,o,r,c,l;cc._RF.push(t,"245afKa9slE8a/kHFanwtz8","gameConfig");var h={cellHeight:137,cellWidth:164};h.reelSpinConfig={maxSpeed:-3600,spinDelay:0,speedUpTime:20/60,upBounce:2*h.cellHeight/3,upBounceMaxSpeed:360,upBounceTime:0,stopDelay:20/60,speedDownTime:.5,downBounce:2*h.cellHeight/3,downBounceMaxSpeed:360,downBounceTime:.25},h.gameConfig=((l={}).game_symbol_coinfig=((s={}).normal_symbol_list=[0,1,2,3,4,5,6,7,8,9,10,11],s.special_symbol_config=((a={})[1]=((i={}).min_cnt=3,i.type=2,i.col_set=[1,1,1,1,1],i),a[11]=((n={}).min_cnt=3,n.type=2,n.col_set=[1,1,1,1,1],n),a),s),l.game_type="payLine",l.game_type_config=((o={}).pay_lines=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,0,0],[2,2,1,2,2],[1,2,2,2,1],[1,0,0,0,1],[0,1,1,1,0],[2,1,1,1,2],[1,1,0,1,1],[1,1,2,1,1],[1,0,1,0,1],[1,2,1,2,1],[0,1,0,1,0],[2,1,2,1,2],[0,0,1,2,2],[2,2,1,0,0],[0,2,0,2,0]],o.line_cnt=20,o),l.boardConfig=[(c={},c.reel_single=!0,c.allow_over_range=!1,c.colCnt=5,c.rowCnt=3,c.cellWidth=h.cellWidth,c.cellHeight=h.cellHeight,c.reelConfig=[(r={},r.base_pos=cc.v2(260,173),r)],c)],l),t.exports={config:h},cc._RF.pop()},{}],gameLayer:[function(e,t){"use strict";cc._RF.push(t,"4fba0Atx4pBkLqW4JU/7dL0","gameLayer");var i=e("FishFacade");cc.Class({extends:cc.Component,properties:{Button_back:{type:cc.Button,default:null},Button_setting:{type:cc.Button,default:null},FileNode_setting:{type:cc.Node,default:null},Panel_bg:{type:cc.Node,default:null},Button_spin:{type:cc.Button,default:null},PanelTimes:{type:cc.Node,default:null},Text_score:{type:cc.Label,default:null},Text_total_bet:{type:cc.Label,default:null},Text_total_win:{type:cc.Label,default:null},Text_time_left:{type:cc.Label,default:null},Button_sub_bet:{type:cc.Button,default:null},Button_add_bet:{type:cc.Button,default:null},Button_max_bet:{type:cc.Button,default:null},Button_stop_spin:{type:cc.Button,default:null},Button_times_10:{type:cc.Button,default:null},Button_times_20:{type:cc.Button,default:null},Button_times_50:{type:cc.Button,default:null},Button_times_100:{type:cc.Button,default:null},Button_times_500:{type:cc.Button,default:null},Button_times_fast:{type:cc.Button,default:null},Sprite_total_bet:{type:cc.Node,default:null},Button_rule:{type:cc.Node,default:null},Button_sound:{type:cc.Toggle,default:null},Button_music:{type:cc.Toggle,default:null}},onLoad:function(){this._btnBack=this.Button_back,this._btnSetting=this.Button_setting,this._nodeSetting=this.FileNode_setting,this._btnSettingRule=this.Button_rule,this._btnSound=this.Button_sound,this._btnMusic=this.Button_music,this._panelTimes=this.PanelTimes,this._textUserScore=this.Text_score,this._textTotalBet=this.Text_total_bet,this._textTotalWin=this.Text_total_win,this._textTimesLeft=this.Text_time_left,this._btnSubBet=this.Button_sub_bet,this._btnAddBet=this.Button_add_bet,this._btnMaxBet=this.Button_max_bet,this._btnStartSpin=this.Button_spin,this._btnStopSpin=this.Button_stop_spin;var e=this.Button_times_10,t=this.Button_times_20,n=this.Button_times_50,a=this.Button_times_100,s=this.Button_times_500,o=this.Button_times_fast;this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this._btnBack.node.on("click",this.BackButtonClickEvent,this),this._btnSetting.node.on("click",this.SettingButtonClickEvent,this),this._btnSettingRule.on("click",this.SettingRuleButtonClickEvent,this),this._btnSound.node.on("click",this.onClickSound,this),this._btnMusic.node.on("click",this.onClickMusic,this),this._btnStartSpin.node.on(cc.Node.EventType.TOUCH_START,this.SpinButtonClickEvent,this),this._btnStartSpin.node.on(cc.Node.EventType.TOUCH_END,this.SpinButtonClickEvent,this),this._btnStartSpin.node.on(cc.Node.EventType.TOUCH_CANCEL,this.SpinButtonClickEvent,this),this._btnStopSpin.node.on("click",this.onClickStopSpin,this),e.node.on("click",this.onClickAutoSpin,this),t.node.on("click",this.onClickAutoSpin,this),n.node.on("click",this.onClickAutoSpin,this),a.node.on("click",this.onClickAutoSpin,this),s.node.on("click",this.onClickAutoSpin,this),o.node.on("click",this.onClickAutoSpin,this),this._btnSubBet.node.on("click",this.onClickSubBet,this),this._btnAddBet.node.on("click",this.onClickAddBet,this),this._btnMaxBet.node.on("click",this.onClickMacBet,this),i.registerMediator(this),this._globalDataProxy=i.retrieveProxy("FishGlobalDataProxy"),this.updateUIofUserInfo()},listNotificationInterests:function(){return[{evtType:"SHOW_DIALOG",callback:this.showDialog},{evtType:"UPDATE_UI_OF_USER_INFO",callback:this.updateUIofUserInfo},{evtType:"SET_TOTAL_WIN",callback:this.setTotalWin},{evtType:"CHANGE_GAME_BTN_STATE",callback:this.changeGameBtnState},{evtType:"SET_TOTAL_BET",callback:this.setTotalBet},{evtType:"CHANGE_SPIN_BTN_STATE",callback:this.changeSpinBtnState},{evtType:"UPDATE_SCORE",callback:this.updateScore},{evtType:"SHOW_TOTAL_TEXT",callback:this.showTotalText},{evtType:"SET_AUTO_PLAY_REMAINING",callback:this.setAutoplayRemaining},{evtType:"SHOW_TOTAL_BET",callback:this.showTotal_bet}]},start:function(){this.node.parent.parent.getComponent("GameView").GameUIManager.attachUI(this.node.parent.parent)},showDialog:function(e,t){this.node.parent.parent.getComponent("GameView").GameUIManager.openTip(e,t)},showTotal_bet:function(e){this.Sprite_total_bet.opacity=e?255:0},setTotalBet:function(e){var t=Help.checknumber(e);this._textTotalBet&&(this._textTotalBet.string=t/SCORE_RATIO)},updateUIofUserInfo:function(){this._textUserScore&&(this._textUserScore.string=Help.FormatScore(this._globalDataProxy.getLogonSuccessData().lScore))},updateScore:function(e){this._textUserScore&&(this._globalDataProxy.getLogonSuccessData().lScore=this._globalDataProxy.getLogonSuccessData().lScore+e,this._textUserScore.string=Help.FormatScore(this._globalDataProxy.getLogonSuccessData().lScore))},onTouchBegan:function(e){if(!0===this._nodeSetting.active){var t=cc.Camera.main,i=this._nodeSetting.convertToNodeSpaceAR(t.getScreenToWorldPoint(e.getLocation()));new cc.Rect(this.Panel_bg.x,this.Panel_bg.y,this.Panel_bg.width,this.Panel_bg.height).contains(i)||this.hideSettingDialog()}if(this._panelTimes&&this._panelTimes.active){var n=cc.Camera.main,a=this._panelTimes.parent.convertToNodeSpaceAR(n.getScreenToWorldPoint(e.getLocation()));new cc.Rect(this._panelTimes.x,this._panelTimes.y,this._panelTimes.width,this._panelTimes.height).contains(a)||(this._panelTimes.active=!1)}},BackButtonClickEvent:function(){i.sendNotification(FishConstants.GAME_TABLE_COMMAND,"sendStandUpData")},SettingButtonClickEvent:function(){this._nodeSetting.active||(this.updateUIofSetting(),this._nodeSetting.active=!0,Help.popDialog(this._nodeSetting))},onClickSound:function(){this.node.parent.parent.getComponent("GameView").GameUIManager.BooleffectV?this.node.parent.parent.getComponent("GameView").GameUIManager.setEffectV(0):this.node.parent.parent.getComponent("GameView").GameUIManager.setEffectV(1)},onClickMusic:function(){this.node.parent.parent.getComponent("GameView").GameUIManager.BoolmusicV?this.node.parent.parent.getComponent("GameView").GameUIManager.setMusicV(0):this.node.parent.parent.getComponent("GameView").GameUIManager.setMusicV(1)},updateUIofSetting:function(){this._btnSound&&(this._btnSound.isChecked=this.node.parent.parent.getComponent("GameView").GameUIManager.BooleffectV),this._btnMusic&&(this._btnMusic.isChecked=this.node.parent.parent.getComponent("GameView").GameUIManager.BoolmusicV)},SettingRuleButtonClickEvent:function(){this.node.parent.parent.getComponent("GameView").GameUIManager.openUI(3)},SpinButtonClickEvent:function(e){if("touchstart"===e.type)this._holdTime=0,this.timer=cc.director.getScheduler(),this.timer.schedule(this.CalculateTime,this,0,!1);else if("touchend"===e.type){if(this.timer&&(this.timer.unschedule(this.CalculateTime,this),this.timer=null),this._holdTime>60)return;this.onClickStartSpin()}else"touchcancel"===e.type&&this.timer&&(this.timer.unschedule(this.CalculateTime,this),this.timer=null)},CalculateTime:function(){this._holdTime=this._holdTime+1,this._holdTime>60&&(this._panelTimes.active=!0)},hideSettingDialog:function(){this._nodeSetting&&this._nodeSetting.active&&Help.hideDialog(this._nodeSetting,null,function(){this._nodeSetting.active=!1}.bind(this))},onClickSubBet:function(){i.sendNotification(FishConstants.GAME_COMMAND,"subBet")},onClickAddBet:function(){i.sendNotification(FishConstants.GAME_COMMAND,"addBet")},onClickMacBet:function(){i.sendNotification(FishConstants.GAME_COMMAND,"maxBet")},onClickStartSpin:function(){i.sendNotification(FishConstants.GAME_COMMAND,"startSpin")},onClickStopSpin:function(){cc.log("click stop========="),i.sendNotification(FishConstants.GAME_COMMAND,"stopSpin"),this._btnStopSpin.interactable=!1,this.scheduleOnce(function(){this._btnStopSpin.interactable=!0}.bind(this),2)},onClickAutoSpin:function(e){var t=0;"Button_times_10"==e.node.name?t=10:"Button_times_20"==e.node.name?t=20:"Button_times_50"==e.node.name?t=50:"Button_times_100"==e.node.name?t=100:"Button_times_500"==e.node.name?t=500:"Button_times_fast"==e.node.name&&(t=1e7),this._panelTimes.active=!1,i.sendNotification(FishConstants.GAME_COMMAND,"autoSpin",t)},setAutoplayRemaining:function(e){var t=Help.checknumber(e);this._textTimesLeft&&t>0?(this._textTimesLeft.node.active=!0,this._textTimesLeft.string=t>500?"\u221e":t):(this._textTimesLeft.node.active=!1,this._textTimesLeft.string=0)},setTotalWin:function(e){if(e=Help.checknumber(e),this._textTotalWin){var t=Number(this._textTotalWin.string);if((null===t||t<0)&&(t=0),e>(t*=SCORE_RATIO))cc.log("old:"+t+" new:"+e),Help.scorllNumber(this._textTotalWin.node,t,e,.5,function(e,t){this._textTotalWin.string=Help.FormatScore2(t)}.bind(this));else if(e<=0)return void(this._textTotalWin.string="");this._textTotalWin.string=Help.FormatScore2(e)}},changeSpinBtnState:function(e){this._btnStartSpin&&(this._btnStartSpin.node.active=e),this._btnStopSpin&&(this._btnStopSpin.node.active=!e)},changeGameBtnState:function(e){var t=new cc.Color(255,255,255),i=new cc.Color(188,188,188);this._btnBack&&(this._btnBack.interactable=e,this._btnBack.node.color=e?t:i),this._btnStartSpin&&(this._btnStartSpin.interactable=e,e?(this._btnStartSpin.node.on(cc.Node.EventType.TOUCH_START,this.SpinButtonClickEvent,this),this._btnStartSpin.node.on(cc.Node.EventType.TOUCH_END,this.SpinButtonClickEvent,this),this._btnStartSpin.node.on(cc.Node.EventType.TOUCH_CANCEL,this.SpinButtonClickEvent,this)):(this._btnStartSpin.node.off(cc.Node.EventType.TOUCH_START,this.SpinButtonClickEvent,this),this._btnStartSpin.node.off(cc.Node.EventType.TOUCH_END,this.SpinButtonClickEvent,this),this._btnStartSpin.node.off(cc.Node.EventType.TOUCH_CANCEL,this.SpinButtonClickEvent,this)),this._btnStartSpin.node.color=e?t:i),this._btnSubBet&&(this._btnSubBet.interactable=e,this._btnSubBet.node.color=e?t:i),this._btnAddBet&&(this._btnAddBet.interactable=e,this._btnAddBet.node.color=e?t:i),this._btnMaxBet&&(this._btnMaxBet.interactable=e,this._btnMaxBet.node.color=e?t:i)},showTotalText:function(e){this._textTotalWin&&(this._textTotalWin.node.opacity=e?255:0)},onDestroy:function(){i.removeMediator(this.name)}}),cc._RF.pop()},{FishFacade:"FishFacade"}],gameModel_520:[function(e,t){"use strict";cc._RF.push(t,"10475SWpR1Hv6AG502OqLIK","gameModel_520");var i=function(){this.initGameData()};i.prototype={constructor:i,initGameData:function(){this._UnlockRewardID=255,this._CanBn=!1,this._isPlayWaitAni=!0,this.wildList=null,this._GiveAwayCount=0,this._recoveryFreeList=[],this._BnSenceId=255,this._isBreakLine=!1,this._CanFree=!1,this._wildList=[]},ResetBNGameData:function(){this._CanBn=!1,this._VerifyMailBox=255,this._BnSenceId=255,this._bRewardGoodChoose={},this._RewardNum=255,this._SkullNum=255}},t.exports=new i,cc._RF.pop()},{}],gameModel:[function(e,t){"use strict";cc._RF.push(t,"dfbb7L+079NE4fJJSled2nA","gameModel");var i=function(e,t){this.parent=t,this._gameConfig=e,this.initConfig()};i.prototype={constructor:i,initConfig:function(){this.initGameData(),this.initGameConfig()},initGameData:function(){this._baseScore=0,this._betCount=10,this._betList=[0,0,0,0,0,0,0,0,0,0],this._lineCount=20,this._betIndex=1,this._spinResult=null,this._totalWin=0,this._fakeItems=[],this._resultItems=[],this._freeSpin=0,this._freewin=null,this._autoSpin=0,this._curwinscore=0},initGameConfig:function(){this.getBoardConfig(),this.normalSymbolList=this._gameConfig.gameConfig.game_symbol_coinfig.normal_symbol_list||[],this.specialSymbolConfig=this._gameConfig.gameConfig.game_symbol_coinfig.special_symbol_config||{},this.initPicsAndKeys(this.normalSymbolList),this.themeType=this._gameConfig.gameConfig.game_type,this.themeTypeConfig=this._gameConfig.gameConfig.game_type_config,this.initThemeType(this.themeType,this.themeTypeConfig)},getBoardConfig:function(){if(this.boardConfigList)return this.boardConfigList;for(var e=Help.deepClone(this._gameConfig.gameConfig.boardConfig),t=0;t<e.length;t++){var i=e[t];if(!i)return;for(var n=[],a=0,s=Object.entries(i.reelConfig);a<s.length;a++){for(var o=s[a],r=(o[0],o[1]),c=0;c<i.colCnt;c++){var l={};l.base_pos=cc.v2(c*i.cellWidth+r.base_pos.x,r.base_pos.y),l.adjust_pos=r.adjust_pos||cc.v2(0,0),l.cellWidth=i.cellWidth,l.cellHeight=i.cellHeight,l.symbolCount=i.rowCnt,n.push(l)}e[t].colReelCnt=i.colCnt,e[t].reelConfig=n}}return this.boardConfigList=e,e},initPicsAndKeys:function(e){this._symbolPic={},this._symbolKey=[];for(var t=0,i=Object.entries(e);t<i.length;t++){var n=i[t],a=(n[0],n[1]);this._symbolPic[a]="games/game520/texture/symbol/symbol_"+a,this._symbolKey.push(a)}},initThemeType:function(e,t){"payLine"===e&&(this.lines=t.pay_lines,this.maxLine=this.lines.length)},getPlayType:function(){return this.themeType||"payLine"},getPayLines:function(){return this.lines||{}},getNextSprite:function(e){return this._fakeItems[e]=this._fakeItems[e]||[],0===this._fakeItems[e].length&&(this._fakeItems[e]=this.getRandomKey(e)),this._fakeItems[e].pop()},getRandomKey:function(e){for(var t=Help.getRandomInt(10,20),i=[],n=0;n<t;n++){var a=Help.getRandomInt(0,this._symbolKey.length);if(0===e){var s=this._symbolKey[a];0===s&&(s=1),i.push(s)}else i.push(this._symbolKey[a])}return i},getTotalBet:function(){return null===this._betList[this._betIndex-1]?0:this._baseScore*this._betList[this._betIndex-1]*this._lineCount},adjustRecData:function(e){var t=this.getPlayType();if(this.winLines=null,t&&"payLine"===t&&e.win_lines){for(var i=e.win_lines,n=[],a=0;a<e.win_lines.length;a++){var s=[i[a].line,i[a].count,i[a].symbol];n.push(s)}this.winLines=n}},AddFakeData:function(e){if(e&&e.item_list){for(var t=[[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1]],i=0;i<5;i++)for(var n=0;n<6;n++){var a=Help.getRandomInt(1,this._symbolKey.length);t[i][n]=this._symbolKey[a]}for(var s=[[1],[1],[1],[1],[1]],o=0;o<5;o++){var r=Help.getRandomInt(1,this._symbolKey.length);s[o][0]=this._symbolKey[r]}this._resultItems=[];for(var c=0,l=Object.entries(e.item_list);c<l.length;c++){var h=l[c],u=h[0],d=h[1],m=Help.deepClone(d);m.splice(0,0,s[u][0]);for(var p=0;p<t[u].length;p++)m.push(t[u][p]);this._resultItems.push(m)}}return e}},t.exports=i,cc._RF.pop()},{}],gameUIManager:[function(e,t){"use strict";var i,n;cc._RF.push(t,"573ebVCeW1E24jaqSOCWVXx","gameUIManager");var a=function t(a){if(t.instance)return t.instance;t.instance=this,this.kindId=a,i=e("UIModuleInfo_"+a),n=e("AudioConf_"+a),this.init(),this.BoolmusicV=!0,this.BooleffectV=!0};a.prototype={constructor:a,init:function(){this._openList={},this._curOpenUI=null,this._preUI=null,this.uiOrder=10},closeAll:function(){this.init()},attachUI:function(e){this._uiLayer||(this.init(),this._uiLayer=new cc.Node,this.getAudioEngineData(),cc.game.addPersistRootNode(this._uiLayer),this._uiLayer.x=e.width/2,this._uiLayer.y=e.height/2)},removeUI:function(){this._uiLayer=null},openUI:function(e,t){var n=this,a=i[e];if(a){var s=this._openList[e];this._curViewID=e,s?(s.getComponent(a.viewName).init(t),this._preUI=this._curOpenUI,this._curOpenUI=s):(this.uiOrder=a.Zorder,cc.resources.load(a.csbRes,cc.Prefab,function(i,s){if(cc.log("loadRes",e),!n._openList[e]){var o=cc.instantiate(s);n._openList[e]=o,n._uiLayer.addChild(o,n.uiOrder),o.getComponent(a.viewName).init(t),o.viewId=e,o.kindId=n.kindId,n._preUI=n._curOpenUI,n._curOpenUI=o}}))}else cc.log("\u89c6\u56fe\u521b\u5efa\u5931\u8d25\uff0c\u68c0\u67e5\u914d\u7f6e\uff01"),cc.log("viewId = ",e)},setUITop:function(){},openTip:function(e,t,i){this.openUI(2,[e,t,i])},openTipEffect:function(e){var t=this;cc.resources.load("loadRes/ui/TipsEffect",cc.Prefab,function(i,n){var a=cc.instantiate(n);t._uiLayer.addChild(a,100),a.getChildByName("TipsLabel").getComponent("cc.Label").string=e,a.runAction(cc.sequence(cc.moveBy(1,cc.v2(0,40)),cc.removeSelf()))})},getUIById:function(e){return this._openList[e]},closeUI:function(e){var t=this._openList[e];t&&(this._openList[e]=void 0,t.removeFromParent(),t.destroy())},setMusicV:function(e){this.musicV=e,cc.audioEngine.setMusicVolume(e),this.musicV<.1?this.BoolmusicV&&(this.BoolmusicV=!1,cc.audioEngine.pauseMusic()):this.BoolmusicV||(this.BoolmusicV=!0,cc.audioEngine.resumeMusic()),this.saveAudioEngineData()},setEffectV:function(e){this.effectV=e,cc.audioEngine.setEffectsVolume(e),this.effectV<.1?this.BooleffectV=!1:this.BooleffectV=!0,this.saveAudioEngineData()},saveAudioEngineData:function(){var e=[this.musicV,this.effectV],t=JSON.stringify(e);cc.sys.localStorage.setItem("AudioEngineData",t)},getAudioEngineData:function(){var e=cc.sys.localStorage.getItem("AudioEngineData");e?(e=JSON.parse(e),this.musicV=e[0],this.effectV=e[1]):(this.musicV=.5,this.effectV=.5),this.musicV<.1?this.BoolmusicV=!1:this.BoolmusicV=!0,this.effectV<.1?this.BooleffectV=!1:this.BooleffectV=!0,cc.audioEngine.setMusicVolume(this.musicV),cc.audioEngine.setEffectsVolume(this.effectV)},playAudio:function(e,t){var i=n[e];if(i){var a=i.filepath+"/"+i.filename;if(i.isbg){if(!1===this.BoolmusicV)return;cc.resources.load(a,cc.AudioClip,function(e,i){cc.audioEngine.playMusic(i,t||!0)})}else{if(!1===this.BooleffectV)return;cc.resources.load(a,cc.AudioClip,function(e,i){cc.audioEngine.playEffect(i,t)})}}else cc.log("\u58f0\u97f3\u914d\u7f6e\u9519\u8bef\uff01\uff01",e)},saveAccountData:function(e,t){for(var i=t,n=String.fromCharCode(i.charCodeAt(0)+i.length),a=1;a<i.length;a++)n+=String.fromCharCode(i.charCodeAt(a)+i.charCodeAt(a-1));var s=[e,t=escape(n)],o=JSON.stringify(s);cc.sys.localStorage.setItem("AccountData",o)},getAccountData:function(){var e={},t=cc.sys.localStorage.getItem("AccountData");if(t){var i=(t=JSON.parse(t))[0],n=t[1],a=n;a=unescape(a);for(var s=String.fromCharCode(a.charCodeAt(0)-a.length),o=1;o<a.length;o++)s+=String.fromCharCode(a.charCodeAt(o)-s.charCodeAt(o-1));n=s,e.account=i,e.password=n}return e},saveShopOrdersWeChat:function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("ShopOrdersWeChat2",t)},getShopOrdersWeChat:function(){var e=[],t=cc.sys.localStorage.getItem("ShopOrdersWeChat2");return t?e=JSON.parse(t):e},saveShopOrdersWeChatCheck:function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("ShopOrdersWeChatCheck2",t)},getShopOrdersWeChatCheck:function(){var e=[],t=cc.sys.localStorage.getItem("ShopOrdersWeChatCheck2");return t?e=JSON.parse(t):e},saveAccountDataNativeFirst:function(e){cc.sys.localStorage.setItem("AccountDataNativeFirst",e)},getAccountDataNativeFirst:function(){return cc.sys.localStorage.getItem("AccountDataNativeFirst")},saveDate:function(){cc.sys.localStorage.setItem("CarveUpBonusPoolOpenDate1",(new Date).getTime())},isSameDay:function(){var e=cc.sys.localStorage.getItem("CarveUpBonusPoolOpenDate1");if(console.log("isSameDay",e),e){var t=new Date(Number(e)),i=new Date((new Date).getTime());return t.setHours(0,0,0,0)===i.setHours(0,0,0,0)}return!1},saveAutoCheckRedPacketTypeIndex:function(e){cc.sys.localStorage.setItem("AutoCheckRedPacketTypeIndex",e)},getAutoCheckRedPacketTypeIndex:function(){return cc.sys.localStorage.getItem("AutoCheckRedPacketTypeIndex")},saveNewPlayRedpacketRoomID:function(e){cc.sys.localStorage.setItem("NewPlayRedpacketRoomID",e)},getNewPlayRedpacketRoomID:function(){return cc.sys.localStorage.getItem("NewPlayRedpacketRoomID")}},t.exports=a,cc._RF.pop()},{}],i18n:[function(e,t){"use strict";cc._RF.push(t,"93789C/shtIL6entYsZPjee","i18n");var i=e("polyglot"),n="zh"===G_LanguageType?e("zh"):e("en"),a=new i({phrases:n,allowMissing:!0});t.exports={init:function(t){lang=t,n=e("zh"===t?"zh":"en"),a.replace(n)},t:function(e,t){return a.t(e,t)}},cc._RF.pop()},{en:"en",polyglot:"polyglot",zh:"zh"}],lightLineMesh:[function(e,t){"use strict";cc._RF.push(t,"95a3dIihBlE1bM4psBuANTA","lightLineMesh");var i=e("Noise"),n=cc.gfx;cc.Class({extends:cc.Component,properties:{},start:function(){},setlightLine:function(e){var t=new n.VertexFormat([{name:n.ATTR_POSITION,type:n.ATTR_TYPE_FLOAT32,num:2},{name:n.ATTR_UV0,type:n.ATTR_TYPE_FLOAT32,num:2},{name:n.ATTR_COLOR,type:n.ATTR_TYPE_UINT8,num:4,normalize:!0}]),i=new cc.Mesh;i.init(t,9,!0),this.mesh=i,this.m_Time=0,this.m_Width=80,this.m_Step=10,this.m_TextureLength=100,this.m_Amplitude0=10,this.m_Frequency0=500,this.m_ProgramState=null,this.m_TimeFactor=.5,this.m_fTotalAlphaToZeroTime=1,this.m_fLeaveAlphaToZeroTime=1,this.dirty=!0,this.initialCapacity=0,this.m_Vertices=null,this.tTriangle=null,this.vertexBuffer=null,this.indexBuffer=null,this.m_Lines=e,e.length>5&&(this.m_Step=10+2*(e.length-5)),this.updateMesh(),this.node.getComponent(cc.MeshRenderer).mesh=i},update:function(e){this.mesh&&(this.updateMesh(),this.m_Time+=e,this.m_Time>2.5&&(this.m_Time=0))},addOneStep:function(e,t,i,n,a,s){switch(s){case 1:this.m_Vertices[this.m_VertexSize]=cc.v2(e.x,e.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(n,.5),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(t.x+i.x,t.y+i.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(a,0),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(t.x-i.x,t.y-i.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(a,1),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(e.x,e.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(n,.5),this.m_VertexSize+=1;break;case 3:this.m_Vertices[this.m_VertexSize]=cc.v2(e.x+i.x,e.y+i.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(n,0),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(t.x,t.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(a,.5),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(t.x,t.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(a,.5),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(e.x-i.x,e.y-i.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(n,1),this.m_VertexSize+=1;break;case 2:this.m_Vertices[this.m_VertexSize]=cc.v2(e.x+i.x,e.y+i.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(n,0),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(t.x+i.x,t.y+i.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(a,0),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(t.x-i.x,t.y-i.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(a,1),this.m_VertexSize+=1,this.m_Vertices[this.m_VertexSize]=cc.v2(e.x-i.x,e.y-i.y),this.vertexesUV0[this.m_VertexSize]=cc.v2(n,1),this.m_VertexSize+=1}},updateMesh:function(){if(1==this.dirty){this.dirty=!1,this.initialCapacity=0;for(var e=0;e<this.m_Lines.length;++e){var t=this.m_Lines[e].lineEnd.sub(this.m_Lines[e].lineBegin).mag(),a=t<=2*this.m_Step?2:Math.ceil(t/this.m_Step);this.initialCapacity+=a}}this.m_VertexSize=0,this.m_Vertices=[],this.vertexesUV0=[];for(var s=0;s<this.m_Lines.length;++s){var o=.5*this.m_Width,r=0!=this.m_TextureLength?1/this.m_TextureLength:1,c=this.m_Lines[s].lineBegin,l=this.m_Lines[s].lineEnd,h=l.sub(c),u=h.mag();h.normalizeSelf();var d=0!=u?1/u:1,m=u<=2*this.m_Step?2:Math.ceil(u/this.m_Step),p=u/m,_=void 0,g=cc.v3(0,0,1);_=(_=h).cross(g);for(var f=c,S=l,b=0,C=0;C<m-1;++C){var y=this.m_Time*this.m_TimeFactor+b*d,v=i.generateNoise1D(y*this.m_Frequency0)*this.m_Amplitude0,I=cc.v2(_.x*v,_.y*v);S=c.add(cc.v2(h.x*(b+p),h.y*(b+p))).add(I),this.addOneStep(0==C?c:f,S,cc.v2(_.x*o,_.y*o),(b*r-this.m_Time+100)%1,((b+p)*r-this.m_Time+100)%1,0==C?1:2),b+=p,f=S}this.addOneStep(f,l,cc.v2(_.x*o,_.y*o),(b*r-this.m_Time+100)%1,(u*r-this.m_Time+100)%1,3)}this.mesh.setVertices(n.ATTR_POSITION,this.m_Vertices),this.mesh.setVertices(n.ATTR_UV0,this.vertexesUV0);for(var T=[],L=0;L<this.initialCapacity;L++)T[6*L+0]=0+4*L,T[6*L+1]=1+4*L,T[6*L+2]=2+4*L,T[6*L+3]=0+4*L,T[6*L+4]=2+4*L,T[6*L+5]=3+4*L;this.mesh.setIndices(T)}}),cc._RF.pop()},{Noise:"Noise"}],polyglot:[function(e,t,i){(function(e){"use strict";cc._RF.push(t,"69decSgpRlE1rzEKp0RzG3V","polyglot"),function(e,n){"function"==typeof define&&define.amd?define([],function(){return n(e)}):"object"==typeof i?t.exports=n(e):e.Polyglot=n(e)}(void 0!==e?e:void 0,function(e){var t=String.prototype.replace;function i(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||m}i.VERSION="1.0.0",i.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},i.prototype.extend=function(e,t){var i;for(var n in e)e.hasOwnProperty(n)&&(i=e[n],t&&(n=t+"."+n),"object"==typeof i?this.extend(i,n):this.phrases[n]=i)},i.prototype.unset=function(e,t){var i;if("string"==typeof e)delete this.phrases[e];else for(var n in e)e.hasOwnProperty(n)&&(i=e[n],t&&(n=t+"."+n),"object"==typeof i?this.unset(i,n):delete this.phrases[n])},i.prototype.clear=function(){this.phrases={}},i.prototype.replace=function(e){this.clear(),this.extend(e)},i.prototype.t=function(e,i){var a,s,o,c,h,u,m,_,g;return"number"==typeof(i=null==i?{}:i)&&(i={smart_count:i}),"string"==typeof this.phrases[e]?a=this.phrases[e]:"string"==typeof i._?a=i._:this.allowMissing?a=e:(this.warn('Missing translation for key: "'+e+'"'),s=e),"string"==typeof a&&(i=p(i),s=d((o=a,c=this.currentLocale,null!=(h=i.smart_count)&&o?(_=(m=o.split(n))[l(c,h)]||m[0],g=_,u=t.call(g,r,"")):u=o,s=u),i)),s},i.prototype.has=function(e){return e in this.phrases};var n="||||",a={chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},s={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function o(e){var t,i,n,a={};for(t in e)if(e.hasOwnProperty(t))for(n in i=e[t])a[i[n]]=t;return a}var r=/^\s+|\s+$/g;function c(e){var t=o(s);return t[e]||t.en}function l(e,t){return a[c(e)](t)}var h=/\$/g,u="$$$$";function d(e,i){for(var n in i)if("_"!==n&&i.hasOwnProperty(n)){var a=i[n];"string"==typeof a&&(a=t.call(i[n],h,u)),e=t.call(e,new RegExp("%\\{"+n+"\\}","g"),a)}return e}function m(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function p(e){var t={};for(var i in e)t[i]=e[i];return t}return i}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],tipView_game:[function(e,t){"use strict";cc._RF.push(t,"15839llbMJJ8Kl/bVKltblL","tipView_game"),e("FishFacade");var i=e("gameUIManager");cc.Class({extends:cc.Component,properties:{txtContent:{default:null,type:cc.Label}},init:function(e){this.txtContent.string=e[0],this.func=e[1]},start:function(){},onbtnOk:function(){this.func&&this.func(),this.closeSelf()},onBack:function(){this.closeSelf()},closeSelf:function(){this.node.kindId?new i(this.node.kindId).closeUI(this.node.viewId):cc.log("the kindId is null")}}),cc._RF.pop()},{FishFacade:"FishFacade",gameUIManager:"gameUIManager"}],zh:[function(e,t){"use strict";cc._RF.push(t,"87f1fs0gohHDIfNg4aePXbt","zh"),t.exports={"GameLobbyLoginScene.fire.1":"\u8457\u4f5c\u6743\u4eba\uff1a\u6606\u660e\u950b\u8da3\u79d1\u6280\u6709\u9650\u516c\u53f8 \u8f6f\u8457\u767b\u8bb0\u53f72016SR316454\n\u51fa\u7248\u670d\u52a1\u5355\u4f4d\uff1a\u65b9\u5706\u7535\u5b50\u97f3\u50cf\u51fa\u7248\u793e\u6709\u9650\u8d23\u4efb\u516c\u53f8 \u6279\u51c6\u6587\u53f7\uff1a\u65b0\u5e7f\u51fa\u5ba1\u30102017\u30116205\u53f7 \u51fa\u7248\u7269\u53f7\uff1aISBN 978-7-7979-9403-3","GameLobbyLoginScene.fire.2":"\u8d44\u6e90\u66f4\u65b0\u4e2d\uff0c\u8bf7\u7a0d\u7b49.....","fish.prefab.1":'\u6e14\u573a\u5185\u4f7f\u7528\n\u6700\u9ad8\u53ef\u83b7\u5f976W\u91d1\u5e01\n"\u9c7c\u96f7\u573a"\u6253\u9c7c\u53ef\u83b7\u5f97',"fish.prefab.2":'\u6e14\u573a\u5185\u4f7f\u7528\n\u6700\u9ad8\u53ef\u83b7\u5f9760W\u91d1\u5e01\n"\u9c7c\u96f7\u573a"\u6253\u9c7c\u53ef\u83b7\u5f97',"fish.prefab.3":'\u6e14\u573a\u5185\u4f7f\u7528\n\u6700\u9ad8\u53ef\u83b7\u5f9730W\u91d1\u5e01\n"\u9c7c\u96f7\u573a"\u6253\u9c7c\u53ef\u83b7\u5f97',"fish.prefab.4":'\u6e14\u573a\u5185\u4f7f\u7528\n\u6700\u9ad8\u53ef\u83b7\u5f9712W\u91d1\u5e01\n"\u9c7c\u96f7\u573a"\u6253\u9c7c\u53ef\u83b7\u5f97',"fish.prefab.5":"\u5355\u6b21\u4f7f\u7528\u9c7c\u96f7\u7684\u6570\u91cf\n\u70b9\u51fb\u6309\u94ae\u53ef\u5207\u6362\u6570\u91cf","fish.prefab.6":"\u4f7f\u7528\u540e\u5b50\u5f39\u5c04\u901f\u7ffb\u500d\n\u901f\u5ea6\u79d2\u6740\u5927\u9c7c\u7684\u795e\u6280\u80fd\uff01","fish.prefab.7":"\u4f7f\u7528\u540e\u53ef\u9501\u5b9a\u6e14\u573a\u5185\n\u4efb\u610f\u4e00\u6761\u9c7c","fish.prefab.8":"\u4f7f\u7528\u540e\u53ef\u51b0\u51bb\u6e14\u573a\u5185\n\u6240\u6709\u7684\u9c7c\uff08\u9664\u8d22\u795e\u5916\uff09\n\u5927\u9c7c\u522b\u60f3\u9003\uff01","fish.prefab.T1":"\u9752\u94dc\u9c7c\u96f7","fish.prefab.T2":"\u7d2b\u91d1\u9c7c\u96f7","fish.prefab.T3":"\u9ec4\u91d1\u9c7c\u96f7","fish.prefab.T4":"\u767d\u94f6\u9c7c\u96f7","fish.prefab.T5":"\u9c7c\u96f7\u4f7f\u7528\u6570\u91cf","fish.prefab.T6":"\u6025\u901f","fish.prefab.T7":"\u9501\u5b9a","fish.prefab.T8":"\u51b0\u51bb","fish.prefab.M1":"1%\u6982\u7387\u83b7\u5f971\u5f20\u593a\u5b9d\u5238","fish.prefab.M2":"10%\u6982\u7387\u83b7\u5f971\u5f20\u593a\u5b9d\u5238","fish.prefab.M3":"4%\u6982\u7387\u83b7\u5f971\u5f20\u593a\u5b9d\u5238","fish.prefab.M4":"2%\u6982\u7387\u83b7\u5f971\u5f20\u593a\u5b9d\u5238","fish.prefab.rule1":"\u6e14\u573a\u5185\u968f\u673a\u51fa\u73b0\n\u51fb\u6740\u5373\u53ef\u83b7\u5f97\u798f\u5361\u4e0a\n\u5bf9\u5e94\u7684\u7ea2\u5305\u91d1\u989d","fish.prefab.rule2":"\u6e14\u573a\u5185\u968f\u673a\u51fa\u73b0\n\u51fb\u6253\u4f1a\u6389\u843d\u7ea2\u5305\n\u4f7f\u7528\u9ad8\u500d\u70ae\u6389\u843d\u66f4\u8f7b\u677e","fish.prefab.rule3":'\u4f7f\u7528\u9c7c\u96f7\u53ef\u83b7\u5f97\u5927\u91cf\u9c7c\u5e01\n"\u9c7c\u96f7\u573a"\u51fb\u6740\u9c7c\u53ef\u83b7\u5f97',"fish.prefab.rule4":'"\u9c7c\u96f7\u573a"\u51fb\u6740\u4efb\u610f\u9c7c\n\u6709\u673a\u4f1a\u66b4\u51fb \u6700\u9ad85\u500d\u66b4\u51fb\n1\u6761\u98765\u6761\uff0c\u77ac\u95f4\u53d8\u571f\u58d5',"fish.prefab.rule5":"\u51fb\u6740\u5e26\u6709\u8fde\u9501\u95ea\u7535\u7684\u9c7c\n\u89e6\u53d1\u8fde\u9501\u95ea\u7535\u6548\u679c\n\u6355\u83b7\u540c\u7c7b\u8fde\u9501\u95ea\u7535\u9c7c","fish.prefab.rule6":"\u5a01\u529b\u5de8\u5927\u7684\u6df1\u6d77\u7535\u9cd7\n\u6210\u529f\u6355\u83b7\u53ef\u89e6\u53d1\u8fde\u9501\u95ea\u7535\n\u51fb\u6740\u5c4f\u5e55\u5185\u7684\u6240\u6709\u5c0f\u9c7c","fish.prefab.ruleT1":"\u798f\u5361","fish.prefab.ruleT2":"\u8d22\u795e","fish.prefab.ruleT3":"\u9c7c\u96f7","fish.prefab.ruleT4":"\u66b4\u51fb\u7ffb\u500d","fish.prefab.ruleT5":"\u8fde\u9501\u95ea\u7535","fish.prefab.ruleT6":"\u7535\u9cd7","fish.prefab.ruleI4":"\u66b4\u51fb*5\u500d","FishTypeView.1":"\u500d","FreeGoldLayer.1":"\u5269\u4f59\u6b21\u6570\uff1a","FreeGoldLayer.2":"\u9886\u53d6\u6761\u4ef6\uff1a\u8eab\u4e0a\u603b\u91d1\u5e01\u6570\u91cf\u4e0d\u8db3","FreeGoldLayer.3":"\u4f60\u7684\u6e38\u620f\u5e01\u989d\u5ea6\u672a\u8fbe\u5230\u9886\u53d6\u8981\u6c42!","FreeGoldLayer.4":"\u5269\u4f59\u6b21\u6570\u4e0d\u8db3","FreeGoldLayer.prefab.1":"\u672c\u6b21\u9886\u53d6\u5956\u52b1\uff1a\n\n\u8d35\u65cf\u989d\u5916\u5956\u52b1\uff1a","FreeGoldLayer.prefab.2":"\u8d35\u65cf\u989d\u5916\u5956\u52b1","PiggyBankLayer.prefab.1":"\u6700\u5927\u50a8\u5b58\u91d1\u5e01","PiggyBankLayer.prefab.2":"\u5f53\u524dVIP\u50a8\u5b58\u4e0a\u9650\uff1a","ChangeCannonLayer.prefab.1":"\u65e0","ChangeCannonLayer.prefab.2":"VIP2\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0","ChangeCannonLayer.prefab.3":"VIP3\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0","ChangeCannonLayer.prefab.4":"VIP4\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0","ChangeCannonLayer.prefab.5":"VIP5\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0\n\u51b0\u51bb\u6280\u80fd\u6301\u7eed\u65f6\u95f4+5\u79d2","ChangeCannonLayer.prefab.6":"VIP6\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0","ChangeCannonLayer.prefab.7":"VIP7\u4e13\u5c5e\u6355\u9c7c\u70ae\u53f0\n\u63d0\u5347\u9c7c\u96f7\u573a\u66b4\u51fb\u6982\u7387","ExchangeRedPacketLayer.prefab.1":"\u4f7f\u7528\u593a\u5b9d\u5238","ExchangeRedPacketLayer.1":"\u798f\u5361\uff1a","ExchangeRedPacketLayer.2":"\u5151\u6362","ExchangeRedPacketLayer.3":"\u7ea2\u5305\u4e0d\u8db3","ExchangeRedPacketLayer.4":"\u662f\u5426\u5151\u6362?","ExchangeRedPacketLayer.5":"\u5151\u6362\u6210\u529f","ExchangeRedPacketLayer.6":"\u606d\u559c\u73a9\u5bb6<color=#0fffff>","ExchangeRedPacketLayer.7":"</color>\u5151\u6362","NewGuideLayer0.prefab.1":"\u55e8\uff01\u6b22\u8fce\u6765\u5230\u6355\u9c7c\u7684\u4e16\u754c!\n\u5728\u8fd9\u91cc\u53ef\u4ee5\u83b7\u5f97\u514d\u8d39\u7684\u7ea2\u5305\u54e6\uff01\n\u6211\u4eec\u70b9\u51fb","NewGuideLayer0.prefab.2":"\u798f\u5361\u573a","NewGuideLayer0.prefab.3":"\u53bb\u8d62\u7ea2\u5305\u5427\u3002","NewGuideLayer1.prefab.1":"\u53d1\u70ae\u53ef\u79ef\u6512\u798f\u5361\u80fd\u91cf\u9886\u798f\u5361\u54e6\uff01\n\u5feb\u770b\uff0c\u798f\u5361\u80fd\u91cf\u9a6c\u4e0a\u5c31\u8981\u6ee1\u4e86\u3002","NewGuideLayer1.prefab.2":"\u70b9\u51fb\u5c4f\u5e55\u53d1\u70ae\u8bd5\u8bd5\u5427\uff01","NewGuideLayer2.prefab.1":"\u70b9\u51fb\u6b64\u5904\u53ef\u4ee5\u67e5\u770b\u66f4\u591a\u6863\n\u4f4d\u798f\u5361\u4fe1\u606f\u54e6\uff01","NewGuideLayer3.prefab.1":"\u606d\u559c\u60a8\u83b7\u5f97\u4e00\u4e2a\n\u8ba9\u6211\u4eec\u5148\u6253\u5f00\u8fd9\u4e2a\u798f\u5361\u5427\uff01\n \u798f\u5361\u53ef\u76f4\u63a5\u5151\u6362\u81f3\u5fae\u4fe1\u54e6\uff01","NewGuideLayer3.prefab.2":"\u65b0\u624b\u798f\u5361","NewGuideLayer5.prefab.1":"\u70b9\u51fb\u6b64\u5904\u6253\u5f00\u65b0\u624b\u8c6a\u793c\u3002","NewGuideLayer6.prefab.1":"\u70b9\u51fb\u6b64\u5904\u9886\u53d6\u65b0\u624b\u8c6a\u793c\u5956\u52b1\u3002","GameToolProxy.1":"\u6b63\u5728\u65ad\u7ebf\u91cd\u8fde","OutRoomView.1":"\u8239\u957f,\u60a8\u53ea\u9700\u8981\u518d\u53d1\u5c04<color=#D57520>","OutRoomView.2":"</c>\u70ae\u5c31\u53ef\u4ee5\u83b7\u5f97\u7ea2\u5305\u5566\uff01\u662f\u5426\u7ee7\u7eed\u5f00\u70ae\uff1f","tanchukuang.prefab.1":" \u771f\u7684\u8981\u79bb\u5f00\u4e86\u5417\uff1f","fishUiLayer.1":"\u51b0\u51bb\u9700\u8981vip1\u624d\u80fd\u4f7f\u7528","fishUiLayer.2":"\u6025\u901f\u9700\u8981vip1\u624d\u80fd\u4f7f\u7528","fishUiLayer.3":"\u9501\u5b9a\u9700\u8981vip1\u624d\u80fd\u4f7f\u7528","fishUiLayer.Tip1":"\u6280\u80fd\u4e0d\u8db3\uff08\u8bf7\u68c0\u67e5\u4f7f\u7528\u6570\u91cf\uff09","fishUiLayer.Tip2":"\u9c7c\u96f7\u4e0d\u8db3\uff08\u8bf7\u68c0\u67e5\u4f7f\u7528\u6570\u91cf\uff09","fishUiLayer.Tip3":"\u8be5\u6280\u80fd\u51b7\u5374\u4e2d","CompetitionRoomRink.prefab.1":"\u5468\u79ef\u5206\uff1a","CompetitionRoomRink.prefab.2":"\u65e5\u79ef\u5206\uff1a","CompetitionRoomRink.prefab.3":"\u4eca\u65e5\u6392\u540d\uff1a","CompetitionRoomRink.prefab.4":"\u6bd4\u8d5b\u65f6\u95f4\uff1a","CompetitionRoomRink.prefab.5":"\u79ef\u5206\uff1a","CompetitionRoomRink.prefab.6":"\u6392\u540d\u6bcf10\u5206\u949f\u5237\u65b0\u4e00\u6b21","CompetitionRoomOver.prefab.1":"\u83b7\u5f97\u79ef\u5206\uff1a","CompetitionRoomOver.prefab.2":"\u83b7\u5f97\u5956\u52b1\uff1a","CompetitionRoomOver.prefab.3":"\u6bd4\u8d5b\u7ed3\u675f","CompetitionRoomBuy.prefab.1":"\u5269\u4f59\u91d1\u5e01\uff1a","CompetitionRoomBuy.prefab.2":"\u4ec5\u53ef\u5151\u6362\u4e00\u6b21\uff0c\u5151\u6362\u7684\u5b50\u5f39\u4ec5\u5728\u672c\u573a\u6bd4\u8d5b\u6709\u6548","CompetitionRoomBuy.prefab.3":"\u91d1\u5e01                 \u5b50\u5f39","CompetitionRoomBuy.prefab.4":"\u8865\u5145\u5b50\u5f39","CompetitionRoomBuy.prefab.5":"\u7ed3\u675f\u6bd4\u8d5b","CompetitionRoomBuy.prefab.6":"\u786e\u8ba4\u5151\u6362","game_resource.prefab.1":"\u79ef\u5206","redPacketShowAni_0.prefab.1":"\u606d\u559c\u83b7\u5f97","redPacketShowAni_0.prefab.2":"\u798f\u5361","EmailSystemLayer.prefab.1":"\u4fe1\u606f\u6700\u591a\u4fdd\u5b58\u6700\u8fd160\u6761","UserInfoLayer.1":"\u9c7c\u96f7\u6570\u91cf\u4e0d\u8db3","UserInfoLayer.2":"\u8d60\u9001\u9c7c\u96f7\u9700\u8981VIP1\u53ca\u4ee5\u4e0a","shopLayer.1":"\u8d2d\u4e70\u6210\u529f","SendPacketItemLayer.1":"\u73a9\u5bb6id\u53ea\u80fd\u662f\u6570\u5b57","ExchangeRedPacketLayer2.1":"\u60a8\u7684\u593a\u5b9d\u5238\u4e0d\u8db3","ExchangeRedPacketLayer2.2":"\u5151\u6362\u6210\u529f,\u83b7\u5f97","ExchangeRedPacketLayer2.3":"\u91d1\u5e01","CompetitionRoomRinkView.1":"\u6311\u6218\u6b21\u6570\u4e0d\u8db3","GameLobbyLoginUI.1":"\u6355\u9c7c","fishPlayer.1":"\u60a8\u7684\u91d1\u5e01\u4e0d\u8db3\u662f\u5426\u524d\u5f80\u5145\u503c\uff1f","fishPlayer.2":"\u9700\u8981\u81f3\u5c11\u643a\u5e26","fishPlayer.3":"\u91d1\u5e01\u624d\u53ef\u589e\u52a0\u70ae\u53f0\u500d\u6570","fishjiFenBanMatch.1":"\u5df2\u5b8c\u6210","fishAnimationLayer.1":"\u66b4\u51fb*","fishAnimationLayer.2":"\u500d","fishAnimationLayer.3":"\u83b7\u5f97","fishAnimationLayer.4":"\u5f20\u593a\u5b9d\u5238","LotteryTicketTitle.prefab.1":"\u6211\u7684\u593a\u5b9d\u5238\uff1a","LotteryTicketTitle.prefab.2":"\u4f7f\u7528\u9c7c\u96f7\u6709\u6982\u7387\u83b7\u5f97\u593a\u5b9d\u5238","RedPacketRule.prefab.1":"\u53ef\u83b7\u5f970.1\u5f20\uff0c0.2\u5f20\uff0c0.3\u5f20\uff0c1\u5f20\u56db\u79cd\u5956\u52b1","RedPacketRule.prefab.2":"\u53ef\u83b7\u5f971\u5f20\uff0c2\u5f20\uff0c3\u5f20\uff0c8\u5f20\u56db\u79cd\u5956\u52b1","RedPacketRule.prefab.3":"\u53ef\u83b7\u5f974\u5f20\uff0c8\u5f20\uff0c12\u5f20\uff0c88\u5f20\u56db\u79cd\u5956\u52b1","RedPacketRule.prefab.4":"\u5728\u51fb\u6740\u9c7c\u83b7\u5f97\u91d1\u5e01\u7684\u540c\u65f6\uff0c\u53ef\u989d\u5916\u83b7\u5f97\u62bd\u798f\u5361\u673a\u4f1a\uff0c\u798f\u5361\u80fd\u91cf\u6761\u8fbe\u5230\u5bf9\u5e94\u6863\u6b21\u65f6\u53ef\u62bd\u53d6\u798f\u5361\uff0c<color=#FFFF00>\u6700\u9ad8\u53ef\u83b7\u5f9788\u5f20\u798f\u5361</color>\uff0c\u70ae\u53f0\u500d\u6570\u8d8a\u9ad8\uff0c\u798f\u5361\u80fd\u91cf\u6761\u8fdb\u5ea6\u589e\u52a0\u8d8a\u5feb\uff0c\u9000\u51fa\u6e38\u620f\u8fdb\u5ea6\u4fdd\u5b5830\u5206\u949f\u3002","ExchangeRedPacketLayer2.prefab.1":"\u5269\u4f59\u593a\u5b9d\u5238\uff1a","ExchangeRedPacketLayer2.prefab.2":"\u593a\u5b9d\u5238                      \u91d1\u5e01","ExchangeRedPacketLayer2.prefab.3":"1\u593a\u5b9d\u5238=2\u4e07\u91d1\u5e01","RegistAccountLayer.1":"\u624b\u673a\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01","RegistAccountLayer.2":"\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7\u7801\uff01","RegistAccountLayer.3":"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u624b\u673a\u53f7\u7801\uff01","RegistAccountLayer.4":"\u83b7\u53d6\u9a8c\u8bc1\u7801","RegistAccountLayer.5":"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01","RegistAccountLayer.6":"\u9a8c\u8bc1\u7801\u53ea\u80fd\u662f\u6570\u5b57","RedPacketOpen.prefab.1":"\u5b8c\u6210\u8be5\u798f\u5361\u8fdb\u5ea6\u81ea\u52a8\u62bd\u53d6\u798f\u5361"},cc._RF.pop()},{}]},{},["FishFacade","InitFishFacade","GameLobbyLoginProtocol","GameLobbyProtocol","EnterGameScenceCommand","FishPrepControllerCommand","FishPrepModelCommand","FishStartUpCommand","GameLobbyLoginCommand","AudioConf_520","SpineConfig_520","UIModuleInfo_520","gameConfig","GameProtocol","Game_520_Proxy","gameModel_520","BonusLayer","GameHelpLayer","GameSpinLayer","GameSpinReel","GameViewLayer","GameCommand","GameTableCommand","GameProxy","GameTableDataManager","GameTableProtocol","GameTableProxy","gameModel","gameUIManager","Fillbackground","GameView","gameLayer","tipView_game","LabelLocalized","RichTextLocalized","en","zh","i18n","polyglot","FishGlobalData","FishGlobalDataProxy","GameListData","GameListDataProxy","GameLobbyLoginProxy","ActionEx","Help","MaskEx","Noise","Ripple","RippleFishFightScene","lightLineMesh","GameLobbyLoginUI","LoadingLogic"]);
//# sourceMappingURL=index.js.map
